(()=>{var e={};e.id=268,e.ids=[268],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6576:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/edit-article/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/edit-article/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,r,t)=>{"use strict";var a=t(65773);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},18955:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s,viewport:()=>a});let a={width:"device-width",initialScale:1};function s({children:e}){return e}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},45177:(e,r,t)=>{Promise.resolve().then(t.bind(t,99473))},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},77081:e=>{e.exports={articleFormContainer:"ArticleForm_articleFormContainer__Oamhm",articleFormHeader:"ArticleForm_articleFormHeader__lPvz4",articleFormTitle:"ArticleForm_articleFormTitle__GQZ6U",articleFormSubtitle:"ArticleForm_articleFormSubtitle__d0K2B",articleForm:"ArticleForm_articleForm__aPoqs",formGroup:"ArticleForm_formGroup__NG8OF",formLabel:"ArticleForm_formLabel__DP5Fz",optionalLabel:"ArticleForm_optionalLabel__C_B1S",formControl:"ArticleForm_formControl__mBao_",formTextarea:"ArticleForm_formTextarea__ZsknF",formActions:"ArticleForm_formActions__WqypQ",cancelButton:"ArticleForm_cancelButton__OAgVI",submitButton:"ArticleForm_submitButton__o9hsW",errorAlert:"ArticleForm_errorAlert__1DQ3x",errorIcon:"ArticleForm_errorIcon___YV5p",imagePreview:"ArticleForm_imagePreview__92eKB",tagsPreview:"ArticleForm_tagsPreview__48G_v",tag:"ArticleForm_tag__MTDKK",statusDropdown:"ArticleForm_statusDropdown__FfXJV",characterCount:"ArticleForm_characterCount__IqdJb",characterWarning:"ArticleForm_characterWarning__ZKaNu",formHint:"ArticleForm_formHint__h9Deh",loading:"ArticleForm_loading__EUkeX",loadingSpinner:"ArticleForm_loadingSpinner__iaWlv",spin:"ArticleForm_spin__reKcv"}},78151:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=t(65239),s=t(48088),i=t(88170),l=t.n(i),o=t(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(r,n);let c={children:["",{children:["edit-article",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6576)),"/Users/sirabdisalam/journalite-article-page/src/app/edit-article/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,18955)),"/Users/sirabdisalam/journalite-article-page/src/app/edit-article/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/sirabdisalam/journalite-article-page/src/app/edit-article/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/edit-article/page",pathname:"/edit-article",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},92377:(e,r,t)=>{Promise.resolve().then(t.bind(t,6576))},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{},99473:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var a=t(60687),s=t(43210),i=t(16189);t(84245);var l=t(43649),o=t(85814),n=t.n(o),c=t(79440),d=t(77081),u=t.n(d);let m=({articleId:e})=>{let[r,t]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[x,v]=(0,s.useState)("published"),[_,f]=(0,s.useState)(!1),[j,b]=(0,s.useState)(!0),[F,N]=(0,s.useState)(""),[y,A]=(0,s.useState)(0),[P,C]=(0,s.useState)(""),S=(0,i.useRouter)();(0,s.useEffect)(()=>{A(o.length)},[o]),(0,s.useEffect)(()=>{let r=async()=>{try{b(!0);let r=await (0,c.zE)(e);t(r.title),d(r.body),p(r.tags?.join(", ")||""),g(r.coverImage||""),v(r.status||"published"),C(r.slug||""),A(r.body.length)}catch(e){console.error("Error loading article:",e),N("Failed to load article data")}finally{b(!1)}};e&&r()},[e]);let q=async t=>{if(t.preventDefault(),!r||!o)return void N("Title and content are required");if(!l.j2.currentUser)return void N("You must be logged in to edit an article");try{f(!0),N("");let t=m.split(",").map(e=>e.trim()).filter(e=>""!==e),a={title:r,body:o,tags:t,status:x};""!==h.trim()&&(a.coverImage=h);let s=await (0,c.iZ)(e,a);"published"===x?S.push(`/articles?slug=${s.slug}`):S.push("/my-thoughts")}catch(e){console.error("Error updating article:",e),N("Failed to update article. Please try again.")}finally{f(!1)}},w=["Consider adding more details to make your content more engaging","Re-read your article for clarity before publishing","Use descriptive language to paint a picture for your readers","Update your tags to reach a wider audience"],L=w[Math.floor(Math.random()*w.length)];return j?(0,a.jsx)("div",{className:u().articleFormContainer,children:(0,a.jsxs)("div",{className:u().loading,children:[(0,a.jsx)("div",{className:u().loadingSpinner}),(0,a.jsx)("span",{children:"Loading article data..."})]})}):(0,a.jsxs)("div",{className:u().articleFormContainer,children:[(0,a.jsxs)("div",{className:u().articleFormHeader,children:[(0,a.jsx)("h1",{className:u().articleFormTitle,children:"Edit Your Story"}),(0,a.jsx)("p",{className:u().articleFormSubtitle,children:"Refine your thoughts and make your article shine"})]}),F&&(0,a.jsxs)("div",{className:u().errorAlert,children:[(0,a.jsx)("span",{className:u().errorIcon,children:"⚠️"}),(0,a.jsx)("span",{children:F})]}),(0,a.jsxs)("form",{onSubmit:q,className:u().articleForm,children:[(0,a.jsxs)("div",{className:u().formGroup,children:[(0,a.jsx)("label",{htmlFor:"title",className:u().formLabel,children:"Title"}),(0,a.jsx)("input",{type:"text",id:"title",value:r,onChange:e=>t(e.target.value),required:!0,placeholder:"Enter a captivating title for your article...",className:u().formControl,maxLength:100}),(0,a.jsx)("div",{className:u().formHint,children:"A good title is clear, specific, and engaging"})]}),(0,a.jsxs)("div",{className:u().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"coverImage",className:u().formLabel,children:["Cover Image URL ",(0,a.jsx)("span",{className:u().optionalLabel,children:"optional"})]}),(0,a.jsx)("input",{type:"url",id:"coverImage",value:h,onChange:e=>g(e.target.value),placeholder:"https://example.com/image.jpg",className:u().formControl}),(0,a.jsx)("div",{className:u().formHint,children:"A striking image can increase engagement with your article"}),h&&(0,a.jsx)("div",{className:u().imagePreview,children:(0,a.jsx)("img",{src:h,alt:"Cover preview"})})]}),(0,a.jsxs)("div",{className:u().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"tags",className:u().formLabel,children:["Tags ",(0,a.jsx)("span",{className:u().optionalLabel,children:"comma separated"})]}),(0,a.jsx)("input",{type:"text",id:"tags",value:m,onChange:e=>p(e.target.value),placeholder:"technology, news, science, learning",className:u().formControl}),(0,a.jsx)("div",{className:u().formHint,children:"Tags help readers discover your content"}),m&&(0,a.jsx)("div",{className:u().tagsPreview,children:m.split(",").map((e,r)=>e.trim()&&(0,a.jsx)("span",{className:u().tag,children:e.trim()},r))})]}),(0,a.jsxs)("div",{className:`${u().formGroup} ${u().statusDropdown}`,children:[(0,a.jsx)("label",{htmlFor:"status",className:u().formLabel,children:"Status"}),(0,a.jsxs)("select",{id:"status",value:x,onChange:e=>v(e.target.value),className:u().formControl,children:[(0,a.jsx)("option",{value:"published",children:"Published (visible to everyone)"}),(0,a.jsx)("option",{value:"drafts",children:"Save as Draft (only visible to you)"})]}),(0,a.jsx)("div",{className:u().formHint,children:"published"===x?"Your article will be visible to all users":"Only you can see your draft until you publish it"})]}),(0,a.jsxs)("div",{className:u().formGroup,children:[(0,a.jsx)("label",{htmlFor:"body",className:u().formLabel,children:"Content"}),(0,a.jsx)("textarea",{id:"body",value:o,onChange:e=>d(e.target.value),required:!0,placeholder:"Write your article content here. Provide valuable insights, share your experience, or tell a compelling story...",className:u().formTextarea,rows:15}),(0,a.jsx)("div",{className:u().characterCount,children:(0,a.jsxs)("span",{className:y>3e3?u().characterWarning:"",children:[y," characters"]})}),(0,a.jsx)("div",{className:u().formHint,children:(0,a.jsxs)("span",{children:["✨ Tip: ",L]})})]}),(0,a.jsxs)("div",{className:u().formActions,children:[(0,a.jsx)(n(),{href:"/my-thoughts",className:u().cancelButton,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:u().submitButton,disabled:_,children:_?"Saving...":"Save Changes"})]})]})]})};var p=t(5062),h=t.n(p);function g(){let e=(0,i.useSearchParams)(),r=e?.get("id")||"",[t,l]=(0,s.useState)(!1),[o,n]=(0,s.useState)(!0);return((0,i.useRouter)(),o)?(0,a.jsx)("div",{className:h().container,children:(0,a.jsx)("div",{className:h().loading,children:"Loading..."})}):t?r?(0,a.jsx)(m,{articleId:r}):(0,a.jsx)("div",{className:h().container,children:(0,a.jsx)("div",{className:h().loading,children:"No article ID provided."})}):(0,a.jsx)("div",{className:h().container,children:(0,a.jsx)("div",{className:h().loading,children:"Please log in to edit articles."})})}function x(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:h().container,children:(0,a.jsx)("div",{className:h().loading,children:"Loading..."})}),children:(0,a.jsx)(g,{})})}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[476,948,637,947],()=>t(78151));module.exports=a})();