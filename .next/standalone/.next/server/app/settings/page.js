(()=>{var e={};e.id=662,e.ids=[662],e.modules={1571:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(65239),a=r(48088),n=r(88170),o=r.n(n),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c={children:["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74198)),"/Users/sirabdisalam/journalite-article-page/src/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/sirabdisalam/journalite-article-page/src/app/settings/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,t,r)=>{"use strict";var s=r(65773);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34419:(e,t,r)=>{Promise.resolve().then(r.bind(r,74198))},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},49048:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,Ci:()=>b,E$:()=>f,OQ:()=>i,Qt:()=>h,SR:()=>g,VM:()=>c,Vz:()=>l,e_:()=>d,mH:()=>p,pV:()=>x,x5:()=>m});var s=r(75535),a=r(84245),n=r(43649),o=r(28163);async function i(e){try{let t=(0,s.P)((0,s.rJ)(n.db,"users"),(0,s._M)("username","==",e.toLowerCase()));return!(await (0,s.GG)(t)).empty}catch(e){throw console.error("Error checking username:",e),e}}async function l(e,t){try{let r=await c(e);if(r){console.log("User profile already exists, updating instead of creating");let o=(0,s.H9)(n.db,"users",e);await (0,s.mZ)(o,{firstName:t.firstName,lastName:t.lastName,username:t.username.toLowerCase(),email:t.email.toLowerCase(),bio:t.bio||r.bio||""}),n.j2.currentUser&&await (0,a.r7)(n.j2.currentUser,{displayName:t.username});return}let o=(0,s.P)((0,s.rJ)(n.db,"users"),(0,s._M)("email","==",t.email.toLowerCase()));if(!(await (0,s.GG)(o)).empty)throw Error("Email is already associated with another account");if(await i(t.username))throw Error("Username is already taken");let l=(0,s.H9)(n.db,"users",e);await (0,s.BN)(l,{uid:e,firstName:t.firstName,lastName:t.lastName,username:t.username.toLowerCase(),email:t.email.toLowerCase(),bio:t.bio||"",createdAt:(0,s.O5)()}),n.j2.currentUser&&await (0,a.r7)(n.j2.currentUser,{displayName:t.username})}catch(e){throw console.error("Error creating user profile:",e),e}}async function c(e){try{let t=(0,s.H9)(n.db,"users",e),r=await (0,s.x7)(t);if(r.exists())return r.data();return null}catch(e){throw console.error("Error fetching user profile:",e),e}}async function d(e){if(!e)return null;try{let t=(0,s.P)((0,s.rJ)(n.db,"users"),(0,s._M)("email","==",e.toLowerCase()),(0,s.AB)(1)),r=await (0,s.GG)(t);if(!r.empty)return r.docs[0].data();return null}catch(e){throw console.error("Error fetching user profile by email:",e),e}}async function u(e,t){try{let r=(0,s.H9)(n.db,"users",e);await (0,s.mZ)(r,{interests:t}),console.log(`Interests updated for user ${e}:`,t)}catch(e){throw console.error("Error updating user interests:",e),e}}async function m(e){try{if(!e||e.trim().length<2)return[];let t=e.toLowerCase().trim(),r=(0,s.rJ)(n.db,"users");return(await (0,s.GG)(r)).docs.map(e=>e.data()).filter(e=>{let r=e.username.toLowerCase(),s=e.firstName.toLowerCase(),a=e.lastName.toLowerCase(),n=`${s} ${a}`;return r.includes(t)||s.includes(t)||a.includes(t)||n.includes(t)})}catch(e){return console.error("Error searching users:",e),[]}}async function x(e,t){try{if(e===t)throw Error("You cannot follow yourself");let r=(0,s.H9)(n.db,"users",e);await (0,s.mZ)(r,{following:(0,s.hq)(t),followingCount:(0,s.GV)(1)});let a=(0,s.H9)(n.db,"users",t);await (0,s.mZ)(a,{followers:(0,s.hq)(e),followersCount:(0,s.GV)(1)});let i=await (0,s.x7)(r);if(i.exists()){let r=i.data();await (0,o.N9)(t,`${r.firstName} ${r.lastName}`,e,r.username)}}catch(e){throw console.error("Error following user:",e),e}}async function h(e,t){try{let r=(0,s.H9)(n.db,"users",e);await (0,s.mZ)(r,{following:(0,s.C3)(t),followingCount:(0,s.GV)(-1)});let a=(0,s.H9)(n.db,"users",t);await (0,s.mZ)(a,{followers:(0,s.C3)(e),followersCount:(0,s.GV)(-1)})}catch(e){throw console.error("Error unfollowing user:",e),e}}async function f(e,t){try{let r=(0,s.H9)(n.db,"users",e),a=await (0,s.x7)(r);if(!a.exists())return!1;let o=a.data();return o.following?.includes(t)||!1}catch(e){throw console.error("Error checking follow status:",e),e}}async function p(e,t=50){try{let r=(0,s.H9)(n.db,"users",e),a=await (0,s.x7)(r);if(!a.exists())return[];let o=a.data().following||[];if(0===o.length)return[];let i=[],l=Math.min(o.length,t);for(let e=0;e<l;e++){let t=o[e],r=(0,s.H9)(n.db,"users",t),a=await (0,s.x7)(r);a.exists()&&i.push(a.data())}return i}catch(e){throw console.error("Error getting following list:",e),e}}async function g(e,t=50){try{let r=(0,s.H9)(n.db,"users",e),a=await (0,s.x7)(r);if(!a.exists())return[];let o=a.data().followers||[];if(0===o.length)return[];let i=[],l=Math.min(o.length,t);for(let e=0;e<l;e++){let t=o[e],r=(0,s.H9)(n.db,"users",t),a=await (0,s.x7)(r);a.exists()&&i.push(a.data())}return i}catch(e){throw console.error("Error getting followers list:",e),e}}async function b(e){try{let t=(0,s.H9)(n.db,"users",e);await (0,s.kd)(t),console.log(`User profile for UID ${e} deleted from Firestore.`);let r=n.j2.currentUser;if(r&&r.uid===e)await (0,a.hG)(r),console.log(`User account for UID ${e} deleted from Firebase Authentication.`);else if(r)throw console.error("Current authenticated user does not match UID to be deleted."),Error("Mismatch between authenticated user and account to be deleted.");else throw console.error("No current user authenticated. Cannot delete Firebase Auth user."),Error("Authentication required to delete account.")}catch(e){if(console.error("Error deleting user account:",e),"auth/requires-recent-login"===e.code)throw Error("This operation is sensitive and requires recent authentication. Please sign out and sign back in, then try again.");throw Error("Failed to delete user account. "+e.message)}}},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},74198:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/settings/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/settings/page.tsx","default")},74992:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(60687),a=r(43210),n=r(16189),o=r(85814),i=r.n(o),l=r(43649),c=r(84245),d=r(49048);let u=["Technology","Science","Art & Design","Books & Literature","Travel","Food & Cooking","Health & Wellness","Sports","Music","Movies & TV","Gaming","Fashion","Business & Finance","History","Politics","Photography"];function m(){let[e,t]=(0,a.useState)(null),[r,o]=(0,a.useState)(null),[m,x]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(""),[b,w]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[j,v]=(0,a.useState)(""),[C,k]=(0,a.useState)(!1),[P,q]=(0,a.useState)(null),[S,U]=(0,a.useState)(!1),[E,A]=(0,a.useState)({}),[F,H]=(0,a.useState)({}),[M,G]=(0,a.useState)(!1),[L,_]=(0,a.useState)(!1),[$,z]=(0,a.useState)(!0),[B,I]=(0,a.useState)(""),[V,T]=(0,a.useState)(""),[D,R]=(0,a.useState)(""),[Z,Y]=(0,a.useState)(""),W=(0,n.useRouter)(),J=e=>{R(""),I(""),x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},O=async()=>{if(!e)return void I("User not authenticated. Please log in again.");if(m.length<3){I("Please select at least 3 interests."),R("");return}f(!0),I(""),R("");try{await (0,d.Ay)(e.uid,m),R("Your interests have been updated successfully!"),r&&o({...r,interests:m})}catch(e){console.error("Failed to update interests:",e),I("Failed to update interests. Please try again.")}finally{f(!1)}},Q=e=>{let{name:t,value:r}=e.target;if(Y(""),T(""),"firstName"===t&&g(r),"lastName"===t&&w(r),"username"===t&&N(r),"bio"===t&&v(r),A({...E,[t]:!0}),r.trim()||"firstName"!==t&&"lastName"!==t&&"username"!==t){let e={...F};delete e[t],H(e)}else H({...F,[t]:`Your ${t.replace(/([A-Z])/g," $1").toLowerCase()} is required.`})},K=e=>{let{name:t,value:r}=e.target;if(A({...E,[t]:!0}),r.trim()||"firstName"!==t&&"lastName"!==t&&"username"!==t)if("username"===t&&r.length<2)H({...F,[t]:"Username must be at least 2 characters."});else{let e={...F};delete e[t],H(e)}else H({...F,[t]:`Your ${t.replace(/([A-Z])/g," $1").toLowerCase()} is required.`})},X=()=>{let e={},t=!0;return p.trim()||(e.firstName="First name is required.",t=!1),b.trim()||(e.lastName="Last name is required.",t=!1),y.trim()?y.length<2?(e.username="Username must be at least 2 characters.",t=!1):!1===P&&y!==r?.username&&(e.username="This username is already taken.",t=!1):(e.username="Username is required.",t=!1),H(e),A({firstName:!0,lastName:!0,username:!0,bio:!0}),t},ee=async()=>{if(!e||!r)return void T("User data not available. Please try again.");if(X()){U(!0),T(""),Y("");try{await (0,d.Vz)(e.uid,{firstName:p,lastName:b,username:y,email:r.email,bio:j,interests:m}),Y("Profile information updated successfully!"),o(e=>e?{...e,firstName:p,lastName:b,username:y,bio:j}:null)}catch(e){console.error("Failed to update profile:",e),e.message?.includes("Username is already taken")?(H({...F,username:"This username is already taken."}),T("This username is already taken. Please choose another.")):T("Failed to update profile information. Please try again.")}finally{U(!1)}}},et=(e,t,r=null)=>{let s="w-full px-4 py-3 bg-white border border-neutral-300 rounded-lg shadow-sm transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-amber-500 focus:border-amber-500 placeholder-neutral-400 text-neutral-700";return t?`${s} border-red-400 focus:ring-red-400 focus:border-red-400 bg-red-50 text-red-700 placeholder-red-400`:"username"===e&&y.length>=2&&!0===r?`${s} border-green-400 focus:ring-green-400 focus:border-green-400 bg-green-50 text-green-700 placeholder-green-400`:`${s} hover:border-neutral-400`},er=async()=>{if(!e){I("User not authenticated. Please re-login."),G(!1);return}_(!0),I(""),T("");try{await (0,d.Ci)(e.uid),await (0,c.CI)(l.j2),W.push("/login?accountDeleted=true")}catch(e){console.error("Failed to delete account:",e),e.message.includes("requires recent authentication")?I("This action requires you to have signed in recently. Please sign out, sign back in, and try again."):I("Failed to delete your account. Please try again or contact support.")}finally{_(!1),B||G(!1)}};return $?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-stone-100 to-amber-100 flex items-center justify-center font-sans",children:(0,s.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-amber-500 rounded-full border-t-transparent"})}):e&&r?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-stone-100 to-amber-100 flex flex-col items-center p-4 sm:p-6 md:p-8 font-sans relative",children:[(0,s.jsx)("div",{className:"absolute top-4 left-4 sm:top-6 sm:left-6 z-10",children:(0,s.jsxs)(i(),{href:"/",className:"flex items-center text-stone-600 hover:text-amber-600 transition-colors duration-200 group",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Back to Home"})]})}),(0,s.jsxs)("div",{className:"w-full max-w-3xl bg-white p-6 sm:p-8 md:p-10 rounded-xl shadow-2xl mt-12 sm:mt-16",children:[(0,s.jsx)("h1",{className:"text-3xl sm:text-4xl font-serif font-medium text-stone-800 mb-3 text-center",children:"Account Settings"}),(0,s.jsx)("p",{className:"text-stone-600 text-lg mb-8 md:mb-10 text-center",children:"Manage your preferences and profile details."}),(0,s.jsxs)("section",{id:"profile-info",className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-stone-700 mb-2",children:"Profile Information"}),(0,s.jsx)("p",{className:"text-stone-500 text-sm mb-6",children:"Update your name, username, and bio."}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ee()},className:"space-y-5",noValidate:!0,children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-stone-600 mb-1",children:"First Name"}),(0,s.jsx)("input",{id:"firstName",name:"firstName",type:"text",value:p,onChange:Q,onBlur:K,className:et("firstName",!!F.firstName),required:!0}),E.firstName&&F.firstName&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:F.firstName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-stone-600 mb-1",children:"Last Name"}),(0,s.jsx)("input",{id:"lastName",name:"lastName",type:"text",value:b,onChange:Q,onBlur:K,className:et("lastName",!!F.lastName),required:!0}),E.lastName&&F.lastName&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:F.lastName})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-stone-600 mb-1",children:"Username"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"username",name:"username",type:"text",value:y,onChange:Q,onBlur:K,className:et("username",!!F.username,P),required:!0}),C&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-stone-400 rounded-full border-t-transparent"})}),!C&&y.length>=2&&!0===P&&y!==r?.username&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.username&&F.username&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:F.username}),!F.username&&y.length>=2&&!0===P&&y!==r?.username&&(0,s.jsx)("p",{className:"mt-1 text-xs text-green-500",children:"Username is available"}),!F.username&&y.length>=2&&!1===P&&y!==r?.username&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:"Username is already taken"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-stone-600 mb-1",children:"Bio"}),(0,s.jsx)("textarea",{id:"bio",name:"bio",rows:3,value:j,onChange:Q,onBlur:K,className:et("bio",!!F.bio),placeholder:"Tell us a little about yourself..."}),E.bio&&F.bio&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:F.bio})]}),V&&(0,s.jsx)("p",{className:"my-2 p-3 bg-red-100 text-red-700 text-sm rounded-lg border border-red-200 animate-fadeIn text-center",children:V}),Z&&(0,s.jsx)("p",{className:"my-2 p-3 bg-green-100 text-green-700 text-sm rounded-lg border border-green-200 animate-fadeIn text-center",children:Z}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-2.5 bg-stone-800 text-white rounded-lg shadow-md hover:bg-stone-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-all duration-200 ease-in-out transform hover:scale-[1.01] active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed",disabled:S,children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving Profile..."]}):"Save Profile Changes"})})]})]}),(0,s.jsx)("hr",{className:"my-10 border-stone-300"}),(0,s.jsxs)("section",{id:"interests",className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-stone-700 mb-2",children:"Your Interests"}),(0,s.jsx)("p",{className:"text-stone-500 text-sm mb-6",children:"Select topics that you care about to help us personalize your experience. Choose at least 3."}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-3 sm:gap-4 mb-8",children:u.map(e=>(0,s.jsx)("button",{className:`
                    px-5 py-2.5 sm:px-6 sm:py-3 rounded-full text-sm sm:text-base font-medium transition-all duration-200 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 
                    ${m.includes(e)?"bg-amber-500 text-white shadow-md scale-105":"bg-white text-stone-700 border border-stone-300 hover:bg-stone-50 hover:border-stone-400 hover:shadow-sm active:scale-95"}`,onClick:()=>J(e),children:e},e))}),B&&(0,s.jsxs)("p",{className:"my-4 p-3 bg-red-100 text-red-700 text-sm rounded-lg border border-red-200 animate-fadeIn text-center",children:[B," "]}),D&&(0,s.jsxs)("p",{className:"my-4 p-3 bg-green-100 text-green-700 text-sm rounded-lg border border-green-200 animate-fadeIn text-center",children:[D," "]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{className:"w-full max-w-xs flex items-center justify-center px-6 py-3.5 bg-stone-800 text-white rounded-lg shadow-md hover:bg-stone-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-all duration-200 ease-in-out transform hover:scale-[1.01] active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed",onClick:O,disabled:h||m.length<3,children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving Interests..."]}):"Save Interest Changes"})})]}),(0,s.jsx)("hr",{className:"my-10 border-stone-300"}),(0,s.jsxs)("section",{id:"account-management",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-stone-700 mb-4",children:"Account Management"}),(0,s.jsx)("p",{className:"text-stone-600 text-sm mb-6",children:"Manage your account settings or take critical actions."}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-md font-medium text-stone-700",children:"Change Email or Password"}),(0,s.jsx)("p",{className:"text-xs text-stone-500 mb-2",children:"Functionality to update your email or password will be available here soon."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-md font-medium text-red-600",children:"Delete Account"}),(0,s.jsx)("p",{className:"text-xs text-stone-500 mb-3",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,s.jsx)("button",{onClick:()=>{T(""),I(""),G(!0)},className:"px-5 py-2.5 bg-red-600 text-white rounded-lg shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out transform hover:scale-[1.01] active:scale-[0.99] disabled:opacity-70",disabled:h||S||$,children:"Delete My Account"})]})]})]})]}),M&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeIn",children:(0,s.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300 ease-out scale-100 opacity-100",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold text-stone-800 mb-4 text-center",children:"Confirm Account Deletion"}),(0,s.jsx)("p",{className:"text-stone-600 mb-1 text-center",children:"Are you absolutely sure you want to delete your account?"}),(0,s.jsx)("p",{className:"text-sm text-red-600 mb-6 text-center font-medium",children:"This action is permanent and cannot be undone. All your data, including articles, profile information, and interactions, will be removed."}),B&&(0,s.jsx)("p",{className:"my-3 p-2.5 bg-red-100 text-red-700 text-sm rounded-md border border-red-200 text-center",children:B}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 mt-6",children:[(0,s.jsx)("button",{onClick:()=>{G(!1)},disabled:L,className:"w-full sm:w-auto px-6 py-3 bg-stone-200 text-stone-700 rounded-lg hover:bg-stone-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-stone-400 transition-colors duration-200 ease-in-out order-2 sm:order-1",children:"Cancel"}),(0,s.jsx)("button",{onClick:er,disabled:L,className:"w-full sm:w-auto px-6 py-3 bg-red-600 text-white rounded-lg shadow-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 ease-in-out order-1 sm:order-2 disabled:opacity-70",children:L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Yes, Delete My Account"})]})]})})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-stone-100 to-amber-100 flex flex-col items-center justify-center p-4 font-sans",children:[(0,s.jsx)("p",{className:"text-red-600",children:B||"Could not load user data. Please try refreshing."}),(0,s.jsx)(i(),{href:"/",className:"mt-4 px-4 py-2 bg-stone-700 text-white rounded-md hover:bg-stone-600",children:"Go to Homepage"})]})}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94667:(e,t,r)=>{Promise.resolve().then(r.bind(r,74992))},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[476,948,637],()=>r(1571));module.exports=s})();