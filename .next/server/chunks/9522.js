exports.id=9522,exports.ids=[9522],exports.modules={13164:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(60687),o=r(43210),n=r(94497);function l({onImageInsert:e,onVideoInsert:t,editorRef:r,className:l=""}){let[i,s]=(0,o.useState)(!1),[d,c]=(0,o.useState)(0),[u,g]=(0,o.useState)(!1),m=(0,o.useRef)(null),h=(0,o.useCallback)(async r=>{if(!r)return;let a=r.type.startsWith("image/"),o=r.type.startsWith("video/");if(!a&&!o)return void alert("Please upload only images or videos");if(r.size>(a?0xa00000:0x6400000))return void alert(`File too large. Maximum size: ${a?"10MB":"100MB"}`);s(!0),c(0);try{let l=setInterval(()=>{c(e=>Math.min(e+10,90))},200),i=await (0,n.uploadImageViaAPI)(r);clearInterval(l),c(100),a?e(i,r.name):o&&t&&t(i),setTimeout(()=>{c(0),s(!1)},500)}catch(e){console.error("Upload failed:",e),alert("Upload failed. Please try again."),s(!1),c(0)}},[e,t]),p=e=>{e.preventDefault(),e.stopPropagation()},f=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer?.items&&e.dataTransfer.items.length>0&&g(!0)},b=e=>{e.preventDefault(),e.stopPropagation(),g(!1)},x=e=>{e.preventDefault(),e.stopPropagation(),g(!1),e.dataTransfer?.files&&e.dataTransfer.files.length>0&&h(e.dataTransfer.files[0])};return(0,o.useCallback)(e=>{let t=e.clipboardData?.items;if(t){for(let r of Array.from(t))if(r.type.startsWith("image/")){e.preventDefault();let t=r.getAsFile();t&&h(t);break}}},[h]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"file",ref:m,onChange:e=>{let t=e.target.files?.[0];t&&h(t),e.target.value=""},accept:"image/*,video/*",style:{display:"none"}}),u&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(59, 130, 246, 0.1)",border:"3px dashed #3B82F6",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",color:"#3B82F6"},onDragEnter:f,onDragLeave:b,onDragOver:p,onDrop:x,children:"Drop your image or video here"}),i&&(0,a.jsxs)("div",{style:{position:"fixed",top:"20px",right:"20px",backgroundColor:"white",padding:"1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1001,minWidth:"200px"},children:[(0,a.jsx)("div",{style:{marginBottom:"0.5rem",fontWeight:"bold"},children:"Uploading..."}),(0,a.jsx)("div",{style:{width:"100%",height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,a.jsx)("div",{style:{width:`${d}%`,height:"100%",backgroundColor:"#3B82F6",transition:"width 0.3s ease"}})}),(0,a.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:[d,"%"]})]}),(0,a.jsx)("div",{className:l,onDragEnter:f,onDragLeave:b,onDragOver:p,onDrop:x,style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:u?"auto":"none",zIndex:u?999:-1}})]})}},79522:(e,t,r)=>{"use strict";r.d(t,{A:()=>D});var a=r(60687),o=r(76180),n=r.n(o),l=r(43210),i=r.n(l);r(53764);var s=r(35857);r(98031);var d=r(19954),c=r(67800),u=r(51040);r(31224),r(90021),r(23684);var g=r(81553);let m=new g.Sj({nodes:{doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>[`h${e.attrs.level}`,0]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width"),height:e.getAttribute("height")})}],toDOM(e){let{src:t,alt:r,title:a,width:o,height:n}=e.attrs,l={src:t};return null!=r&&(l.alt=r),null!=a&&(l.title=a),null!=o&&(l.width=o),null!=n&&(l.height=n),["img",l]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,attrs:{language:{default:"javascript"}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs(e){let t=e.getAttribute("data-language");if(t)return{language:t};let r=e.querySelector("code");if(r){let e=(r.className||"").match(/language-(\w+)/);if(e)return{language:e[1]}}return{language:"javascript"}},getContent(e,t){let r=e.querySelector("code");if(r){let e=r.textContent||r.innerText||"";return e?[t.text(e)]:[]}return[]}}],toDOM:e=>["pre",{"data-language":e.attrs.language},["code",{class:`language-${e.attrs.language}`},0]]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},bullet_list:{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1})}],toDOM:e=>1==e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]},list_item:{content:"paragraph block*",parseDOM:[{tag:"li"}],toDOM:()=>["li",0],defining:!0}},marks:{strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong",0]},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},link:{attrs:{href:{},title:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title"),target:e.getAttribute("target")})}],toDOM(e){let{href:t,title:r,target:a}=e.attrs,o={href:t};return null!=r&&(o.title=r),null!=a&&(o.target=a),["a",o,0]}}}});function h(e){if(!e||""===e.trim())return m.node("doc",null,[m.node("paragraph")]);let t=document.createElement("div");return t.innerHTML=e,g.S4.fromSchema(m).parse(t)}let p=(e,t)=>(r,a,o)=>{let n=!1;(0,c.T2)(t)(r,a,o)&&(r=o.state,n=!0);let l=e(r,a,o);return n||l},{heading:f,paragraph:b,list_item:x,blockquote:v}=m.nodes,k=e=>p((0,d.y_)(f,{level:e}),x),y=()=>p((0,d.y_)(b),x),w=(e,t,r)=>{let{from:a,to:o}=e.selection,n=!1;return(e.doc.nodesBetween(a,o,e=>e.type!==v||(n=!0,!1)),n)?!!(0,c.T2)(x)(e,t)||(0,d.yY)(e,t):((0,c.T2)(x)(e,t)&&(e=r.state),(0,d.Im)(v)(e,t,r))};new s.k_({key:new s.hs("exitHeading"),props:{handleKeyDown(e,t){if("Enter"!==t.key||t.shiftKey)return!1;let{state:r,dispatch:a}=e,{$from:o,empty:n}=r.selection,{heading:l,paragraph:i}=m.nodes;return!!n&&o.parent.type===l&&o.parentOffset===o.parent.content.size&&(t.preventDefault(),(0,d.y_)(i)(r,a,e))}}}),r(46997),r(57894),r(8990),r(68960),r(36014),r(71454),r(25865),r(92623),r(25119),r(29173),r(65848),r(88224),r(35630),r(14321),r(48541),r(83075),r(29731),r(34425),r(61707),r(11566),r(86908);var _=r(85540),j=r.n(_);let C=i().forwardRef(({articleId:e,initialContent:t="",onChange:o,placeholder:n="Tell your story...",className:s=""},p)=>{let f=(0,l.useRef)(null),b=(0,l.useRef)(null),x=(0,l.useRef)(o),[v,_]=(0,l.useState)(!1);x.current=o;let C=(0,l.useCallback)(e=>{if(!b.current)return;let{state:t,dispatch:r}=b.current,{selection:a}=t,o=m.text(e);r(t.tr.replaceSelectionWith(o)),b.current.focus()},[]),M=(0,l.useCallback)(e=>{if(b.current)try{let{state:t,dispatch:r}=b.current,a=h(e),o=t.tr.replaceSelectionWith(a);r(o),b.current.focus()}catch(t){console.error("Failed to insert HTML:",t),C(e)}},[C]),z=(0,l.useCallback)((e,t="")=>{if(b.current)try{let{state:r,dispatch:a}=b.current,{selection:o}=r,n=m.nodes.image.create({src:e,alt:t,title:t}),l=r.tr.replaceSelectionWith(n);a(l),b.current.focus(),console.log("Image inserted successfully:",e)}catch(e){console.error("Failed to insert image:",e)}},[]);i().useImperativeHandle(p,()=>({insertText:C,insertHTML:M,insertImage:z,focus:()=>b.current?.focus()}),[C,M,z]),(0,l.useEffect)(()=>{},[]),(0,l.useEffect)(()=>{if(b.current&&v&&t){console.log("Editor: Updating content without reinitializing, length:",t.length);try{let e=h(t),r=function(e){let t=document.createElement("div");return t.appendChild(g.ZF.fromSchema(m).serializeFragment(e.content)),t.innerHTML}(b.current.state.doc);if(t!==r){let t=b.current.state.tr.replaceWith(0,b.current.state.doc.content.size,e.content);b.current.dispatch(t),console.log("Editor: Content updated successfully")}}catch(e){console.error("Editor: Failed to update content:",e)}}},[t,v]);let D=(0,l.useCallback)(()=>{if(!b.current)return;let{state:e,dispatch:t}=b.current;(0,d.wh)(m.marks.strong)(e,t)&&b.current.focus()},[]),H=(0,l.useCallback)(()=>{if(!b.current)return;let{state:e,dispatch:t}=b.current;(0,d.wh)(m.marks.em)(e,t)&&b.current.focus()},[]),E=(0,l.useCallback)(e=>{if(!b.current)return;let{state:t,dispatch:r}=b.current;k(e)(t,r,b.current)&&b.current.focus()},[]);(0,l.useCallback)(()=>{if(!b.current)return;let{state:e,dispatch:t}=b.current;y()(e,t,b.current)&&b.current.focus()},[]);let I=(0,l.useCallback)(()=>{if(!b.current)return;let{state:e,dispatch:t}=b.current;w(e,t,b.current)&&b.current.focus()},[]),B=(0,l.useCallback)(()=>{if(!b.current)return;let e=prompt("Enter programming language (e.g., javascript, python, css):","javascript");if(!e)return;let{state:t,dispatch:r}=b.current,{from:a,to:o}=t.selection,n=m.nodes.code_block.create({language:e.toLowerCase()}),l=t.tr.replaceRangeWith(a,o,n);r&&(r(l),b.current.focus())},[]),N=(0,l.useCallback)(()=>{if(!b.current)return;console.log("Bullet list button clicked");let{state:e,dispatch:t}=b.current,{$from:r,$to:a}=e.selection;try{let o=m.nodes.list_item.create(null,m.nodes.paragraph.create(null,r.parent.content)),n=m.nodes.bullet_list.create(null,o),l=e.tr.replaceWith(r.start(),a.end(),n);t(l),console.log("Manual bullet list creation: success"),b.current.focus()}catch(a){console.log("Manual bullet list creation failed:",a);let r=(0,c.Sd)(m.nodes.bullet_list)(e,t);console.log("wrapInList fallback result:",r),r&&b.current.focus()}},[]),O=(0,l.useCallback)(()=>{if(!b.current)return;console.log("Ordered list button clicked");let{state:e,dispatch:t}=b.current,{$from:r,$to:a}=e.selection;try{let o=m.nodes.list_item.create(null,m.nodes.paragraph.create(null,r.parent.content)),n=m.nodes.ordered_list.create(null,o),l=e.tr.replaceWith(r.start(),a.end(),n);t(l),console.log("Manual ordered list creation: success"),b.current.focus()}catch(a){console.log("Manual ordered list creation failed:",a);let r=(0,c.Sd)(m.nodes.ordered_list)(e,t);console.log("wrapInList fallback result:",r),r&&b.current.focus()}},[]),S=(0,l.useCallback)(()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{let t=e.target.files?.[0];if(t){if(!t.type.startsWith("image/"))return void alert("Please select an image file");if(t.size>0xa00000)return void alert("Image too large. Maximum size: 10MB");try{let{uploadImageViaAPI:e}=await Promise.resolve().then(r.bind(r,94497)),a=await e(t);if(b.current){let{state:e,dispatch:r}=b.current,o=m.nodes.image.create({src:a,alt:t.name,title:t.name}),n=e.tr.replaceSelectionWith(o);r(n),b.current.focus()}console.log("Image uploaded successfully:",a)}catch(e){console.error("Upload failed:",e),alert("Upload failed. Please try again.")}}},e.click()},[]),T=(0,l.useCallback)(()=>{if(!b.current)return;let{state:e,dispatch:t}=b.current;(0,u.tN)(e,t),b.current.focus()},[]),A=(0,l.useCallback)(()=>{if(!b.current)return;let{state:e,dispatch:t}=b.current;(0,u.ZS)(e,t),b.current.focus()},[]),L=(0,l.useCallback)(e=>{if(!b.current)return!1;let{from:t,$from:r,to:a,empty:o}=b.current.state.selection;return o?e.isInSet(b.current.state.storedMarks||r.marks()):b.current.state.doc.rangeHasMark(t,a,e)},[]),$=(0,l.useCallback)((e,t={})=>{if(!b.current)return!1;let{from:r,to:a}=b.current.state.selection,o=!0;return b.current.state.doc.nodesBetween(r,a,r=>!r.isTextblock||!!r.hasMarkup(e,t)||(o=!1,!1)),o},[]),W=(0,l.useCallback)(()=>{if(!b.current)return!1;let{from:e,to:t}=b.current.state.selection,r=!1;return b.current.state.doc.nodesBetween(e,t,e=>e.type!==m.nodes.blockquote||(r=!0,!1)),r},[]);return(0,a.jsxs)("div",{className:`${j().editor} ${"seamless-editor"===s?j().seamlessEditor:""}`,style:"seamless-editor"===s?{}:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[v&&(0,a.jsx)("div",{className:j().modernToolbar,style:"seamless-editor"===s?{}:{opacity:1,visibility:"visible",position:"relative",top:"auto",left:"auto",transform:"none",marginBottom:"20px"},children:(0,a.jsxs)("div",{className:j().toolbarContainer,children:[(0,a.jsxs)("div",{className:j().formatGroup,children:[(0,a.jsx)("button",{className:`${j().toolBtn} ${L(m.marks.strong)?j().active:""}`,onClick:D,title:"Bold (âŒ˜B)","aria-label":"Bold",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M13.5 15.5H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5zM10 6.5h3c.55 0 1 .45 1 1s-.45 1-1 1h-3v-2zm5.6 4.5c.75-.9 1.2-2.05 1.2-3.3 0-2.76-2.24-5-5-5H6.5C5.67 2.7 5 3.37 5 4.2v15.6c0 .83.67 1.5 1.5 1.5h8.5c3.31 0 6-2.69 6-6 0-2.5-1.49-4.65-3.4-5.3z"})})}),(0,a.jsx)("button",{className:`${j().toolBtn} ${L(m.marks.em)?j().active:""}`,onClick:H,title:"Italic (âŒ˜I)","aria-label":"Italic",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"})})})]}),(0,a.jsx)("div",{className:j().divider}),(0,a.jsxs)("div",{className:j().formatGroup,children:[(0,a.jsx)("button",{className:`${j().toolBtn} ${$(m.nodes.heading,{level:1})?j().active:""}`,onClick:()=>E(1),title:"Large Heading (âŒ˜â‡§1)","aria-label":"Heading 1",children:(0,a.jsx)("span",{className:j().headingIcon,children:"H1"})}),(0,a.jsx)("button",{className:`${j().toolBtn} ${$(m.nodes.heading,{level:2})?j().active:""}`,onClick:()=>E(2),title:"Medium Heading (âŒ˜â‡§2)","aria-label":"Heading 2",children:(0,a.jsx)("span",{className:j().headingIcon,children:"H2"})}),(0,a.jsx)("button",{className:`${j().toolBtn} ${$(m.nodes.heading,{level:3})?j().active:""}`,onClick:()=>E(3),title:"Small Heading (âŒ˜â‡§3)","aria-label":"Heading 3",children:(0,a.jsx)("span",{className:j().headingIcon,children:"H3"})})]}),(0,a.jsx)("div",{className:j().divider}),(0,a.jsxs)("div",{className:j().formatGroup,children:[(0,a.jsx)("button",{className:j().toolBtn,onClick:N,title:"Bullet List","aria-label":"Bullet list",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"})})}),(0,a.jsx)("button",{className:j().toolBtn,onClick:O,title:"Numbered List","aria-label":"Numbered list",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"})})}),(0,a.jsx)("button",{className:`${j().toolBtn} ${W()?j().active:""}`,onClick:I,title:"Quote (âŒ˜>)","aria-label":"Quote",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"})})})]}),(0,a.jsx)("div",{className:j().divider}),(0,a.jsxs)("div",{className:j().formatGroup,children:[(0,a.jsx)("button",{className:j().toolBtn,onClick:S,title:"Add Image","aria-label":"Insert image",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})})}),(0,a.jsx)("button",{className:`${j().toolBtn} ${$(m.nodes.code_block)?j().active:""}`,onClick:B,title:"Code Block","aria-label":"Code block",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0L19.2 12l-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})})})]}),(0,a.jsx)("div",{className:j().divider}),(0,a.jsxs)("div",{className:j().formatGroup,children:[(0,a.jsx)("button",{className:j().toolBtn,onClick:T,title:"Undo (âŒ˜Z)","aria-label":"Undo",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"})})}),(0,a.jsx)("button",{className:j().toolBtn,onClick:A,title:"Redo (âŒ˜Y)","aria-label":"Redo",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"})})})]})]})}),!v&&(0,a.jsxs)("div",{className:j().loading,children:[(0,a.jsx)("div",{className:j().loadingSpinner}),(0,a.jsx)("span",{children:"Loading editor..."})]}),(0,a.jsx)("div",{ref:f,className:j().prosemirrorEditor,"aria-label":"Rich text editor",style:{minHeight:"seamless-editor"===s?"500px":"400px",opacity:v?1:.3,..."seamless-editor"===s?{background:"transparent",border:"none",boxShadow:"none",padding:0,margin:0,fontSize:"18px",lineHeight:"1.6",color:"#1f2937"}:{}}})]})});C.displayName="Editor";var M=r(13164);let z=(0,l.forwardRef)(({articleId:e,initialContent:t="",onChange:r,placeholder:o="Tell your story...",className:i="",onImageInsert:s,onVideoInsert:d},c)=>{let u=(0,l.useRef)(null),g=(0,l.useCallback)((e,t="")=>{u.current&&(s&&s(e,t),u.current.insertImage?u.current.insertImage(e,t):console.error("insertImage method not available on editor ref"))},[s]),m=(0,l.useCallback)(e=>{if(!u.current)return;d&&d(e);let t=`[ðŸ“¹ Video](${e})`;u.current.insertText(t)},[d]),h=(0,l.useCallback)(e=>{u.current&&u.current.insertText(e)},[]),p=(0,l.useCallback)(()=>{u.current&&u.current.focus()},[]);return(0,l.useImperativeHandle)(c,()=>({insertText:h,insertImage:g,insertVideo:m,focus:p}),[h,g,m,p]),(0,a.jsxs)("div",{style:{position:"relative"},className:`jsx-4b23bb7b0446bdb3 medium-style-editor ${i}`,children:[(0,a.jsx)(M.A,{onImageInsert:g,onVideoInsert:m,editorRef:u}),(0,a.jsx)(C,{ref:u,articleId:e,initialContent:t,onChange:r,placeholder:o,className:"medium-editor-content"}),(0,a.jsx)(n(),{id:"4b23bb7b0446bdb3",children:'.medium-style-editor.jsx-4b23bb7b0446bdb3{width:100%;position:relative}.medium-editor-content.jsx-4b23bb7b0446bdb3{min-height:200px;outline:none;border:none;font-family:"Charter","Times New Roman",serif;font-size:21px;line-height:1.58;color:rgba(41,41,41,1)}.medium-editor-content img{max-width:100%;height:auto;margin:2rem 0;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 4px 12px rgba(0,0,0,.1);-moz-box-shadow:0 4px 12px rgba(0,0,0,.1);box-shadow:0 4px 12px rgba(0,0,0,.1)}.medium-editor-content p{margin:1.6rem 0}.medium-editor-content h1{font-size:2.25rem;font-weight:700;margin:2rem 0 1rem 0;line-height:1.2}.medium-editor-content h2{font-size:1.875rem;font-weight:600;margin:1.75rem 0 .75rem 0;line-height:1.3}.medium-editor-content h3{font-size:1.5rem;font-weight:600;margin:1.5rem 0 .5rem 0;line-height:1.4}.medium-editor-content blockquote{border-left:3px solid#57E389;padding-left:1.5rem;margin:2rem 0;font-style:italic;font-size:1.125rem;color:rgba(41,41,41,.8)}.medium-editor-content pre{background:#f6f8fa;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:1.5rem;margin:2rem 0;overflow-x:auto;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,monospace;font-size:.875rem;line-height:1.6}.medium-editor-content ul{margin:1.5rem 0;padding-left:2rem}.medium-editor-content li{margin:.5rem 0}.medium-editor-content a[href*="video"]{display:inline-block;padding:.75rem 1.5rem;background:-webkit-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-moz-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-o-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;text-decoration:none;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;margin:1rem 0;-webkit-transition:-webkit-transform.2s ease;-moz-transition:-moz-transform.2s ease;-o-transition:-o-transform.2s ease;transition:-webkit-transform.2s ease;transition:-moz-transform.2s ease;transition:-o-transform.2s ease;transition:transform.2s ease}.medium-editor-content a[href*="video"]:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.medium-editor-content.drag-active{background:rgba(59,130,246,.05);border:2px dashed#3B82F6;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}'})]})});z.displayName="MediumStyleEditor";let D=z},85540:e=>{e.exports={editorContainer:"Editor_editorContainer__AxL3W",editorContent:"Editor_editorContent__Hto0I",prosemirrorEditor:"Editor_prosemirrorEditor__jSRn5",editor:"Editor_editor__ys4HH",seamlessEditor:"Editor_seamlessEditor__2leHe",modernToolbar:"Editor_modernToolbar__VDG5b",loading:"Editor_loading___nwXA",loadingSpinner:"Editor_loadingSpinner__JMIXQ",spin:"Editor_spin__5Ufeq",toolbarContainer:"Editor_toolbarContainer__rZaHf",formatGroup:"Editor_formatGroup__OhMWy",divider:"Editor_divider__pHi4V",toolBtn:"Editor_toolBtn__LEamn",active:"Editor_active__UGSnI",headingIcon:"Editor_headingIcon__HKD4e",ProseMirror:"Editor_ProseMirror__DHY3Q",slideInFromTop:"Editor_slideInFromTop__ADbMI"}},94497:(e,t,r)=>{"use strict";r.d(t,{V:()=>a,uploadImageViaAPI:()=>o});let a=async e=>{let t=new FormData;t.append("file",e),t.append("upload_preset","journalite_unsigned");try{let e=await fetch("https://api.cloudinary.com/v1_1/dwqint9xm/image/upload",{method:"POST",body:t});if(!e.ok)throw Error("Failed to upload image");return(await e.json()).secure_url}catch(e){throw console.error("Error uploading image:",e),e}},o=async e=>{let t=new FormData;t.append("file",e);try{let e=await fetch("/api/upload",{method:"POST",body:t});if(!e.ok)throw Error("Failed to upload image");return(await e.json()).secure_url}catch(e){throw console.error("Error uploading image:",e),e}}}};