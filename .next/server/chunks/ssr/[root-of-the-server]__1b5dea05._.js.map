{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/home.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"home-module__i0QXTG__active\",\n  \"activeTab\": \"home-module__i0QXTG__activeTab\",\n  \"adminAvatar\": \"home-module__i0QXTG__adminAvatar\",\n  \"alertInfo\": \"home-module__i0QXTG__alertInfo\",\n  \"alertSuccess\": \"home-module__i0QXTG__alertSuccess\",\n  \"alertWarning\": \"home-module__i0QXTG__alertWarning\",\n  \"article-card\": \"home-module__i0QXTG__article-card\",\n  \"article-container\": \"home-module__i0QXTG__article-container\",\n  \"article-content\": \"home-module__i0QXTG__article-content\",\n  \"article-cover-image\": \"home-module__i0QXTG__article-cover-image\",\n  \"article-excerpt\": \"home-module__i0QXTG__article-excerpt\",\n  \"article-grid\": \"home-module__i0QXTG__article-grid\",\n  \"article-header\": \"home-module__i0QXTG__article-header\",\n  \"article-image\": \"home-module__i0QXTG__article-image\",\n  \"article-meta\": \"home-module__i0QXTG__article-meta\",\n  \"article-page\": \"home-module__i0QXTG__article-page\",\n  \"article-paragraph\": \"home-module__i0QXTG__article-paragraph\",\n  \"article-tag\": \"home-module__i0QXTG__article-tag\",\n  \"article-tags\": \"home-module__i0QXTG__article-tags\",\n  \"article-title\": \"home-module__i0QXTG__article-title\",\n  \"articleForm\": \"home-module__i0QXTG__articleForm\",\n  \"articleFormContainer\": \"home-module__i0QXTG__articleFormContainer\",\n  \"articleFormHeader\": \"home-module__i0QXTG__articleFormHeader\",\n  \"articleFormSubtitle\": \"home-module__i0QXTG__articleFormSubtitle\",\n  \"articleFormTitle\": \"home-module__i0QXTG__articleFormTitle\",\n  \"author-avatar\": \"home-module__i0QXTG__author-avatar\",\n  \"author-info\": \"home-module__i0QXTG__author-info\",\n  \"author-name\": \"home-module__i0QXTG__author-name\",\n  \"avatarPlaceholder\": \"home-module__i0QXTG__avatarPlaceholder\",\n  \"back-link\": \"home-module__i0QXTG__back-link\",\n  \"backLink\": \"home-module__i0QXTG__backLink\",\n  \"backToAllButton\": \"home-module__i0QXTG__backToAllButton\",\n  \"cancelButton\": \"home-module__i0QXTG__cancelButton\",\n  \"cancelReplyButton\": \"home-module__i0QXTG__cancelReplyButton\",\n  \"center-column\": \"home-module__i0QXTG__center-column\",\n  \"clearSearchButton\": \"home-module__i0QXTG__clearSearchButton\",\n  \"closePromptButton\": \"home-module__i0QXTG__closePromptButton\",\n  \"codeBlock\": \"home-module__i0QXTG__codeBlock\",\n  \"codeBlockContainer\": \"home-module__i0QXTG__codeBlockContainer\",\n  \"codeContent\": \"home-module__i0QXTG__codeContent\",\n  \"codeLineNumbers\": \"home-module__i0QXTG__codeLineNumbers\",\n  \"collapsed\": \"home-module__i0QXTG__collapsed\",\n  \"comment\": \"home-module__i0QXTG__comment\",\n  \"commentActions\": \"home-module__i0QXTG__commentActions\",\n  \"commentAuthor\": \"home-module__i0QXTG__commentAuthor\",\n  \"commentAvatar\": \"home-module__i0QXTG__commentAvatar\",\n  \"commentContent\": \"home-module__i0QXTG__commentContent\",\n  \"commentControls\": \"home-module__i0QXTG__commentControls\",\n  \"commentDate\": \"home-module__i0QXTG__commentDate\",\n  \"commentForm\": \"home-module__i0QXTG__commentForm\",\n  \"commentHeader\": \"home-module__i0QXTG__commentHeader\",\n  \"commentInput\": \"home-module__i0QXTG__commentInput\",\n  \"commentInputContainer\": \"home-module__i0QXTG__commentInputContainer\",\n  \"commentInputWrapper\": \"home-module__i0QXTG__commentInputWrapper\",\n  \"commentItem\": \"home-module__i0QXTG__commentItem\",\n  \"commentMeta\": \"home-module__i0QXTG__commentMeta\",\n  \"commentsList\": \"home-module__i0QXTG__commentsList\",\n  \"container\": \"home-module__i0QXTG__container\",\n  \"copyButton\": \"home-module__i0QXTG__copyButton\",\n  \"cover-image\": \"home-module__i0QXTG__cover-image\",\n  \"cta-button\": \"home-module__i0QXTG__cta-button\",\n  \"deleteButton\": \"home-module__i0QXTG__deleteButton\",\n  \"developerAvatar\": \"home-module__i0QXTG__developerAvatar\",\n  \"discussionSection\": \"home-module__i0QXTG__discussionSection\",\n  \"discussionTitle\": \"home-module__i0QXTG__discussionTitle\",\n  \"docContent\": \"home-module__i0QXTG__docContent\",\n  \"docNav\": \"home-module__i0QXTG__docNav\",\n  \"docNavItem\": \"home-module__i0QXTG__docNavItem\",\n  \"docNavItemActive\": \"home-module__i0QXTG__docNavItemActive\",\n  \"docSearchContainer\": \"home-module__i0QXTG__docSearchContainer\",\n  \"docSearchInput\": \"home-module__i0QXTG__docSearchInput\",\n  \"docSidebar\": \"home-module__i0QXTG__docSidebar\",\n  \"docSubheading\": \"home-module__i0QXTG__docSubheading\",\n  \"docText\": \"home-module__i0QXTG__docText\",\n  \"docTitle\": \"home-module__i0QXTG__docTitle\",\n  \"docsContainer\": \"home-module__i0QXTG__docsContainer\",\n  \"documentationContainer\": \"home-module__i0QXTG__documentationContainer\",\n  \"edit-button\": \"home-module__i0QXTG__edit-button\",\n  \"emptyState\": \"home-module__i0QXTG__emptyState\",\n  \"errorAlert\": \"home-module__i0QXTG__errorAlert\",\n  \"errorIcon\": \"home-module__i0QXTG__errorIcon\",\n  \"errorMessage\": \"home-module__i0QXTG__errorMessage\",\n  \"expanded\": \"home-module__i0QXTG__expanded\",\n  \"explore-container\": \"home-module__i0QXTG__explore-container\",\n  \"explore-header\": \"home-module__i0QXTG__explore-header\",\n  \"explore-section\": \"home-module__i0QXTG__explore-section\",\n  \"explore-subtitle\": \"home-module__i0QXTG__explore-subtitle\",\n  \"explore-title\": \"home-module__i0QXTG__explore-title\",\n  \"fadeIn\": \"home-module__i0QXTG__fadeIn\",\n  \"feature-desc\": \"home-module__i0QXTG__feature-desc\",\n  \"feature-large\": \"home-module__i0QXTG__feature-large\",\n  \"feature-title\": \"home-module__i0QXTG__feature-title\",\n  \"featured-articles-grid\": \"home-module__i0QXTG__featured-articles-grid\",\n  \"featured-card\": \"home-module__i0QXTG__featured-card\",\n  \"featured-content\": \"home-module__i0QXTG__featured-content\",\n  \"featured-excerpt\": \"home-module__i0QXTG__featured-excerpt\",\n  \"featured-image\": \"home-module__i0QXTG__featured-image\",\n  \"featured-label\": \"home-module__i0QXTG__featured-label\",\n  \"featured-meta\": \"home-module__i0QXTG__featured-meta\",\n  \"featured-title\": \"home-module__i0QXTG__featured-title\",\n  \"features\": \"home-module__i0QXTG__features\",\n  \"follow-button\": \"home-module__i0QXTG__follow-button\",\n  \"footer\": \"home-module__i0QXTG__footer\",\n  \"formActions\": \"home-module__i0QXTG__formActions\",\n  \"formControl\": \"home-module__i0QXTG__formControl\",\n  \"formGroup\": \"home-module__i0QXTG__formGroup\",\n  \"formLabel\": \"home-module__i0QXTG__formLabel\",\n  \"formTextarea\": \"home-module__i0QXTG__formTextarea\",\n  \"function\": \"home-module__i0QXTG__function\",\n  \"header\": \"home-module__i0QXTG__header\",\n  \"hero\": \"home-module__i0QXTG__hero\",\n  \"hero-subtitle\": \"home-module__i0QXTG__hero-subtitle\",\n  \"hero-title\": \"home-module__i0QXTG__hero-title\",\n  \"highlight\": \"home-module__i0QXTG__highlight\",\n  \"imagePreview\": \"home-module__i0QXTG__imagePreview\",\n  \"keyword\": \"home-module__i0QXTG__keyword\",\n  \"left-sidebar\": \"home-module__i0QXTG__left-sidebar\",\n  \"likeButton\": \"home-module__i0QXTG__likeButton\",\n  \"liked\": \"home-module__i0QXTG__liked\",\n  \"loading\": \"home-module__i0QXTG__loading\",\n  \"loadingSpinner\": \"home-module__i0QXTG__loadingSpinner\",\n  \"loginButton\": \"home-module__i0QXTG__loginButton\",\n  \"loginLink\": \"home-module__i0QXTG__loginLink\",\n  \"loginPrompt\": \"home-module__i0QXTG__loginPrompt\",\n  \"loginPromptButtons\": \"home-module__i0QXTG__loginPromptButtons\",\n  \"logo\": \"home-module__i0QXTG__logo\",\n  \"main-grid\": \"home-module__i0QXTG__main-grid\",\n  \"menu-overlay\": \"home-module__i0QXTG__menu-overlay\",\n  \"nav-explore\": \"home-module__i0QXTG__nav-explore\",\n  \"nav-home\": \"home-module__i0QXTG__nav-home\",\n  \"nav-icon\": \"home-module__i0QXTG__nav-icon\",\n  \"nav-learn\": \"home-module__i0QXTG__nav-learn\",\n  \"nav-link\": \"home-module__i0QXTG__nav-link\",\n  \"nav-login\": \"home-module__i0QXTG__nav-login\",\n  \"nav-logout\": \"home-module__i0QXTG__nav-logout\",\n  \"nav-plans\": \"home-module__i0QXTG__nav-plans\",\n  \"nav-profile\": \"home-module__i0QXTG__nav-profile\",\n  \"nav-settings\": \"home-module__i0QXTG__nav-settings\",\n  \"nav-signup\": \"home-module__i0QXTG__nav-signup\",\n  \"nav-text\": \"home-module__i0QXTG__nav-text\",\n  \"nav-thoughts\": \"home-module__i0QXTG__nav-thoughts\",\n  \"no-results\": \"home-module__i0QXTG__no-results\",\n  \"noComments\": \"home-module__i0QXTG__noComments\",\n  \"noResults\": \"home-module__i0QXTG__noResults\",\n  \"number\": \"home-module__i0QXTG__number\",\n  \"operator\": \"home-module__i0QXTG__operator\",\n  \"optionalLabel\": \"home-module__i0QXTG__optionalLabel\",\n  \"profileAvatar\": \"home-module__i0QXTG__profileAvatar\",\n  \"profileBio\": \"home-module__i0QXTG__profileBio\",\n  \"profileContent\": \"home-module__i0QXTG__profileContent\",\n  \"profileHeader\": \"home-module__i0QXTG__profileHeader\",\n  \"profileInfo\": \"home-module__i0QXTG__profileInfo\",\n  \"profileName\": \"home-module__i0QXTG__profileName\",\n  \"profileUsername\": \"home-module__i0QXTG__profileUsername\",\n  \"prompt-banner\": \"home-module__i0QXTG__prompt-banner\",\n  \"prompt-button\": \"home-module__i0QXTG__prompt-button\",\n  \"prompt-icon\": \"home-module__i0QXTG__prompt-icon\",\n  \"prompt-text\": \"home-module__i0QXTG__prompt-text\",\n  \"quote-card\": \"home-module__i0QXTG__quote-card\",\n  \"quote-tag\": \"home-module__i0QXTG__quote-tag\",\n  \"reaction-bar\": \"home-module__i0QXTG__reaction-bar\",\n  \"reaction-button\": \"home-module__i0QXTG__reaction-button\",\n  \"reaction-icon\": \"home-module__i0QXTG__reaction-icon\",\n  \"read-link\": \"home-module__i0QXTG__read-link\",\n  \"repliesList\": \"home-module__i0QXTG__repliesList\",\n  \"replyActions\": \"home-module__i0QXTG__replyActions\",\n  \"replyAuthor\": \"home-module__i0QXTG__replyAuthor\",\n  \"replyAvatar\": \"home-module__i0QXTG__replyAvatar\",\n  \"replyButton\": \"home-module__i0QXTG__replyButton\",\n  \"replyContent\": \"home-module__i0QXTG__replyContent\",\n  \"replyDate\": \"home-module__i0QXTG__replyDate\",\n  \"replyForm\": \"home-module__i0QXTG__replyForm\",\n  \"replyHeader\": \"home-module__i0QXTG__replyHeader\",\n  \"replyInput\": \"home-module__i0QXTG__replyInput\",\n  \"replyInputContainer\": \"home-module__i0QXTG__replyInputContainer\",\n  \"replyItem\": \"home-module__i0QXTG__replyItem\",\n  \"replyMeta\": \"home-module__i0QXTG__replyMeta\",\n  \"right-sidebar\": \"home-module__i0QXTG__right-sidebar\",\n  \"roleSelect\": \"home-module__i0QXTG__roleSelect\",\n  \"roleTag\": \"home-module__i0QXTG__roleTag\",\n  \"searchBarContainer\": \"home-module__i0QXTG__searchBarContainer\",\n  \"searchContainer\": \"home-module__i0QXTG__searchContainer\",\n  \"searchInput\": \"home-module__i0QXTG__searchInput\",\n  \"searchInputWrapper\": \"home-module__i0QXTG__searchInputWrapper\",\n  \"searchResultAvatar\": \"home-module__i0QXTG__searchResultAvatar\",\n  \"searchResultInfo\": \"home-module__i0QXTG__searchResultInfo\",\n  \"searchResultItem\": \"home-module__i0QXTG__searchResultItem\",\n  \"searchResultName\": \"home-module__i0QXTG__searchResultName\",\n  \"searchResultRole\": \"home-module__i0QXTG__searchResultRole\",\n  \"searchResultRoleAdmin\": \"home-module__i0QXTG__searchResultRoleAdmin\",\n  \"searchResultRoleDeveloper\": \"home-module__i0QXTG__searchResultRoleDeveloper\",\n  \"searchResultRoleUser\": \"home-module__i0QXTG__searchResultRoleUser\",\n  \"searchResultUsername\": \"home-module__i0QXTG__searchResultUsername\",\n  \"searchResults\": \"home-module__i0QXTG__searchResults\",\n  \"searchResultsContainer\": \"home-module__i0QXTG__searchResultsContainer\",\n  \"searchResultsTitle\": \"home-module__i0QXTG__searchResultsTitle\",\n  \"section-title\": \"home-module__i0QXTG__section-title\",\n  \"sectionHeading\": \"home-module__i0QXTG__sectionHeading\",\n  \"sectionTitle\": \"home-module__i0QXTG__sectionTitle\",\n  \"sidebar-collapse-button\": \"home-module__i0QXTG__sidebar-collapse-button\",\n  \"sidebar-footer\": \"home-module__i0QXTG__sidebar-footer\",\n  \"sidebar-header\": \"home-module__i0QXTG__sidebar-header\",\n  \"sidebar-heading\": \"home-module__i0QXTG__sidebar-heading\",\n  \"sidebarSearch\": \"home-module__i0QXTG__sidebarSearch\",\n  \"sidebarSection\": \"home-module__i0QXTG__sidebarSection\",\n  \"spin\": \"home-module__i0QXTG__spin\",\n  \"statBox\": \"home-module__i0QXTG__statBox\",\n  \"statLabel\": \"home-module__i0QXTG__statLabel\",\n  \"statNumber\": \"home-module__i0QXTG__statNumber\",\n  \"statsContainer\": \"home-module__i0QXTG__statsContainer\",\n  \"string\": \"home-module__i0QXTG__string\",\n  \"submitButton\": \"home-module__i0QXTG__submitButton\",\n  \"submitReplyButton\": \"home-module__i0QXTG__submitReplyButton\",\n  \"tabButton\": \"home-module__i0QXTG__tabButton\",\n  \"tabContainer\": \"home-module__i0QXTG__tabContainer\",\n  \"tag\": \"home-module__i0QXTG__tag\",\n  \"tag-button\": \"home-module__i0QXTG__tag-button\",\n  \"tag-button-active\": \"home-module__i0QXTG__tag-button-active\",\n  \"tag-description\": \"home-module__i0QXTG__tag-description\",\n  \"tag-header\": \"home-module__i0QXTG__tag-header\",\n  \"tag-list\": \"home-module__i0QXTG__tag-list\",\n  \"tags-selector\": \"home-module__i0QXTG__tags-selector\",\n  \"tagsPreview\": \"home-module__i0QXTG__tagsPreview\",\n  \"three-column-layout\": \"home-module__i0QXTG__three-column-layout\",\n  \"toggle-button\": \"home-module__i0QXTG__toggle-button\",\n  \"toggleRepliesButton\": \"home-module__i0QXTG__toggleRepliesButton\",\n  \"topic-tag\": \"home-module__i0QXTG__topic-tag\",\n  \"topics\": \"home-module__i0QXTG__topics\",\n  \"trending-list\": \"home-module__i0QXTG__trending-list\",\n  \"trending-tag\": \"home-module__i0QXTG__trending-tag\",\n  \"type\": \"home-module__i0QXTG__type\",\n  \"userAvatar\": \"home-module__i0QXTG__userAvatar\",\n  \"userManagementContainer\": \"home-module__i0QXTG__userManagementContainer\",\n  \"userTableCell\": \"home-module__i0QXTG__userTableCell\",\n  \"usersTable\": \"home-module__i0QXTG__usersTable\",\n  \"usersTableContainer\": \"home-module__i0QXTG__usersTableContainer\",\n  \"variable\": \"home-module__i0QXTG__variable\",\n  \"vertical-nav\": \"home-module__i0QXTG__vertical-nav\",\n  \"write-button\": \"home-module__i0QXTG__write-button\",\n  \"writer-avatar\": \"home-module__i0QXTG__writer-avatar\",\n  \"writer-info\": \"home-module__i0QXTG__writer-info\",\n  \"writer-item\": \"home-module__i0QXTG__writer-item\",\n  \"writer-name\": \"home-module__i0QXTG__writer-name\",\n  \"writers\": \"home-module__i0QXTG__writers\",\n  \"writing-tip\": \"home-module__i0QXTG__writing-tip\",\n  \"writing-tips\": \"home-module__i0QXTG__writing-tips\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/firebase/clientApp.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getAuth, connectAuthEmulator } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Firebase configuration from environment variables\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n    measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID\n};\n///\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Analytics only in browser environment\nlet analytics;\nif (typeof window !== 'undefined') {\n    try {\n        analytics = getAnalytics(app);\n    } catch (error) {\n        // Analytics initialization skipped in development\n    }\n}\n\n// Initialize Firebase Authentication\nconst auth = getAuth(app);\n\n// Initialize Firestore\nconst db = getFirestore(app);\n\n// Configure custom auth actions URL\nif (typeof window !== 'undefined') {\n    const actionCodeSettings = {\n        url: `${window.location.origin}/reset-password`,\n        handleCodeInApp: true,\n    };\n\n    // We need to update this in the forgot-password component when sending the reset email\n}\n\n// // Connect to Auth Emulator in development\n// if (process.env.NODE_ENV === 'development') {\n//     // connectAuthEmulator(auth, \"http://localhost:9099\", { disableWarnings: true });\n// }\n\n/////\n\nexport { app, analytics, auth, db };"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;AACvD;AAAA;AACA;AACA;AAAA;AACA;AAAA;;;;;AACA,4DAA4D;AAC5D,iEAAiE;AAEjE,oDAAoD;AACpD,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACjB;AACA,GAAG;AAEH,sBAAsB;AACtB,MAAM,MAAM,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE;AAE1B,mDAAmD;AACnD,IAAI;AACJ,uCAAmC;;AAMnC;AAEA,qCAAqC;AACrC,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AAErB,uBAAuB;AACvB,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;AAExB,oCAAoC;AACpC,uCAAmC;;AAM/B,uFAAuF;AAC3F","debugId":null}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/firebase/notifications.ts"],"sourcesContent":["import {\n    collection,\n    addDoc,\n    getDocs,\n    getDoc,\n    doc,\n    query,\n    orderBy,\n    Timestamp,\n    where,\n    updateDoc,\n    deleteDoc,\n    limit\n} from 'firebase/firestore';\nimport { db, auth } from './clientApp';\n\n// Notification interface matching Firestore structure\nexport interface Notification {\n    id?: string;\n    userId: string;\n    type: 'comment' | 'reply' | 'like' | 'follow';\n    read: boolean;\n    sourceId: string; // ID of the article/comment\n    sourceType: 'article' | 'comment' | 'user';\n    message: string;\n    fromUser: {\n        id: string;\n        name: string;\n        username?: string; // Add username field for profile links\n    };\n    createdAt: Timestamp;\n    articleSlug?: string; // Optional slug to link directly to the article\n    articleTitle?: string; // Optional article title for context\n}\n\n/**\n * Create a new notification when someone comments on a user's post\n */\nexport async function createCommentNotification(\n    ownerId: string,\n    articleId: string,\n    articleSlug: string,\n    articleTitle: string,\n    commentId: string,\n    commentText: string\n) {\n    try {\n        // Skip if the owner is the commenter (don't notify yourself)\n        const currentUser = auth.currentUser;\n        if (!currentUser || currentUser.uid === ownerId) {\n            return null;\n        }\n\n        // Create notification object\n        const notification: Omit<Notification, 'id'> = {\n            userId: ownerId, // Who will receive the notification\n            type: 'comment',\n            read: false,\n            sourceId: commentId,\n            sourceType: 'comment',\n            message: `${currentUser.displayName || 'Someone'} commented on your article: \"${commentText.substring(0, 50)}${commentText.length > 50 ? '...' : ''}\"`,\n            fromUser: {\n                id: currentUser.uid,\n                name: currentUser.displayName || 'Anonymous'\n            },\n            createdAt: Timestamp.now(),\n            articleSlug,\n            articleTitle\n        };\n\n        // Add to Firestore\n        const docRef = await addDoc(collection(db, 'notifications'), notification);\n\n        return {\n            id: docRef.id,\n            ...notification\n        };\n    } catch (error) {\n        console.error('Error creating notification:', error);\n        return null;\n    }\n}\n\n/**\n * Create a new notification when someone follows a user\n */\nexport async function createFollowNotification(\n    targetUserId: string,\n    followerName: string,\n    followerId: string,\n    followerUsername: string\n) {\n    try {\n        // Skip if user is following themselves (shouldn't happen due to checks in followUser)\n        if (targetUserId === followerId) {\n            return null;\n        }\n\n        // Create notification object\n        const notification: Omit<Notification, 'id'> = {\n            userId: targetUserId, // Who will receive the notification\n            type: 'follow',\n            read: false,\n            sourceId: followerId,\n            sourceType: 'user',\n            message: `${followerName} (@${followerUsername}) started following you`,\n            fromUser: {\n                id: followerId,\n                name: followerName,\n                username: followerUsername\n            },\n            createdAt: Timestamp.now()\n        };\n\n        // Add to Firestore\n        const docRef = await addDoc(collection(db, 'notifications'), notification);\n\n        return {\n            id: docRef.id,\n            ...notification\n        };\n    } catch (error) {\n        console.error('Error creating follow notification:', error);\n        return null;\n    }\n}\n\n/**\n * Get all notifications for the current user\n */\nexport async function getUserNotifications(unreadOnly = false) {\n    try {\n        const currentUser = auth.currentUser;\n        if (!currentUser) {\n            throw new Error('User not authenticated');\n        }\n\n        // Create base query\n        const notificationsRef = collection(db, 'notifications');\n        let q;\n\n        if (unreadOnly) {\n            // Only fetch unread notifications\n            q = query(\n                notificationsRef,\n                where('userId', '==', currentUser.uid),\n                where('read', '==', false),\n                orderBy('createdAt', 'desc'),\n                limit(100)\n            );\n        } else {\n            // Fetch all notifications\n            q = query(\n                notificationsRef,\n                where('userId', '==', currentUser.uid),\n                orderBy('createdAt', 'desc'),\n                limit(100)\n            );\n        }\n\n        const querySnapshot = await getDocs(q);\n\n        const notifications: Notification[] = [];\n        querySnapshot.forEach((doc) => {\n            notifications.push({\n                id: doc.id,\n                ...doc.data() as Omit<Notification, 'id'>\n            });\n        });\n\n        return notifications;\n    } catch (error) {\n        console.error('Error fetching notifications:', error);\n        throw error;\n    }\n}\n\n/**\n * Mark a notification as read\n */\nexport async function markNotificationAsRead(notificationId: string) {\n    try {\n        const currentUser = auth.currentUser;\n        if (!currentUser) {\n            throw new Error('User not authenticated');\n        }\n\n        const notificationRef = doc(db, 'notifications', notificationId);\n        const notificationSnap = await getDoc(notificationRef);\n\n        if (!notificationSnap.exists()) {\n            throw new Error('Notification not found');\n        }\n\n        const notificationData = notificationSnap.data() as Notification;\n\n        // Check if the notification belongs to the current user\n        if (notificationData.userId !== currentUser.uid) {\n            throw new Error('Unauthorized access to notification');\n        }\n\n        // Update the read status\n        await updateDoc(notificationRef, {\n            read: true\n        });\n\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error('Error marking notification as read:', error);\n        throw error;\n    }\n}\n\n/**\n * Mark all notifications as read for the current user\n */\nexport async function markAllNotificationsAsRead() {\n    try {\n        const currentUser = auth.currentUser;\n        if (!currentUser) {\n            throw new Error('User not authenticated');\n        }\n\n        const notificationsRef = collection(db, 'notifications');\n        const q = query(\n            notificationsRef,\n            where('userId', '==', currentUser.uid),\n            where('read', '==', false)\n        );\n\n        const querySnapshot = await getDocs(q);\n\n        // Create an array of promises to update each notification\n        const updatePromises = querySnapshot.docs.map(doc =>\n            updateDoc(doc.ref, { read: true })\n        );\n\n        // Execute all updates in parallel\n        await Promise.all(updatePromises);\n\n        return {\n            success: true,\n            count: querySnapshot.size\n        };\n    } catch (error) {\n        console.error('Error marking all notifications as read:', error);\n        throw error;\n    }\n}\n\n/**\n * Delete a notification\n */\nexport async function deleteNotification(notificationId: string) {\n    try {\n        const currentUser = auth.currentUser;\n        if (!currentUser) {\n            throw new Error('User not authenticated');\n        }\n\n        const notificationRef = doc(db, 'notifications', notificationId);\n        const notificationSnap = await getDoc(notificationRef);\n\n        if (!notificationSnap.exists()) {\n            throw new Error('Notification not found');\n        }\n\n        const notificationData = notificationSnap.data() as Notification;\n\n        // Check if the notification belongs to the current user\n        if (notificationData.userId !== currentUser.uid) {\n            throw new Error('Unauthorized access to notification');\n        }\n\n        // Delete the notification\n        await deleteDoc(notificationRef);\n\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error('Error deleting notification:', error);\n        throw error;\n    }\n}\n\n/**\n * Get the count of unread notifications\n */\nexport async function getUnreadNotificationsCount() {\n    try {\n        const currentUser = auth.currentUser;\n        if (!currentUser) {\n            return 0;\n        }\n\n        const notificationsRef = collection(db, 'notifications');\n        const q = query(\n            notificationsRef,\n            where('userId', '==', currentUser.uid),\n            where('read', '==', false)\n        );\n\n        const querySnapshot = await getDocs(q);\n        return querySnapshot.size;\n    } catch (error) {\n        console.error('Error counting unread notifications:', error);\n        return 0;\n    }\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/firebase/articles.ts"],"sourcesContent":["import { collection, addDoc, getDocs, getDoc, doc, query, orderBy, Timestamp, where, DocumentData, DocumentSnapshot, deleteDoc, updateDoc, arrayUnion, arrayRemove, limit as firestoreLimit, QueryConstraint } from 'firebase/firestore';\nimport { db, auth } from './clientApp';\nimport { createCommentNotification } from './notifications';\n\n// Article interface matching our Firestore structure\nexport interface Article {\n    id?: string;\n    title: string;\n    body: string;\n    createdAt: Timestamp;\n    updatedAt?: Timestamp;\n    authorId: string;\n    authorName: string;\n    tags?: string[];\n    coverImage?: string | null;\n    slug?: string;\n    status?: 'published' | 'drafts';\n    likes?: string[];\n    excerpt?: string;\n    viewCount?: number;\n    reposts?: string[];\n    comments?: any[];\n}\n\n// Comment interfaces for Firestore\nexport interface ArticleComment {\n    id?: string;\n    commentId?: string;\n    userId: string;\n    userName: string;\n    content: string;\n    createdAt: Timestamp;\n    likes: string[];\n    replies: CommentReply[];\n}\n\nexport interface CommentReply {\n    replyId: string;\n    userId: string;\n    userName: string;\n    content: string;\n    createdAt: Timestamp;\n    likes: string[];\n}\n\n// Get articles from Firestore, ordered by createdAt desc, with optional limit and draft inclusion\nexport async function getArticles(options: { limit?: number; includeDrafts?: boolean } = {}) {\n    const { limit, includeDrafts = false } = options;\n    console.log('getArticles called with limit:', limit);\n    try {\n        const articlesRef = collection(db, 'articles');\n        const queryConstraints = [];\n\n        if (!includeDrafts) {\n            // If status is explicitly 'published' OR if status field does not exist (older data might not have it)\n            // Firestore doesn't easily support \"OR\" across different fields or \"field not exists\" in combination with other `where` on same field.\n            // A common approach is to ensure all articles have a status.\n            // For now, we'll explicitly query for 'published'. If you need to include articles where 'status' is undefined\n            // as 'published', you might need two separate queries or adjust your data model to always include a 'status'.\n            queryConstraints.push(where('status', '==', 'published'));\n        }\n        // Always order by creation date\n        queryConstraints.push(orderBy('createdAt', 'desc'));\n\n        if (limit && limit > 0) {\n            console.log('Adding limit constraint:', limit);\n            queryConstraints.push(firestoreLimit(limit));\n        }\n\n        const q = query(articlesRef, ...queryConstraints);\n        const querySnapshot = await getDocs(q);\n        console.log('Query returned document count:', querySnapshot.size);\n\n        const articles: Article[] = [];\n        querySnapshot.forEach((docSnapshot) => {\n            const articleData = docSnapshot.data() as Omit<Article, 'id'>;\n\n            // The query now handles filtering for published status if includeDrafts is false.\n            // If includeDrafts is true, no status filter is applied in the query.\n            articles.push({\n                id: docSnapshot.id,\n                ...articleData\n            });\n        });\n\n        return articles;\n    } catch (error) {\n        console.error('Error getting articles:', error);\n        throw error;\n    }\n}\n\n// Get a single article by ID\nexport async function getArticleById(id: string): Promise<Article | null> {\n    try {\n        const docRef = doc(db, 'articles', id);\n        const docSnap = await getDoc(docRef);\n\n        if (docSnap.exists()) {\n            return {\n                id: docSnap.id,\n                ...docSnap.data()\n            } as Article;\n        } else {\n            return null;\n        }\n    } catch (error) {\n        console.error('Error getting article:', error);\n        throw error;\n    }\n}\n\n// Get a single article by slug\nexport async function getArticleBySlug(slug: string): Promise<Article | null> {\n    try {\n        const articlesRef = collection(db, 'articles');\n        const q = query(articlesRef, where('slug', '==', slug), where('status', '==', 'published'));\n        const querySnapshot = await getDocs(q);\n\n        if (querySnapshot.empty) {\n            return null;\n        }\n\n        const docSnap = querySnapshot.docs[0];\n        return {\n            id: docSnap.id,\n            ...docSnap.data()\n        } as Article;\n    } catch (error) {\n        console.error('Error getting article by slug:', error);\n        throw error;\n    }\n}\n\n// Create a new article\nexport async function createArticle(articleInput: Partial<Omit<Article, 'id' | 'createdAt' | 'authorId' | 'authorName'>> & { title: string; body: string; }) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to create an article');\n        }\n\n        const newArticleData: Omit<Article, 'id'> = {\n            title: articleInput.title,\n            body: articleInput.body,\n            slug: articleInput.slug || articleInput.title\n                .toLowerCase()\n                .replace(/[\\s\\W-]+/g, '-')\n                .replace(/^-+|-+$/g, ''),\n            createdAt: Timestamp.now(),\n            authorId: user.uid,\n            authorName: user.displayName || user.email?.split('@')[0] || 'Anonymous',\n            tags: articleInput.tags || [],\n            status: articleInput.status || 'published',\n            coverImage: articleInput.coverImage || null,\n            likes: [],\n            excerpt: articleInput.excerpt || '',\n            viewCount: 0,\n            reposts: [],\n            comments: []\n        };\n\n        const docRef = await addDoc(collection(db, 'articles'), newArticleData);\n        return {\n            id: docRef.id,\n            ...newArticleData\n        } as Article;\n    } catch (error) {\n        console.error('Error creating article:', error);\n        throw error;\n    }\n}\n\n// Update an existing article\nexport async function updateArticle(articleId: string, articleData: Partial<Omit<Article, 'id' | 'createdAt' | 'authorId' | 'authorName'>>) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to edit an article');\n        }\n\n        const articleRef = doc(db, 'articles', articleId);\n        const articleSnap = await getDoc(articleRef);\n\n        if (!articleSnap.exists()) {\n            throw new Error('Article not found');\n        }\n\n        const existingArticleData = articleSnap.data() as Article;\n        if (existingArticleData.authorId !== user.uid) {\n            throw new Error('You can only edit your own articles');\n        }\n\n        const updateData: Partial<Article> = { ...articleData };\n\n        if (articleData.title && !articleData.slug) {\n            updateData.slug = articleData.title\n                .toLowerCase()\n                .replace(/[\\s\\W-]+/g, '-')\n                .replace(/^-+|-+$/g, '');\n        }\n        updateData.updatedAt = Timestamp.now();\n\n        await updateDoc(articleRef, updateData);\n\n        const updatedArticleSnap = await getDoc(articleRef);\n        return {\n            id: updatedArticleSnap.id,\n            ...updatedArticleSnap.data()\n        } as Article;\n    } catch (error) {\n        console.error('Error updating article:', error);\n        throw error;\n    }\n}\n\n// Comments functions\nexport async function getArticleComments(articleId: string) {\n    try {\n        const commentsRef = collection(db, 'articles', articleId, 'comments');\n        const q = query(commentsRef, orderBy('createdAt', 'desc'));\n        const querySnapshot = await getDocs(q);\n\n        const comments: ArticleComment[] = [];\n        querySnapshot.forEach((doc) => {\n            const commentData = doc.data() as Omit<ArticleComment, 'id' | 'commentId'>;\n            comments.push({\n                id: doc.id,\n                commentId: doc.id,\n                ...commentData,\n                replies: commentData.replies || []\n            });\n        });\n\n        return comments;\n    } catch (error) {\n        console.error('Error getting comments:', error);\n        throw error;\n    }\n}\n\nexport async function addComment(articleId: string, content: string) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to comment');\n        }\n\n        const newComment: Omit<ArticleComment, 'id' | 'commentId'> = {\n            userId: user.uid,\n            userName: user.displayName || user.email?.split('@')[0] || 'Anonymous',\n            content,\n            createdAt: Timestamp.now(),\n            likes: [],\n            replies: []\n        };\n\n        const docRef = await addDoc(collection(db, 'articles', articleId, 'comments'), newComment);\n\n        const articleInfoForNotification = await getArticleById(articleId);\n        if (articleInfoForNotification && articleInfoForNotification.authorId !== user.uid) {\n            await createCommentNotification(\n                articleInfoForNotification.authorId,\n                articleId,\n                articleInfoForNotification.slug || '',\n                articleInfoForNotification.title || 'Article',\n                docRef.id,\n                content\n            );\n        }\n\n        return {\n            id: docRef.id,\n            commentId: docRef.id,\n            ...newComment\n        } as ArticleComment;\n    } catch (error) {\n        console.error('Error adding comment:', error);\n        throw error;\n    }\n}\n\nexport async function addReply(articleId: string, commentId: string, content: string): Promise<CommentReply> {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to reply');\n        }\n\n        const commentRef = doc(db, 'articles', articleId, 'comments', commentId);\n        const commentSnap = await getDoc(commentRef);\n\n        if (!commentSnap.exists()) {\n            throw new Error('Comment not found');\n        }\n\n        const newReply: CommentReply = {\n            replyId: Math.random().toString(36).substring(2, 15),\n            userId: user.uid,\n            userName: user.displayName || user.email?.split('@')[0] || 'Anonymous',\n            content,\n            createdAt: Timestamp.now(),\n            likes: []\n        };\n\n        await updateDoc(commentRef, {\n            replies: arrayUnion(newReply)\n        });\n\n        const commentData = commentSnap.data() as ArticleComment;\n        if (commentData.userId !== user.uid) {\n            const articleInfo = await getArticleById(articleId);\n            console.log(`User ${user.uid} replied to comment ${commentId} by ${commentData.userId} on article ${articleInfo?.title}`);\n        }\n\n        return newReply;\n    } catch (error) {\n        console.error('Error adding reply:', error);\n        throw error;\n    }\n}\n\nexport async function likeComment(articleId: string, commentId: string) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to like a comment');\n        }\n\n        const commentRef = doc(db, 'articles', articleId, 'comments', commentId);\n        const commentSnap = await getDoc(commentRef);\n\n        if (!commentSnap.exists()) {\n            throw new Error('Comment not found');\n        }\n\n        const commentData = commentSnap.data() as ArticleComment;\n        const userId = user.uid;\n\n        const likes = commentData.likes || [];\n        const hasLiked = likes.includes(userId);\n\n        await updateDoc(commentRef, {\n            likes: hasLiked ? arrayRemove(userId) : arrayUnion(userId)\n        });\n\n        const updatedSnap = await getDoc(commentRef);\n        const updatedData = updatedSnap.data() as ArticleComment;\n\n        return {\n            success: true,\n            action: hasLiked ? 'unliked' : 'liked',\n            likes: updatedData.likes,\n            count: updatedData.likes.length\n        };\n    } catch (error) {\n        console.error('Error liking comment:', error);\n        throw error;\n    }\n}\n\nexport async function deleteComment(articleId: string, commentId: string) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to delete a comment');\n        }\n\n        const commentRef = doc(db, 'articles', articleId, 'comments', commentId);\n        const commentSnap = await getDoc(commentRef);\n\n        if (!commentSnap.exists()) {\n            throw new Error('Comment not found');\n        }\n\n        const commentData = commentSnap.data() as ArticleComment;\n\n        if (commentData.userId !== user.uid) {\n            throw new Error('You can only delete your own comments');\n        }\n\n        await deleteDoc(commentRef);\n\n        return {\n            success: true,\n            message: 'Comment deleted successfully'\n        };\n    } catch (error) {\n        console.error('Error deleting comment:', error);\n        throw error;\n    }\n}\n\n// Delete an article\nexport async function deleteArticle(articleId: string) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to delete an article');\n        }\n\n        const articleRef = doc(db, 'articles', articleId);\n        const articleDoc = await getDoc(articleRef);\n\n        if (!articleDoc.exists()) {\n            throw new Error('Article not found');\n        }\n\n        const articleData = articleDoc.data() as Article;\n\n        if (articleData.authorId !== user.uid) {\n            throw new Error('You can only delete your own articles');\n        }\n\n        await deleteDoc(articleRef);\n\n        return {\n            success: true,\n            message: 'Article deleted successfully'\n        };\n    } catch (error) {\n        console.error('Error deleting article:', error);\n        throw error;\n    }\n}\n\n// Get articles by tag\nexport async function getArticlesByTag(tag: string, options: { limit?: number } = {}) {\n    const { limit: queryLimit } = options;\n    try {\n        const articlesRef = collection(db, 'articles');\n        const queryConstraints: QueryConstraint[] = [\n            where('tags', 'array-contains', tag),\n            where('status', '==', 'published'),\n            orderBy('createdAt', 'desc')\n        ];\n\n        if (queryLimit && queryLimit > 0) {\n            queryConstraints.push(firestoreLimit(queryLimit));\n        }\n\n        const q = query(articlesRef, ...queryConstraints);\n        const querySnapshot = await getDocs(q);\n\n        const articles: Article[] = [];\n        querySnapshot.forEach((docSnapshot) => {\n            articles.push({\n                id: docSnapshot.id,\n                ...docSnapshot.data()\n            } as Article);\n        });\n\n        return articles;\n    } catch (error) {\n        console.error('Error getting articles by tag:', error);\n        throw error;\n    }\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 999, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/NotificationBell.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"bellButton\": \"NotificationBell-module__doceWq__bellButton\",\n  \"bellIcon\": \"NotificationBell-module__doceWq__bellIcon\",\n  \"emptyState\": \"NotificationBell-module__doceWq__emptyState\",\n  \"notificationContainer\": \"NotificationBell-module__doceWq__notificationContainer\",\n  \"notificationContent\": \"NotificationBell-module__doceWq__notificationContent\",\n  \"notificationDropdown\": \"NotificationBell-module__doceWq__notificationDropdown\",\n  \"notificationFooter\": \"NotificationBell-module__doceWq__notificationFooter\",\n  \"notificationHeader\": \"NotificationBell-module__doceWq__notificationHeader\",\n  \"notificationItem\": \"NotificationBell-module__doceWq__notificationItem\",\n  \"notificationList\": \"NotificationBell-module__doceWq__notificationList\",\n  \"notificationMessage\": \"NotificationBell-module__doceWq__notificationMessage\",\n  \"notificationTime\": \"NotificationBell-module__doceWq__notificationTime\",\n  \"seeMoreLink\": \"NotificationBell-module__doceWq__seeMoreLink\",\n  \"unread\": \"NotificationBell-module__doceWq__unread\",\n  \"unreadBadge\": \"NotificationBell-module__doceWq__unreadBadge\",\n  \"unreadDot\": \"NotificationBell-module__doceWq__unreadDot\",\n  \"viewAllLink\": \"NotificationBell-module__doceWq__viewAllLink\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1024, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/components/NotificationBell.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport Link from 'next/link'\nimport { getUnreadNotificationsCount, getUserNotifications, markNotificationAsRead, Notification } from '@/firebase/notifications'\nimport styles from './NotificationBell.module.css'\n\nconst NotificationBell = () => {\n  const [unreadCount, setUnreadCount] = useState<number>(0)\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [isOpen, setIsOpen] = useState<boolean>(false)\n  const notificationRef = useRef<HTMLDivElement>(null)\n\n  // Fetch unread count on mount and set up interval\n  useEffect(() => {\n    const fetchUnreadCount = async () => {\n      const count = await getUnreadNotificationsCount()\n      setUnreadCount(count)\n    }\n\n    // Fetch immediately\n    fetchUnreadCount()\n\n    // Set up polling every 60 seconds\n    const interval = setInterval(fetchUnreadCount, 60000)\n\n    // Clear interval on unmount\n    return () => clearInterval(interval)\n  }, [])\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (notificationRef.current && !notificationRef.current.contains(event.target as Node)) {\n        setIsOpen(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [])\n\n  // Fetch notifications when dropdown is opened\n  useEffect(() => {\n    if (isOpen) {\n      fetchNotifications()\n    }\n  }, [isOpen])\n\n  const fetchNotifications = async () => {\n    try {\n      const fetchedNotifications = await getUserNotifications(false)\n      setNotifications(fetchedNotifications)\n    } catch (error) {\n      console.error('Error fetching notifications:', error)\n    }\n  }\n\n  const handleToggle = () => {\n    setIsOpen(!isOpen)\n  }\n\n  const handleNotificationClick = async (notification: Notification) => {\n    try {\n      if (!notification.read && notification.id) {\n        await markNotificationAsRead(notification.id)\n        \n        // Update local state\n        setUnreadCount(prev => Math.max(prev - 1, 0))\n        setNotifications(prev => \n          prev.map(n => \n            n.id === notification.id \n              ? { ...n, read: true } \n              : n\n          )\n        )\n      }\n    } catch (error) {\n      console.error('Error marking notification as read:', error)\n    }\n  }\n\n  const formatTime = (timestamp: any) => {\n    if (!timestamp) return ''\n    \n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp)\n    const now = new Date()\n    const diffMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60))\n    \n    if (diffMinutes < 1) return 'Just now'\n    if (diffMinutes < 60) return `${diffMinutes}m ago`\n    \n    const diffHours = Math.floor(diffMinutes / 60)\n    if (diffHours < 24) return `${diffHours}h ago`\n    \n    const diffDays = Math.floor(diffHours / 24)\n    if (diffDays < 7) return `${diffDays}d ago`\n    \n    return date.toLocaleDateString()\n  }\n\n  // Get the appropriate link for different notification types\n  const getNotificationLink = (notification: Notification) => {\n    if (notification.type === 'follow') {\n      // For follow notifications, link to the user's profile using the fromUser's username\n      if (notification.fromUser?.username) {\n        return `/user/${notification.fromUser.username}`;\n      }\n      // Fallback to notifications page if username is missing\n      return '/notifications';\n    } else if (notification.articleSlug) {\n      // For article-related notifications (comments, likes, etc.)\n      return `/articles?slug=${notification.articleSlug}`;\n    } else {\n      // Default to notifications page\n      return '/notifications';\n    }\n  }\n\n  return (\n    <div className={styles.notificationContainer} ref={notificationRef}>\n      <button className={styles.bellButton} onClick={handleToggle}>\n        <span className={styles.bellIcon}></span>\n        {unreadCount > 0 && (\n          <span className={styles.unreadBadge}>{unreadCount}</span>\n        )}\n      </button>\n      \n      {isOpen && (\n        <div className={styles.notificationDropdown}>\n          <div className={styles.notificationHeader}>\n            <h3>Notifications</h3>\n            {notifications.length > 0 && (\n              <Link href=\"/notifications\" className={styles.viewAllLink}>\n                View All\n              </Link>\n            )}\n          </div>\n          \n          <div className={styles.notificationList}>\n            {notifications.length === 0 ? (\n              <div className={styles.emptyState}>\n                No notifications yet\n              </div>\n            ) : (\n              notifications.slice(0, 5).map((notification) => (\n                <Link \n                  href={getNotificationLink(notification)} \n                  key={notification.id}\n                  className={`${styles.notificationItem} ${!notification.read ? styles.unread : ''}`}\n                  onClick={() => handleNotificationClick(notification)}\n                >\n                  <div className={styles.notificationContent}>\n                    <p className={styles.notificationMessage}>\n                      {notification.message}\n                    </p>\n                    <span className={styles.notificationTime}>\n                      {formatTime(notification.createdAt)}\n                    </span>\n                  </div>\n                  {!notification.read && (\n                    <div className={styles.unreadDot}></div>\n                  )}\n                </Link>\n              ))\n            )}\n          </div>\n          \n          {notifications.length > 5 && (\n            <div className={styles.notificationFooter}>\n              <Link href=\"/notifications\" className={styles.seeMoreLink}>\n                See more notifications\n              </Link>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default NotificationBell "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1283, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/services/userService.ts"],"sourcesContent":["import {\n    doc,\n    setDoc,\n    getDoc,\n    query,\n    collection,\n    where,\n    getDocs,\n    serverTimestamp,\n    updateDoc,\n    arrayUnion,\n    arrayRemove,\n    increment,\n    limit,\n    deleteDoc\n} from 'firebase/firestore';\nimport { updateProfile, deleteUser as deleteFirebaseAuthUser } from 'firebase/auth';\nimport { auth, db } from '../firebase/clientApp';\nimport { createFollowNotification } from '../firebase/notifications';\n\nexport interface UserProfile {\n    uid: string;\n    firstName: string;\n    lastName: string;\n    username: string;\n    email: string;\n    bio?: string;\n    createdAt: any;\n    following?: string[];\n    followers?: string[];\n    followersCount?: number;\n    followingCount?: number;\n    interests?: string[];\n}\n\n/**\n * Checks if a username is already taken\n * @param username The username to check\n * @returns A promise that resolves to a boolean indicating if the username is taken\n */\nexport async function isUsernameTaken(username: string): Promise<boolean> {\n    try {\n        const usernameQuery = query(\n            collection(db, 'users'),\n            where('username', '==', username.toLowerCase())\n        );\n\n        const querySnapshot = await getDocs(usernameQuery);\n        return !querySnapshot.empty;\n    } catch (error) {\n        console.error('Error checking username:', error);\n        throw error;\n    }\n}\n\n/**\n * Creates a user profile in Firestore\n * @param uid User's Firebase Auth UID\n * @param profile User profile data\n */\nexport async function createUserProfile(uid: string, profile: Omit<UserProfile, 'uid' | 'createdAt'>): Promise<void> {\n    try {\n        // First check if this user ID already has a profile\n        const existingUserProfile = await getUserProfile(uid);\n        if (existingUserProfile) {\n            console.log('User profile already exists, updating instead of creating');\n\n            // Update existing profile\n            const userRef = doc(db, 'users', uid);\n            await updateDoc(userRef, {\n                firstName: profile.firstName,\n                lastName: profile.lastName,\n                username: profile.username.toLowerCase(),\n                email: profile.email.toLowerCase(),\n                bio: profile.bio || existingUserProfile.bio || ''\n            });\n\n            // Update the user's display name in Firebase Auth\n            if (auth.currentUser) {\n                await updateProfile(auth.currentUser, {\n                    displayName: profile.username\n                });\n            }\n\n            return;\n        }\n\n        // Check if email already exists in another profile\n        const emailQuery = query(\n            collection(db, 'users'),\n            where('email', '==', profile.email.toLowerCase())\n        );\n\n        const emailQuerySnapshot = await getDocs(emailQuery);\n        if (!emailQuerySnapshot.empty) {\n            throw new Error('Email is already associated with another account');\n        }\n\n        // Check if the username is already taken\n        const usernameTaken = await isUsernameTaken(profile.username);\n        if (usernameTaken) {\n            throw new Error('Username is already taken');\n        }\n\n        const userRef = doc(db, 'users', uid);\n\n        // Create the user profile\n        await setDoc(userRef, {\n            uid,\n            firstName: profile.firstName,\n            lastName: profile.lastName,\n            username: profile.username.toLowerCase(),\n            email: profile.email.toLowerCase(),\n            bio: profile.bio || '',\n            createdAt: serverTimestamp()\n        });\n\n        // Update the user's display name in Firebase Auth\n        if (auth.currentUser) {\n            await updateProfile(auth.currentUser, {\n                displayName: profile.username\n            });\n        }\n    } catch (error) {\n        console.error('Error creating user profile:', error);\n        throw error;\n    }\n}\n\n/**\n * Gets a user's profile from Firestore\n * @param uid User's Firebase Auth UID\n * @returns A promise that resolves to the user's profile or null if not found\n */\nexport async function getUserProfile(uid: string): Promise<UserProfile | null> {\n    try {\n        const userRef = doc(db, 'users', uid);\n        const userDoc = await getDoc(userRef);\n\n        if (userDoc.exists()) {\n            return userDoc.data() as UserProfile;\n        }\n\n        return null;\n    } catch (error) {\n        console.error('Error fetching user profile:', error);\n        throw error;\n    }\n}\n\n/**\n * Gets a user's profile from Firestore based on their email\n * @param email User's email address\n * @returns A promise that resolves to the user's profile or null if not found\n */\nexport async function getUserProfileByEmail(email: string): Promise<UserProfile | null> {\n    if (!email) return null;\n    try {\n        const emailQuery = query(\n            collection(db, 'users'),\n            where('email', '==', email.toLowerCase()),\n            limit(1)\n        );\n        const querySnapshot = await getDocs(emailQuery);\n        if (!querySnapshot.empty) {\n            // Should only be one user with a unique email\n            return querySnapshot.docs[0].data() as UserProfile;\n        }\n        return null;\n    } catch (error) {\n        console.error('Error fetching user profile by email:', error);\n        throw error; // Re-throw to be handled by the caller\n    }\n}\n\n/**\n * Updates a user's bio\n * @param uid User's Firebase Auth UID\n * @param bio User's new bio\n * @returns A promise that resolves when the bio is updated\n */\nexport async function updateUserBio(uid: string, bio: string): Promise<void> {\n    try {\n        const userRef = doc(db, 'users', uid);\n        await updateDoc(userRef, {\n            bio\n        });\n    } catch (error) {\n        console.error('Error updating user bio:', error);\n        throw error;\n    }\n}\n\n/**\n * Updates a user's selected interests\n * @param uid User's Firebase Auth UID\n * @param interests Array of selected interests\n * @returns A promise that resolves when the interests are updated\n */\nexport async function updateUserInterests(uid: string, interests: string[]): Promise<void> {\n    try {\n        const userRef = doc(db, 'users', uid);\n        await updateDoc(userRef, {\n            interests\n        });\n        console.log(`Interests updated for user ${uid}:`, interests);\n    } catch (error) {\n        console.error('Error updating user interests:', error);\n        throw error;\n    }\n}\n\n/**\n * Search for users by username or name\n * @param searchTerm The search term to find users\n * @returns Array of matching users\n */\nexport async function searchUsers(searchTerm: string): Promise<UserProfile[]> {\n    try {\n        if (!searchTerm || searchTerm.trim().length < 2) {\n            return [];\n        }\n\n        const searchTermLower = searchTerm.toLowerCase().trim();\n\n        // Create a query to find users whose username contains the search term\n        const usersRef = collection(db, 'users');\n        const usersSnapshot = await getDocs(usersRef);\n\n        // Filter users locally since Firestore doesn't support contains or regexp queries directly\n        const matchingUsers = usersSnapshot.docs\n            .map(doc => {\n                // Get all data from the document and ensure it has the correct UserProfile shape\n                const userData = doc.data() as UserProfile;\n                return userData;\n            })\n            .filter(user => {\n                const usernameLower = user.username.toLowerCase();\n                const firstNameLower = user.firstName.toLowerCase();\n                const lastNameLower = user.lastName.toLowerCase();\n                const fullNameLower = `${firstNameLower} ${lastNameLower}`;\n\n                return usernameLower.includes(searchTermLower) ||\n                    firstNameLower.includes(searchTermLower) ||\n                    lastNameLower.includes(searchTermLower) ||\n                    fullNameLower.includes(searchTermLower);\n            });\n\n        return matchingUsers;\n    } catch (error) {\n        console.error('Error searching users:', error);\n        return [];\n    }\n}\n\n/**\n * Follows a user\n * @param followerUid UID of the user who wants to follow\n * @param followingUid UID of the user to be followed\n * @returns A promise that resolves when the follow relationship is created\n */\nexport async function followUser(followerUid: string, followingUid: string): Promise<void> {\n    try {\n        // Don't allow users to follow themselves\n        if (followerUid === followingUid) {\n            throw new Error('You cannot follow yourself');\n        }\n\n        // Update the follower's following list\n        const followerRef = doc(db, 'users', followerUid);\n        await updateDoc(followerRef, {\n            following: arrayUnion(followingUid),\n            followingCount: increment(1)\n        });\n\n        // Update the following's followers list\n        const followingRef = doc(db, 'users', followingUid);\n        await updateDoc(followingRef, {\n            followers: arrayUnion(followerUid),\n            followersCount: increment(1)\n        });\n\n        // Get the follower's profile to use their name for the notification\n        const followerDoc = await getDoc(followerRef);\n        if (followerDoc.exists()) {\n            const followerData = followerDoc.data() as UserProfile;\n            // Create a notification for the user being followed\n            await createFollowNotification(\n                followingUid,\n                `${followerData.firstName} ${followerData.lastName}`,\n                followerUid,\n                followerData.username\n            );\n        }\n    } catch (error) {\n        console.error('Error following user:', error);\n        throw error;\n    }\n}\n\n/**\n * Unfollows a user\n * @param followerUid UID of the user who wants to unfollow\n * @param followingUid UID of the user to be unfollowed\n * @returns A promise that resolves when the follow relationship is removed\n */\nexport async function unfollowUser(followerUid: string, followingUid: string): Promise<void> {\n    try {\n        // Update the follower's following list\n        const followerRef = doc(db, 'users', followerUid);\n        await updateDoc(followerRef, {\n            following: arrayRemove(followingUid),\n            followingCount: increment(-1)\n        });\n\n        // Update the following's followers list\n        const followingRef = doc(db, 'users', followingUid);\n        await updateDoc(followingRef, {\n            followers: arrayRemove(followerUid),\n            followersCount: increment(-1)\n        });\n    } catch (error) {\n        console.error('Error unfollowing user:', error);\n        throw error;\n    }\n}\n\n/**\n * Checks if a user is following another user\n * @param followerUid UID of the potential follower\n * @param followingUid UID of the user who might be followed\n * @returns Promise resolving to a boolean indicating if follower follows following\n */\nexport async function isFollowing(followerUid: string, followingUid: string): Promise<boolean> {\n    try {\n        const followerRef = doc(db, 'users', followerUid);\n        const followerDoc = await getDoc(followerRef);\n\n        if (!followerDoc.exists()) {\n            return false;\n        }\n\n        const userData = followerDoc.data() as UserProfile;\n        return userData.following?.includes(followingUid) || false;\n    } catch (error) {\n        console.error('Error checking follow status:', error);\n        throw error;\n    }\n}\n\n/**\n * Gets a list of users that a user is following\n * @param uid User's Firebase Auth UID\n * @param maxLimit Maximum number of results to return\n * @returns Promise resolving to an array of user profiles\n */\nexport async function getFollowing(uid: string, maxLimit = 50): Promise<UserProfile[]> {\n    try {\n        // First get the user to access their following list\n        const userRef = doc(db, 'users', uid);\n        const userDoc = await getDoc(userRef);\n\n        if (!userDoc.exists()) {\n            return [];\n        }\n\n        const userData = userDoc.data() as UserProfile;\n        const followingList = userData.following || [];\n\n        if (followingList.length === 0) {\n            return [];\n        }\n\n        // Fetch each following user's profile\n        const followingUsers: UserProfile[] = [];\n        const batchLimit = Math.min(followingList.length, maxLimit);\n\n        for (let i = 0; i < batchLimit; i++) {\n            const followingId = followingList[i];\n            const followingUserRef = doc(db, 'users', followingId);\n            const followingUserDoc = await getDoc(followingUserRef);\n\n            if (followingUserDoc.exists()) {\n                followingUsers.push(followingUserDoc.data() as UserProfile);\n            }\n        }\n\n        return followingUsers;\n    } catch (error) {\n        console.error('Error getting following list:', error);\n        throw error;\n    }\n}\n\n/**\n * Gets a list of users following a user\n * @param uid User's Firebase Auth UID\n * @param maxLimit Maximum number of results to return\n * @returns Promise resolving to an array of user profiles\n */\nexport async function getFollowers(uid: string, maxLimit = 50): Promise<UserProfile[]> {\n    try {\n        // First get the user to access their followers list\n        const userRef = doc(db, 'users', uid);\n        const userDoc = await getDoc(userRef);\n\n        if (!userDoc.exists()) {\n            return [];\n        }\n\n        const userData = userDoc.data() as UserProfile;\n        const followersList = userData.followers || [];\n\n        if (followersList.length === 0) {\n            return [];\n        }\n\n        // Fetch each follower's profile\n        const followers: UserProfile[] = [];\n        const batchLimit = Math.min(followersList.length, maxLimit);\n\n        for (let i = 0; i < batchLimit; i++) {\n            const followerId = followersList[i];\n            const followerUserRef = doc(db, 'users', followerId);\n            const followerUserDoc = await getDoc(followerUserRef);\n\n            if (followerUserDoc.exists()) {\n                followers.push(followerUserDoc.data() as UserProfile);\n            }\n        }\n\n        return followers;\n    } catch (error) {\n        console.error('Error getting followers list:', error);\n        throw error;\n    }\n}\n\n/**\n * Deletes a user's account from Firebase Authentication and their profile from Firestore.\n * IMPORTANT: Deleting a user from Firebase Auth requires recent sign-in. \n * If this operation fails due to 'auth/requires-recent-login', \n * the client-side must handle re-authentication before retrying.\n * @param uid User's Firebase Auth UID\n * @returns A promise that resolves when the account and profile are deleted.\n */\nexport async function deleteUserAccount(uid: string): Promise<void> {\n    try {\n        // 1. Delete user profile from Firestore\n        const userProfileRef = doc(db, 'users', uid);\n        await deleteDoc(userProfileRef);\n        console.log(`User profile for UID ${uid} deleted from Firestore.`);\n\n        // 2. Delete user from Firebase Authentication\n        // This requires the current user to be the one being deleted.\n        // And the user must have signed in recently.\n        const currentUser = auth.currentUser;\n        if (currentUser && currentUser.uid === uid) {\n            await deleteFirebaseAuthUser(currentUser);\n            console.log(`User account for UID ${uid} deleted from Firebase Authentication.`);\n        } else if (!currentUser) {\n            console.error('No current user authenticated. Cannot delete Firebase Auth user.');\n            throw new Error('Authentication required to delete account.');\n        } else {\n            // This case (currentUser.uid !== uid) should ideally not happen if the function\n            // is called correctly from the client for the logged-in user.\n            console.error('Current authenticated user does not match UID to be deleted.');\n            throw new Error('Mismatch between authenticated user and account to be deleted.');\n        }\n\n    } catch (error: any) {\n        console.error('Error deleting user account:', error);\n        // Specific check for re-authentication requirement\n        if (error.code === 'auth/requires-recent-login') {\n            throw new Error('This operation is sensitive and requires recent authentication. Please sign out and sign back in, then try again.');\n        }\n        throw new Error('Failed to delete user account. ' + error.message);\n    }\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1613, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/components/UserSearch.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport Link from 'next/link';\nimport { searchUsers, UserProfile } from '@/services/userService';\nimport styles from '@/styles/home.module.css';\n\nconst UserSearch: React.FC = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<UserProfile[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [showResults, setShowResults] = useState(false);\n  const searchInputRef = useRef<HTMLInputElement>(null);\n  const resultsRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    // Add click outside listener to close results\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        resultsRef.current && \n        !resultsRef.current.contains(event.target as Node) &&\n        searchInputRef.current && \n        !searchInputRef.current.contains(event.target as Node)\n      ) {\n        setShowResults(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(async () => {\n      if (searchTerm.trim().length >= 2) {\n        setIsSearching(true);\n        try {\n          const results = await searchUsers(searchTerm);\n          setSearchResults(results);\n          setShowResults(true);\n        } catch (error) {\n          console.error('Error searching users:', error);\n        } finally {\n          setIsSearching(false);\n        }\n      } else {\n        setSearchResults([]);\n        setShowResults(false);\n      }\n    }, 300);\n\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchTerm]);\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleFocus = () => {\n    if (searchTerm.trim().length >= 2 && searchResults.length > 0) {\n      setShowResults(true);\n    }\n  };\n\n  return (\n    <div className={styles.searchContainer}>\n      <div className={styles.searchInputWrapper}>\n        <input\n          type=\"text\"\n          ref={searchInputRef}\n          className={styles.searchInput}\n          placeholder=\"Search users by name or username...\"\n          value={searchTerm}\n          onChange={handleSearchChange}\n          onFocus={handleFocus}\n        />\n        {isSearching && <div className={styles.searchLoading}>Searching...</div>}\n      </div>\n      \n      {showResults && searchResults.length > 0 && (\n        <div ref={resultsRef} className={styles.searchResults}>\n          {searchResults.map((user) => (\n            <Link \n              key={user.uid} \n              href={`/user/${encodeURIComponent(user.username.toLowerCase())}`}\n              className={styles.searchResultItem}\n              onClick={() => setShowResults(false)}\n            >\n              <div className={styles.userAvatar}>\n                {user.firstName.charAt(0)}{user.lastName.charAt(0)}\n              </div>\n              <div className={styles.userInfo}>\n                <div className={styles.userName}>{user.firstName} {user.lastName}</div>\n                <div className={styles.userUsername}>@{user.username}</div>\n              </div>\n            </Link>\n          ))}\n        </div>\n      )}\n      \n      {showResults && searchTerm.trim().length >= 2 && searchResults.length === 0 && (\n        <div className={styles.searchResults}>\n          <div className={styles.noResults}>No users found matching \"{searchTerm}\"</div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserSearch; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1804, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/components/SearchBar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport UserSearch from './UserSearch';\nimport styles from '@/styles/home.module.css';\n\nconst SearchBar: React.FC = () => {\n  return (\n    <div className={styles.searchBarContainer}>\n      <UserSearch />\n    </div>\n  );\n};\n\nexport default SearchBar; "],"names":[],"mappings":";;;;AAGA;AACA;AAJA;;;;AAMA,MAAM,YAAsB;IAC1B,qBACE,8OAAC;QAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,kBAAkB;kBACvC,cAAA,8OAAC,gIAAA,CAAA,UAAU;;;;;;;;;;AAGjB;uCAEe","debugId":null}},
    {"offset": {"line": 1835, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/components/LeftSidebar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport styles from '@/styles/home.module.css';\nimport SearchBar from './SearchBar';\n\ninterface LeftSidebarProps {\n  isAuthenticated: boolean;\n  handleLogout: () => void;\n  toggleSidebar: () => void;\n  isSidebarCollapsed: boolean;\n}\n\nconst LeftSidebar: React.FC<LeftSidebarProps> = ({\n  isAuthenticated,\n  handleLogout,\n  toggleSidebar,\n  isSidebarCollapsed\n}) => (\n  <aside className={`${styles['left-sidebar']} ${isSidebarCollapsed ? styles['collapsed'] : ''}`}>\n    <div className={styles['sidebar-header']}>\n      <div className={styles.logo}>Journalite</div>\n      <button\n        className={styles['toggle-button']}\n        onClick={toggleSidebar}\n        aria-label={isSidebarCollapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\n      >\n        {isSidebarCollapsed ? \"\" : \"\"}\n      </button>\n    </div>\n    \n    {/* Add search bar */}\n    <div className={styles.sidebarSearch}>\n      <SearchBar />\n    </div>\n    \n    <nav className={styles['vertical-nav']}>\n      {isAuthenticated ? (\n        // Navigation for authenticated users\n        <>\n          <Link \n            href=\"/\" \n            className={`${styles['nav-link']} ${styles['nav-home']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Home</span>\n          </Link>\n          <Link \n            href=\"/my-thoughts\" \n            className={`${styles['nav-link']} ${styles['nav-thoughts']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>My Thoughts</span>\n          </Link>\n          <Link \n            href=\"/create-article\" \n            className={`${styles['nav-link']} ${styles['nav-create']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Create Article</span>\n          </Link>\n          <Link \n            href=\"/explore\" \n            className={`${styles['nav-link']} ${styles['nav-explore']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Explore</span>\n          </Link>\n          <Link \n            href=\"/my-profile\" \n            className={`${styles['nav-link']} ${styles['nav-profile']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>My Profile</span>\n          </Link>\n          <Link \n            href=\"/settings\" \n            className={`${styles['nav-link']} ${styles['nav-settings']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Settings</span>\n          </Link>\n          <Link \n            href=\"/notifications\" \n            className={`${styles['nav-link']} ${styles['nav-notifications']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Notifications</span>\n          </Link>\n          <Link \n            href=\"https://journalite.app/\" \n            className={`${styles['nav-link']} ${styles['nav-learn-more']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Learn More</span>\n          </Link>\n          <button \n            onClick={handleLogout}\n            className={`${styles['nav-link']} ${styles['nav-logout']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Log out</span>\n          </button>\n        </>\n      ) : (\n        // Navigation for non-authenticated users\n        <>\n          <Link \n            href=\"/\" \n            className={`${styles['nav-link']} ${styles['nav-home']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Home</span>\n          </Link>\n          <Link \n            href=\"/login\" \n            className={`${styles['nav-link']} ${styles['nav-login']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Login</span>\n          </Link>\n          <Link \n            href=\"https://journalite.app/\" \n            className={`${styles['nav-link']} ${styles['nav-learn-more']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Learn More</span>\n          </Link>\n          <Link \n            href=\"/plans\" \n            className={`${styles['nav-link']} ${styles['nav-plans']}`}\n          >\n            <span className={styles['nav-icon']}></span>\n            <span className={styles['nav-text']}>Plans</span>\n          </Link>\n        </>\n      )}\n    </nav>\n  </aside>\n);\n\nexport default LeftSidebar; "],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAcA,MAAM,cAA0C,CAAC,EAC/C,eAAe,EACf,YAAY,EACZ,aAAa,EACb,kBAAkB,EACnB,iBACC,8OAAC;QAAM,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,eAAe,CAAC,CAAC,EAAE,qBAAqB,iIAAA,CAAA,UAAM,CAAC,YAAY,GAAG,IAAI;;0BAC5F,8OAAC;gBAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,iBAAiB;;kCACtC,8OAAC;wBAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,IAAI;kCAAE;;;;;;kCAC7B,8OAAC;wBACC,WAAW,iIAAA,CAAA,UAAM,CAAC,gBAAgB;wBAClC,SAAS;wBACT,cAAY,qBAAqB,mBAAmB;kCAEnD,qBAAqB,MAAM;;;;;;;;;;;;0BAKhC,8OAAC;gBAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,aAAa;0BAClC,cAAA,8OAAC,+HAAA,CAAA,UAAS;;;;;;;;;;0BAGZ,8OAAC;gBAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,eAAe;0BACnC,kBACC,qCAAqC;8BACrC;;sCACE,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,WAAW,EAAE;;8CAExD,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,eAAe,EAAE;;8CAE5D,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,aAAa,EAAE;;8CAE1D,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,cAAc,EAAE;;8CAE3D,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,cAAc,EAAE;;8CAE3D,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,eAAe,EAAE;;8CAE5D,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,oBAAoB,EAAE;;8CAEjE,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,iBAAiB,EAAE;;8CAE9D,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC;4BACC,SAAS;4BACT,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,aAAa,EAAE;;8CAE1D,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;;mCAIzC,yCAAyC;8BACzC;;sCACE,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,WAAW,EAAE;;8CAExD,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,YAAY,EAAE;;8CAEzD,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,iBAAiB,EAAE;;8CAE9D,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;sCAEvC,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,YAAY,EAAE;;8CAEzD,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;8CACrC,8OAAC;oCAAK,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;8CAAE;;;;;;;;;;;;;;;;;;;;;;;;;uCAQlC","debugId":null}},
    {"offset": {"line": 2255, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ShareModal.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"articleExcerptPreview\": \"ShareModal-module__0Rx0Oq__articleExcerptPreview\",\n  \"articleImage\": \"ShareModal-module__0Rx0Oq__articleImage\",\n  \"articlePreview\": \"ShareModal-module__0Rx0Oq__articlePreview\",\n  \"articleTitlePreview\": \"ShareModal-module__0Rx0Oq__articleTitlePreview\",\n  \"closeButton\": \"ShareModal-module__0Rx0Oq__closeButton\",\n  \"copyButton\": \"ShareModal-module__0Rx0Oq__copyButton\",\n  \"copyLinkContainer\": \"ShareModal-module__0Rx0Oq__copyLinkContainer\",\n  \"fadeIn\": \"ShareModal-module__0Rx0Oq__fadeIn\",\n  \"modal\": \"ShareModal-module__0Rx0Oq__modal\",\n  \"overlay\": \"ShareModal-module__0Rx0Oq__overlay\",\n  \"scaleUp\": \"ShareModal-module__0Rx0Oq__scaleUp\",\n  \"shareActions\": \"ShareModal-module__0Rx0Oq__shareActions\",\n  \"shareViaText\": \"ShareModal-module__0Rx0Oq__shareViaText\",\n  \"socialIcons\": \"ShareModal-module__0Rx0Oq__socialIcons\",\n  \"title\": \"ShareModal-module__0Rx0Oq__title\",\n  \"urlInput\": \"ShareModal-module__0Rx0Oq__urlInput\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 2279, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/components/ShareModal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport styles from './ShareModal.module.css'; // We will create this CSS module next\n\ninterface ShareModalProps {\n  articleTitle: string;\n  articleUrl: string;\n  isOpen: boolean;\n  onClose: () => void;\n  coverImageUrl?: string | null; // Optional: for a richer preview\n  excerpt?: string; // Optional: for a richer preview\n}\n\nconst ShareModal: React.FC<ShareModalProps> = ({\n  articleTitle,\n  articleUrl,\n  isOpen,\n  onClose,\n  coverImageUrl,\n  excerpt\n}) => {\n  const [copied, setCopied] = useState(false);\n\n  useEffect(() => {\n    if (!isOpen) {\n      setCopied(false); // Reset copied state when modal closes\n      return;\n    }\n\n    // Optional: Add/remove class to body to prevent scrolling when modal is open\n    document.body.style.overflow = 'hidden';\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) {\n    return null;\n  }\n\n  const handleCopyLink = () => {\n    navigator.clipboard.writeText(articleUrl).then(() => {\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000); // Reset after 2 seconds\n    }).catch(err => {\n      console.error('Failed to copy: ', err);\n      // Optionally: show an error message to the user\n    });\n  };\n\n  // Placeholder social share URLs - replace with actual sharing intents\n  const twitterShareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(articleUrl)}&text=${encodeURIComponent(articleTitle)}`;\n  const facebookShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(articleUrl)}`;\n  const linkedinShareUrl = `https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(articleUrl)}&title=${encodeURIComponent(articleTitle)}`;\n\n  return (\n    <div className={styles.overlay} onClick={onClose}>\n      <div className={styles.modal} onClick={(e) => e.stopPropagation()}>\n        <button className={styles.closeButton} onClick={onClose} aria-label=\"Close share dialog\">\n          {/* Placeholder for Close Icon SVG */}\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" className=\"w-6 h-6\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n\n        <h2 className={styles.title}>Share this article</h2>\n\n        {/* Optional: Article Preview */}\n        <div className={styles.articlePreview}>\n          {coverImageUrl && (\n            <img src={coverImageUrl} alt={articleTitle} className={styles.articleImage} />\n          )}\n          <h3 className={styles.articleTitlePreview}>{articleTitle}</h3>\n          {excerpt && <p className={styles.articleExcerptPreview}>{excerpt}</p>}\n        </div>\n\n        <div className={styles.shareActions}>\n          <div className={styles.copyLinkContainer}>\n            <input type=\"text\" value={articleUrl} readOnly className={styles.urlInput} />\n            <button onClick={handleCopyLink} className={styles.copyButton}>\n              {copied ? 'Copied!' : 'Copy Link'}\n            </button>\n          </div>\n\n          <p className={styles.shareViaText}>Or share via:</p>\n          <div className={styles.socialIcons}>\n            <a href={twitterShareUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Share on Twitter\">\n              {/* Placeholder for Twitter Icon SVG */}\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-6 h-6\"><path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733a4.67 4.67 0 002.048-2.578 9.3 9.3 0 01-2.958 1.13 4.66 4.66 0 00-7.952 4.256c-3.873 0-7.307-2.05-9.602-4.868a4.662 4.662 0 001.443 6.225 4.656 4.656 0 01-2.11-.583v.06a4.657 4.657 0 003.734 4.562 4.634 4.634 0 01-2.105.08 4.646 4.646 0 004.34 3.225A9.342 9.342 0 010 19.539a13.186 13.186 0 007.141 2.093c8.567 0 13.255-7.098 13.255-13.254 0-.202-.005-.403-.014-.602a9.49 9.49 0 002.323-2.394z\"></path></svg>\n            </a>\n            <a href={facebookShareUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Share on Facebook\">\n              {/* Placeholder for Facebook Icon SVG */}\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-6 h-6\"><path d=\"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878V14.89h-2.89v-2.98h2.89v-2.28c0-2.874 1.704-4.48 4.356-4.48 1.247 0 2.31.093 2.622.134v2.596h-1.54c-1.394 0-1.666.664-1.666 1.632v2.14h2.886l-.39 2.98h-2.496v7.008C18.343 21.128 22 16.991 22 12z\"></path></svg>\n            </a>\n            <a href={linkedinShareUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Share on LinkedIn\">\n              {/* Placeholder for LinkedIn Icon SVG */}\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-6 h-6\"><path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z\"></path></svg>\n            </a>\n            {/* Add more social icons as needed */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ShareModal; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2550, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from 'react'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport styles from '@/styles/home.module.css'\nimport { auth } from '../firebase/clientApp'\nimport { onAuthStateChanged, signOut } from 'firebase/auth'\nimport { getArticles, Article as FirestoreArticle } from '../firebase/articles'\nimport NotificationBell from '@/components/NotificationBell'\nimport LeftSidebar from '@/components/LeftSidebar'\nimport ShareModal from '@/components/ShareModal'\nimport Head from 'next/head'\n\n// Types for our article data based on actual API structure\ninterface Article {\n  _id: string;\n  title: string;\n  slug: string;\n  authorId: string;\n  authorName?: string;\n  excerpt?: string;\n  coverImageUrl?: string | null;\n  tags?: string[];\n  content: {\n    paragraphId: string;\n    text: string;\n    likes?: string[];\n    comments?: any[];\n  }[];\n  likes?: string[];\n  reposts?: string[];\n  comments?: any[];\n  viewCount?: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\n// Interface for article details to be passed to the modal\ninterface SharingArticleDetails {\n  title: string;\n  slug: string;\n  coverImageUrl?: string | null;\n  excerpt?: string;\n}\n\n// Author mapping for using authorId to display author name - legacy system\nconst authorMapping: {[key: string]: string} = {\n  \"84b2f82c-1e93-498a-983e-3b30a8379e63\": \"Samuel Green\",\n  \"user_002\": \"Alex Martinez\",\n  \"kristen-lee-id\": \"Kristen Lee\",\n  \"alex-wen-id\": \"Alex Wen\",\n  \"hannah-cole-id\": \"Hannah Cole\"\n};\n\n// Adapter function to convert Firestore articles to match our UI format\nconst adaptFirestoreArticle = (firestoreArticle: FirestoreArticle): Article => {\n  return {\n    _id: firestoreArticle.id || '',\n    title: firestoreArticle.title,\n    slug: firestoreArticle.slug || firestoreArticle.title.toLowerCase().replace(/[^\\w\\s]/gi, '').replace(/\\s+/g, '-'),\n    authorId: firestoreArticle.authorId,\n    authorName: firestoreArticle.authorName,\n    coverImageUrl: firestoreArticle.coverImage || null,\n    tags: firestoreArticle.tags,\n    content: [\n      {\n        paragraphId: 'p1',\n        text: firestoreArticle.body,\n        likes: [],\n        comments: []\n      }\n    ],\n    likes: [],\n    reposts: [],\n    comments: [],\n    createdAt: firestoreArticle.createdAt.toDate().toISOString(),\n    updatedAt: firestoreArticle.createdAt.toDate().toISOString()\n  };\n};\n\n// Fallback mock data only used when API is unavailable\nconst mockArticles: Article[] = [\n  {\n    _id: \"60e6cbb8f19a4b3d8c3a7f21\",\n    authorId: \"84b2f82c-1e93-498a-983e-3b30a8379e63\",\n    title: \"The Future of Artificial Intelligence: Transforming Our World\",\n    slug: \"updated-first-article\",\n    coverImageUrl: \"https://images.unsplash.com/photo-1677442136019-21780ecad995\",\n    tags: [\"AI\", \"Machine Learning\"],\n    content: [\n      { \n        paragraphId: \"p1\",\n        text: \"Artificial Intelligence (AI) stands at the forefront of technological innovation, promising to revolutionize every aspect of our lives. From healthcare to transportation, education to entertainment, AI's influence continues to grow exponentially.\"\n      }\n    ],\n    createdAt: \"2025-04-09T12:00:00.000Z\",\n    updatedAt: \"2025-04-09T14:00:00.000Z\"\n  },\n  {\n    _id: \"60e6cbb8f19a4b3d8c3a7f99\",\n    authorId: \"user_002\",\n    title: \"The Rise of Gen Z Creators\",\n    slug: \"gen-z-rise\",\n    coverImageUrl: \"https://images.unsplash.com/photo-1601908804492-7f3d9d42e1b3\",\n    tags: [\"Culture\", \"Youth\"],\n    content: [\n      {\n        paragraphId: \"p1\",\n        text: \"Gen Z is redefining creativity in the age of social media, turning platforms like TikTok and YouTube into launching pads for innovative voices around the globe.\"\n      }\n    ],\n    createdAt: \"2025-04-10T12:00:00.000Z\",\n    updatedAt: \"2025-04-10T13:00:00.000Z\"\n  },\n  {\n    _id: \"70f7d1e2a8b24d1fa2c1b8f3\",\n    authorId: \"kristen-lee-id\",\n    title: \"Unravelling the Ethics of AI\",\n    slug: \"unravelling-ethics-of-ai\",\n    coverImageUrl: \"https://images.unsplash.com/photo-1581091012184-7c07f32c2f32\",\n    tags: [\"Ethics\", \"AI\"],\n    content: [\n      {\n        paragraphId: \"p1\",\n        text: \"As artificial intelligence rapidly advances, we must confront moral questions around bias, privacy, and accountability. Who is responsible when an AI-powered system errs, and how do we ensure fair outcomes for all?\"\n      }\n    ],\n    createdAt: \"2025-04-12T09:00:00.000Z\",\n    updatedAt: \"2025-04-12T09:00:00.000Z\"\n  },\n  {\n    _id: \"81a8d2f3b9c35e2ab3d2c4e5\",\n    authorId: \"alex-wen-id\",\n    title: \"The Hidden Costs of Urbanization\",\n    slug: \"hidden-costs-of-urbanization\",\n    coverImageUrl: \"https://images.unsplash.com/photo-1541051646-784cfc8a2c21\",\n    tags: [\"Urbanization\", \"Society\"],\n    content: [\n      {\n        paragraphId: \"p1\",\n        text: \"Cities grow at breakneck speed, but beneath the skylines lie rising living costs, environmental strain, and widening inequality. How do we balance prosperity with sustainability in our everexpanding metropolises?\"\n      }\n    ],\n    createdAt: \"2025-04-12T09:15:00.000Z\",\n    updatedAt: \"2025-04-12T09:15:00.000Z\"\n  },\n  {\n    _id: \"92h9ffg3c41d7e6g1f6h0g54\",\n    authorId: \"hannah-cole-id\",\n    title: \"Justice and Equality in Modern Society\",\n    slug: \"justice-and-equality-in-modern-society\",\n    coverImageUrl: \"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70\",\n    tags: [\"Justice\", \"Equality\"],\n    content: [\n      {\n        paragraphId: \"p1\",\n        text: \"In an age of rapid change, ensuring that every voice is heard and that rights are upheld remains the cornerstone of a just society. What steps can we take to close the gap between ideals and reality?\"\n      }\n    ],\n    createdAt: \"2025-04-12T09:30:00.000Z\",\n    updatedAt: \"2025-04-12T09:30:00.000Z\"\n  }\n];\n\nexport default function HomePage() {\n  // Initialize with empty arrays/null instead of stub objects\n  const [articles, setArticles] = useState<Article[]>([]);\n  const [featuredArticle, setFeaturedArticle] = useState<Article | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(true); // Default to collapsed on mobile\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [windowWidth, setWindowWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 0);\n  \n  // Trending tags (static list, no need for state)\n  const tags = ['Journalism', 'Technology', 'Politics', 'Science', 'Culture'];\n\n  // State for ShareModal\n  const [isShareModalOpen, setIsShareModalOpen] = useState(false);\n  const [sharingArticleDetails, setSharingArticleDetails] = useState<SharingArticleDetails | null>(null);\n\n  // Check authentication status on component mount\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setIsAuthenticated(!!user);\n    });\n    \n    return () => unsubscribe();\n  }, []);\n\n  // Set up window resize listener\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Use different default sidebar state based on screen size\n  useEffect(() => {\n    setIsSidebarCollapsed(windowWidth < 768);\n  }, [windowWidth]);\n\n  useEffect(() => {\n    // Fetch articles data\n    const fetchArticles = async () => {\n      try {\n        setIsLoading(true);\n        \n        // Pass a higher limit parameter to ensure we get enough articles\n        const firestoreArticles = await getArticles({ limit: 50 }); \n        \n        console.log('Articles fetched from Firestore:', firestoreArticles.length);\n        \n        if (firestoreArticles && firestoreArticles.length > 0) {\n          const adaptedArticles = firestoreArticles.map(adaptFirestoreArticle);\n          \n          console.log('Adapted articles:', adaptedArticles.length);\n          \n          if (adaptedArticles.length > 0) {\n            setFeaturedArticle(adaptedArticles[0]);\n            setArticles(adaptedArticles.length > 1 ? adaptedArticles.slice(1) : []);\n            console.log('Articles in grid:', adaptedArticles.length > 1 ? adaptedArticles.length - 1 : 0);\n          } else {\n            setFeaturedArticle(null);\n            setArticles([]);\n          }\n        } else {\n          setFeaturedArticle(null);\n          setArticles([]);\n        }\n      } catch (error) {\n        console.error('Error fetching articles:', error);\n        setFeaturedArticle(null);\n        setArticles([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    \n    fetchArticles();\n  }, []);\n\n  // Get author name from authorId, preferring the API-provided authorName if available\n  const getAuthorName = (article: Article): string => {\n    if (article.authorName) return article.authorName;\n    if (!article.authorId) return '';\n    return authorMapping[article.authorId] || '';\n  };\n\n  // Calculate estimated reading time based on content length\n  const getReadingTime = (content: Article['content']) => {\n    if (!content || !Array.isArray(content)) {\n      return 1; // Default to 1 minute if content is missing or not an array\n    }\n    \n    const wordCount = content.reduce((count: number, para: { text: string }) => {\n      return count + ((para && para.text) ? para.text.split(' ').length : 0);\n    }, 0);\n    \n    // Average reading speed: 200 words per minute\n    const minutes = Math.ceil(wordCount / 200) || 1; // Ensure at least 1 minute\n    return minutes;\n  };\n\n  // Use the API-provided excerpt if available, otherwise calculate from content\n  const getExcerpt = (article: Article, maxLength = 150) => {\n    // If the API provided an excerpt, use it\n    if (article.excerpt) return article.excerpt;\n    \n    // Otherwise calculate from content as a fallback\n    const content = article.content;\n    if (!content || !Array.isArray(content) || content.length === 0) {\n      return '';\n    }\n    \n    const text = content[0]?.text || '';\n    \n    // Handle HTML content by stripping tags\n    const stripHtml = (html: string) => {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = html;\n      return tempDiv.textContent || tempDiv.innerText || '';\n    };\n    \n    // Strip HTML tags if the content appears to be HTML\n    const cleanText = text.includes('<') && text.includes('>') ? stripHtml(text) : text;\n    \n    if (cleanText.length <= maxLength) return cleanText;\n    \n    return cleanText.substring(0, maxLength).trim() + '...';\n  };\n\n  const toggleSidebar = () => {\n    setIsSidebarCollapsed(!isSidebarCollapsed);\n  };\n\n  // Handle user logout\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n    } catch (error) {\n      // Error handling for logout failure\n    }\n  };\n\n  const handleOpenShareModal = (article: Article) => {\n    setSharingArticleDetails({\n      title: article.title,\n      slug: article.slug,\n      coverImageUrl: article.coverImageUrl,\n      excerpt: getExcerpt(article, 100) // Shorter excerpt for modal\n    });\n    setIsShareModalOpen(true);\n  };\n\n  const handleCloseShareModal = () => {\n    setIsShareModalOpen(false);\n    setSharingArticleDetails(null);\n  };\n\n  // Determine base URL for sharing\n  const [baseUrl, setBaseUrl] = useState('');\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      setBaseUrl(window.location.origin);\n    }\n  }, []);\n\n  return (\n    <>\n      <Head>\n        {sharingArticleDetails && (\n          <>\n            <meta property=\"og:title\" content={sharingArticleDetails.title} />\n            <meta property=\"og:description\" content={sharingArticleDetails.excerpt || 'Read this article on Journalite.'} />\n            <meta property=\"og:image\" content={sharingArticleDetails.coverImageUrl || '/default-image.jpg'} />\n            <meta property=\"og:url\" content={`https://mvp.journalite.app/articles?slug=${encodeURIComponent(sharingArticleDetails.slug)}`} />\n            <meta property=\"og:type\" content=\"article\" />\n          </>\n        )}\n      </Head>\n      <div className={styles['three-column-layout']}>\n        {/* Background overlay for mobile */}\n        {windowWidth < 768 && !isSidebarCollapsed && (\n          <div className={`${styles['menu-overlay']} ${styles['active']}`} onClick={toggleSidebar}></div>\n        )}\n      \n        {/* LEFT SIDEBAR */}\n        <LeftSidebar \n          isAuthenticated={isAuthenticated} \n          handleLogout={handleLogout} \n          toggleSidebar={toggleSidebar} \n          isSidebarCollapsed={isSidebarCollapsed}\n        />\n\n        {/* Mobile sidebar toggle button - only shown on mobile */}\n        {windowWidth < 768 && (\n          <button \n            className={styles['toggle-button']} \n            onClick={toggleSidebar}\n            aria-label={isSidebarCollapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\n          >\n            {isSidebarCollapsed ? \"\" : \"\"}\n          </button>\n        )}\n\n        {/* MAIN CONTENT */}\n        <main className={`${styles['center-column']} ${isSidebarCollapsed && windowWidth >= 768 ? styles['expanded'] : ''}`}>\n          {/* Daily Prompt Banner */}\n          <div className={styles['prompt-banner']}>\n            <div className={styles['prompt-icon']}></div>\n            <div className={styles['prompt-text']}>What's an idea that changed your life?</div>\n            <Link href=\"/write\" className={styles['prompt-button']}>\n              Write now \n            </Link>\n          </div>\n\n          {isLoading ? (\n            <div className={styles['loading']}>Loading articles...</div>\n          ) : (\n            <>\n              {/* Featured Thought */}\n              {featuredArticle && (\n                <article className={styles['featured-card']}>\n                  <div className={styles['featured-content']}>\n                    <div className={styles['featured-label']}>FEATURED THOUGHT</div>\n                    <h2 className={styles['featured-title']}>{featuredArticle.title}</h2>\n                    <div className={styles['featured-meta']}>\n                      by {getAuthorName(featuredArticle)}  {getReadingTime(featuredArticle.content)} min read\n                    </div>\n                    <p className={styles['featured-excerpt']}>\n                      {getExcerpt(featuredArticle)}\n                    </p>\n                    <Link href={`/articles?slug=${encodeURIComponent(featuredArticle.slug)}`} className={styles['read-link']}>\n                      Read \n                    </Link>\n                  </div>\n                  {featuredArticle.coverImageUrl && (\n                    <div className={styles['featured-image']}>\n                      <img \n                        src={featuredArticle.coverImageUrl} \n                        alt={featuredArticle.title}\n                        className={styles['cover-image']}\n                      />\n                    </div>\n                  )}\n                </article>\n              )}\n\n              {/* Article Grid */}\n              <div className={styles['article-grid']}>\n                {articles.map((article, index) => (\n                  <article \n                    key={article._id || article.slug || `article-${index}`} \n                    className={styles['article-card']}\n                  >\n                    <h3 className={styles['article-title']}>{article.title}</h3>\n                    <div className={styles['article-meta']}>\n                      by {getAuthorName(article)}  {getReadingTime(article.content)} min read\n                    </div>\n                    {(article.excerpt || (article.content && article.content.length > 0)) && (\n                      <p className={styles['article-excerpt']}>\n                        {getExcerpt(article)}\n                      </p>\n                    )}\n                    \n                    {/* Tags */}\n                    {article.tags && article.tags.length > 0 && (\n                      <div className={styles['article-tags']}>\n                        {article.tags.map((tag, tagIndex) => (\n                          <Link\n                            key={`${article.slug}-tag-${tagIndex}`}\n                            href={`/tag/${tag.toLowerCase()}`}\n                            className={styles['tag']}\n                          >\n                            #{tag}\n                          </Link>\n                        ))}\n                      </div>\n                    )}\n                    \n                    {/* Reaction Bar */}\n                    <div className={styles['reaction-bar']}>\n                      <button className={styles['reaction-button']} aria-label=\"Like article\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-5 h-5\">\n                          <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/>\n                        </svg>\n                      </button>\n                      <button \n                        className={styles['reaction-button']} \n                        aria-label=\"Share article\"\n                        onClick={() => handleOpenShareModal(article)}\n                      >\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-5 h-5\">\n                          <path d=\"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z\"/>\n                        </svg>\n                      </button>\n                      <button className={styles['reaction-button']} aria-label=\"Comment on article\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" className=\"w-5 h-5\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z\" />\n                        </svg>\n                      </button>\n                      <Link href={`/articles?slug=${encodeURIComponent(article.slug)}`} className={styles['read-link']}>\n                        Read \n                      </Link>\n                    </div>\n                  </article>\n                ))}\n              </div>\n            </>\n          )}\n        </main>\n\n        {/* RIGHT SIDEBAR */}\n        <aside className={styles['right-sidebar']}>\n          <h2 className={styles['sidebar-heading']}>Trending</h2>\n          {isAuthenticated && <NotificationBell />}\n          <div className={styles['tag-list']}>\n            {tags.map(tag => (\n              <Link key={tag} href={`/tag/${tag.toLowerCase()}`} className={styles['trending-tag']}>\n                # {tag}\n              </Link>\n            ))}\n          </div>\n          <Link href=\"/write\" className={styles['write-button']}>\n            Write\n          </Link>\n        </aside>\n\n        {/* Share Modal */} \n        {sharingArticleDetails && (\n          <ShareModal \n            isOpen={isShareModalOpen}\n            onClose={handleCloseShareModal}\n            articleTitle={sharingArticleDetails.title}\n            articleUrl={`${'https://mvp.journalite.app'}/articles?slug=${encodeURIComponent(sharingArticleDetails.slug)}`}\n            coverImageUrl={sharingArticleDetails.coverImageUrl}\n            excerpt={sharingArticleDetails.excerpt}\n          />\n        )}\n      </div>\n    </>\n  )\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;;AA8CA,2EAA2E;AAC3E,MAAM,gBAAyC;IAC7C,wCAAwC;IACxC,YAAY;IACZ,kBAAkB;IAClB,eAAe;IACf,kBAAkB;AACpB;AAEA,wEAAwE;AACxE,MAAM,wBAAwB,CAAC;IAC7B,OAAO;QACL,KAAK,iBAAiB,EAAE,IAAI;QAC5B,OAAO,iBAAiB,KAAK;QAC7B,MAAM,iBAAiB,IAAI,IAAI,iBAAiB,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,aAAa,IAAI,OAAO,CAAC,QAAQ;QAC7G,UAAU,iBAAiB,QAAQ;QACnC,YAAY,iBAAiB,UAAU;QACvC,eAAe,iBAAiB,UAAU,IAAI;QAC9C,MAAM,iBAAiB,IAAI;QAC3B,SAAS;YACP;gBACE,aAAa;gBACb,MAAM,iBAAiB,IAAI;gBAC3B,OAAO,EAAE;gBACT,UAAU,EAAE;YACd;SACD;QACD,OAAO,EAAE;QACT,SAAS,EAAE;QACX,UAAU,EAAE;QACZ,WAAW,iBAAiB,SAAS,CAAC,MAAM,GAAG,WAAW;QAC1D,WAAW,iBAAiB,SAAS,CAAC,MAAM,GAAG,WAAW;IAC5D;AACF;AAEA,uDAAuD;AACvD,MAAM,eAA0B;IAC9B;QACE,KAAK;QACL,UAAU;QACV,OAAO;QACP,MAAM;QACN,eAAe;QACf,MAAM;YAAC;YAAM;SAAmB;QAChC,SAAS;YACP;gBACE,aAAa;gBACb,MAAM;YACR;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,KAAK;QACL,UAAU;QACV,OAAO;QACP,MAAM;QACN,eAAe;QACf,MAAM;YAAC;YAAW;SAAQ;QAC1B,SAAS;YACP;gBACE,aAAa;gBACb,MAAM;YACR;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,KAAK;QACL,UAAU;QACV,OAAO;QACP,MAAM;QACN,eAAe;QACf,MAAM;YAAC;YAAU;SAAK;QACtB,SAAS;YACP;gBACE,aAAa;gBACb,MAAM;YACR;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,KAAK;QACL,UAAU;QACV,OAAO;QACP,MAAM;QACN,eAAe;QACf,MAAM;YAAC;YAAgB;SAAU;QACjC,SAAS;YACP;gBACE,aAAa;gBACb,MAAM;YACR;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,KAAK;QACL,UAAU;QACV,OAAO;QACP,MAAM;QACN,eAAe;QACf,MAAM;YAAC;YAAW;SAAW;QAC7B,SAAS;YACP;gBACE,aAAa;gBACb,MAAM;YACR;SACD;QACD,WAAW;QACX,WAAW;IACb;CACD;AAEc,SAAS;IACtB,4DAA4D;IAC5D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IACvE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,iCAAiC;IACrG,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,6EAAoD;IAEnG,iDAAiD;IACjD,MAAM,OAAO;QAAC;QAAc;QAAc;QAAY;QAAW;KAAU;IAE3E,uBAAuB;IACvB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgC;IAEjG,iDAAiD;IACjD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,CAAA,GAAA,wNAAA,CAAA,qBAAkB,AAAD,EAAE,4HAAA,CAAA,OAAI,EAAE,CAAC;YAC5C,mBAAmB,CAAC,CAAC;QACvB;QAEA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,gCAAgC;IAChC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,eAAe;YACnB,eAAe,OAAO,UAAU;QAClC;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,2DAA2D;IAC3D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,sBAAsB,cAAc;IACtC,GAAG;QAAC;KAAY;IAEhB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,sBAAsB;QACtB,MAAM,gBAAgB;YACpB,IAAI;gBACF,aAAa;gBAEb,iEAAiE;gBACjE,MAAM,oBAAoB,MAAM,CAAA,GAAA,2HAAA,CAAA,cAAW,AAAD,EAAE;oBAAE,OAAO;gBAAG;gBAExD,QAAQ,GAAG,CAAC,oCAAoC,kBAAkB,MAAM;gBAExE,IAAI,qBAAqB,kBAAkB,MAAM,GAAG,GAAG;oBACrD,MAAM,kBAAkB,kBAAkB,GAAG,CAAC;oBAE9C,QAAQ,GAAG,CAAC,qBAAqB,gBAAgB,MAAM;oBAEvD,IAAI,gBAAgB,MAAM,GAAG,GAAG;wBAC9B,mBAAmB,eAAe,CAAC,EAAE;wBACrC,YAAY,gBAAgB,MAAM,GAAG,IAAI,gBAAgB,KAAK,CAAC,KAAK,EAAE;wBACtE,QAAQ,GAAG,CAAC,qBAAqB,gBAAgB,MAAM,GAAG,IAAI,gBAAgB,MAAM,GAAG,IAAI;oBAC7F,OAAO;wBACL,mBAAmB;wBACnB,YAAY,EAAE;oBAChB;gBACF,OAAO;oBACL,mBAAmB;oBACnB,YAAY,EAAE;gBAChB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,mBAAmB;gBACnB,YAAY,EAAE;YAChB,SAAU;gBACR,aAAa;YACf;QACF;QAEA;IACF,GAAG,EAAE;IAEL,qFAAqF;IACrF,MAAM,gBAAgB,CAAC;QACrB,IAAI,QAAQ,UAAU,EAAE,OAAO,QAAQ,UAAU;QACjD,IAAI,CAAC,QAAQ,QAAQ,EAAE,OAAO;QAC9B,OAAO,aAAa,CAAC,QAAQ,QAAQ,CAAC,IAAI;IAC5C;IAEA,2DAA2D;IAC3D,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,MAAM,OAAO,CAAC,UAAU;YACvC,OAAO,GAAG,4DAA4D;QACxE;QAEA,MAAM,YAAY,QAAQ,MAAM,CAAC,CAAC,OAAe;YAC/C,OAAO,QAAQ,CAAC,AAAC,QAAQ,KAAK,IAAI,GAAI,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,MAAM,GAAG,CAAC;QACvE,GAAG;QAEH,8CAA8C;QAC9C,MAAM,UAAU,KAAK,IAAI,CAAC,YAAY,QAAQ,GAAG,2BAA2B;QAC5E,OAAO;IACT;IAEA,8EAA8E;IAC9E,MAAM,aAAa,CAAC,SAAkB,YAAY,GAAG;QACnD,yCAAyC;QACzC,IAAI,QAAQ,OAAO,EAAE,OAAO,QAAQ,OAAO;QAE3C,iDAAiD;QACjD,MAAM,UAAU,QAAQ,OAAO;QAC/B,IAAI,CAAC,WAAW,CAAC,MAAM,OAAO,CAAC,YAAY,QAAQ,MAAM,KAAK,GAAG;YAC/D,OAAO;QACT;QAEA,MAAM,OAAO,OAAO,CAAC,EAAE,EAAE,QAAQ;QAEjC,wCAAwC;QACxC,MAAM,YAAY,CAAC;YACjB,MAAM,UAAU,SAAS,aAAa,CAAC;YACvC,QAAQ,SAAS,GAAG;YACpB,OAAO,QAAQ,WAAW,IAAI,QAAQ,SAAS,IAAI;QACrD;QAEA,oDAAoD;QACpD,MAAM,YAAY,KAAK,QAAQ,CAAC,QAAQ,KAAK,QAAQ,CAAC,OAAO,UAAU,QAAQ;QAE/E,IAAI,UAAU,MAAM,IAAI,WAAW,OAAO;QAE1C,OAAO,UAAU,SAAS,CAAC,GAAG,WAAW,IAAI,KAAK;IACpD;IAEA,MAAM,gBAAgB;QACpB,sBAAsB,CAAC;IACzB;IAEA,qBAAqB;IACrB,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE,4HAAA,CAAA,OAAI;QACpB,EAAE,OAAO,OAAO;QACd,oCAAoC;QACtC;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,yBAAyB;YACvB,OAAO,QAAQ,KAAK;YACpB,MAAM,QAAQ,IAAI;YAClB,eAAe,QAAQ,aAAa;YACpC,SAAS,WAAW,SAAS,KAAK,4BAA4B;QAChE;QACA,oBAAoB;IACtB;IAEA,MAAM,wBAAwB;QAC5B,oBAAoB;QACpB,yBAAyB;IAC3B;IAEA,iCAAiC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,uCAAmC;;QAEnC;IACF,GAAG,EAAE;IAEL,qBACE;;0BACE,8OAAC,oKAAA,CAAA,UAAI;0BACF,uCACC;;sCACE,8OAAC;4BAAK,UAAS;4BAAW,SAAS,sBAAsB,KAAK;;;;;;sCAC9D,8OAAC;4BAAK,UAAS;4BAAiB,SAAS,sBAAsB,OAAO,IAAI;;;;;;sCAC1E,8OAAC;4BAAK,UAAS;4BAAW,SAAS,sBAAsB,aAAa,IAAI;;;;;;sCAC1E,8OAAC;4BAAK,UAAS;4BAAS,SAAS,CAAC,yCAAyC,EAAE,mBAAmB,sBAAsB,IAAI,GAAG;;;;;;sCAC7H,8OAAC;4BAAK,UAAS;4BAAU,SAAQ;;;;;;;;;;;;;0BAIvC,8OAAC;gBAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,sBAAsB;;oBAE1C,cAAc,OAAO,CAAC,oCACrB,8OAAC;wBAAI,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,eAAe,CAAC,CAAC,EAAE,iIAAA,CAAA,UAAM,CAAC,SAAS,EAAE;wBAAE,SAAS;;;;;;kCAI5E,8OAAC,iIAAA,CAAA,UAAW;wBACV,iBAAiB;wBACjB,cAAc;wBACd,eAAe;wBACf,oBAAoB;;;;;;oBAIrB,cAAc,qBACb,8OAAC;wBACC,WAAW,iIAAA,CAAA,UAAM,CAAC,gBAAgB;wBAClC,SAAS;wBACT,cAAY,qBAAqB,mBAAmB;kCAEnD,qBAAqB,MAAM;;;;;;kCAKhC,8OAAC;wBAAK,WAAW,GAAG,iIAAA,CAAA,UAAM,CAAC,gBAAgB,CAAC,CAAC,EAAE,sBAAsB,eAAe,MAAM,iIAAA,CAAA,UAAM,CAAC,WAAW,GAAG,IAAI;;0CAEjH,8OAAC;gCAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,gBAAgB;;kDACrC,8OAAC;wCAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,cAAc;kDAAE;;;;;;kDACvC,8OAAC;wCAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,cAAc;kDAAE;;;;;;kDACvC,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAS,WAAW,iIAAA,CAAA,UAAM,CAAC,gBAAgB;kDAAE;;;;;;;;;;;;4BAKzD,0BACC,8OAAC;gCAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,UAAU;0CAAE;;;;;qDAEnC;;oCAEG,iCACC,8OAAC;wCAAQ,WAAW,iIAAA,CAAA,UAAM,CAAC,gBAAgB;;0DACzC,8OAAC;gDAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,mBAAmB;;kEACxC,8OAAC;wDAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,iBAAiB;kEAAE;;;;;;kEAC1C,8OAAC;wDAAG,WAAW,iIAAA,CAAA,UAAM,CAAC,iBAAiB;kEAAG,gBAAgB,KAAK;;;;;;kEAC/D,8OAAC;wDAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,gBAAgB;;4DAAE;4DACnC,cAAc;4DAAiB;4DAAI,eAAe,gBAAgB,OAAO;4DAAE;;;;;;;kEAEjF,8OAAC;wDAAE,WAAW,iIAAA,CAAA,UAAM,CAAC,mBAAmB;kEACrC,WAAW;;;;;;kEAEd,8OAAC,4JAAA,CAAA,UAAI;wDAAC,MAAM,CAAC,eAAe,EAAE,mBAAmB,gBAAgB,IAAI,GAAG;wDAAE,WAAW,iIAAA,CAAA,UAAM,CAAC,YAAY;kEAAE;;;;;;;;;;;;4CAI3G,gBAAgB,aAAa,kBAC5B,8OAAC;gDAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,iBAAiB;0DACtC,cAAA,8OAAC;oDACC,KAAK,gBAAgB,aAAa;oDAClC,KAAK,gBAAgB,KAAK;oDAC1B,WAAW,iIAAA,CAAA,UAAM,CAAC,cAAc;;;;;;;;;;;;;;;;;kDAQ1C,8OAAC;wCAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,eAAe;kDACnC,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,8OAAC;gDAEC,WAAW,iIAAA,CAAA,UAAM,CAAC,eAAe;;kEAEjC,8OAAC;wDAAG,WAAW,iIAAA,CAAA,UAAM,CAAC,gBAAgB;kEAAG,QAAQ,KAAK;;;;;;kEACtD,8OAAC;wDAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,eAAe;;4DAAE;4DAClC,cAAc;4DAAS;4DAAI,eAAe,QAAQ,OAAO;4DAAE;;;;;;;oDAEhE,CAAC,QAAQ,OAAO,IAAK,QAAQ,OAAO,IAAI,QAAQ,OAAO,CAAC,MAAM,GAAG,CAAE,mBAClE,8OAAC;wDAAE,WAAW,iIAAA,CAAA,UAAM,CAAC,kBAAkB;kEACpC,WAAW;;;;;;oDAKf,QAAQ,IAAI,IAAI,QAAQ,IAAI,CAAC,MAAM,GAAG,mBACrC,8OAAC;wDAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,eAAe;kEACnC,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,yBACtB,8OAAC,4JAAA,CAAA,UAAI;gEAEH,MAAM,CAAC,KAAK,EAAE,IAAI,WAAW,IAAI;gEACjC,WAAW,iIAAA,CAAA,UAAM,CAAC,MAAM;;oEACzB;oEACG;;+DAJG,GAAG,QAAQ,IAAI,CAAC,KAAK,EAAE,UAAU;;;;;;;;;;kEAW9C,8OAAC;wDAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,eAAe;;0EACpC,8OAAC;gEAAO,WAAW,iIAAA,CAAA,UAAM,CAAC,kBAAkB;gEAAE,cAAW;0EACvD,cAAA,8OAAC;oEAAI,OAAM;oEAA6B,SAAQ;oEAAY,MAAK;oEAAe,WAAU;8EACxF,cAAA,8OAAC;wEAAK,GAAE;;;;;;;;;;;;;;;;0EAGZ,8OAAC;gEACC,WAAW,iIAAA,CAAA,UAAM,CAAC,kBAAkB;gEACpC,cAAW;gEACX,SAAS,IAAM,qBAAqB;0EAEpC,cAAA,8OAAC;oEAAI,OAAM;oEAA6B,SAAQ;oEAAY,MAAK;oEAAe,WAAU;8EACxF,cAAA,8OAAC;wEAAK,GAAE;;;;;;;;;;;;;;;;0EAGZ,8OAAC;gEAAO,WAAW,iIAAA,CAAA,UAAM,CAAC,kBAAkB;gEAAE,cAAW;0EACvD,cAAA,8OAAC;oEAAI,OAAM;oEAA6B,MAAK;oEAAO,SAAQ;oEAAY,aAAY;oEAAM,QAAO;oEAAe,WAAU;8EACxH,cAAA,8OAAC;wEAAK,eAAc;wEAAQ,gBAAe;wEAAQ,GAAE;;;;;;;;;;;;;;;;0EAGzD,8OAAC,4JAAA,CAAA,UAAI;gEAAC,MAAM,CAAC,eAAe,EAAE,mBAAmB,QAAQ,IAAI,GAAG;gEAAE,WAAW,iIAAA,CAAA,UAAM,CAAC,YAAY;0EAAE;;;;;;;;;;;;;+CAjD/F,QAAQ,GAAG,IAAI,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE,OAAO;;;;;;;;;;;;;;;;;;kCA6DlE,8OAAC;wBAAM,WAAW,iIAAA,CAAA,UAAM,CAAC,gBAAgB;;0CACvC,8OAAC;gCAAG,WAAW,iIAAA,CAAA,UAAM,CAAC,kBAAkB;0CAAE;;;;;;4BACzC,iCAAmB,8OAAC,sIAAA,CAAA,UAAgB;;;;;0CACrC,8OAAC;gCAAI,WAAW,iIAAA,CAAA,UAAM,CAAC,WAAW;0CAC/B,KAAK,GAAG,CAAC,CAAA,oBACR,8OAAC,4JAAA,CAAA,UAAI;wCAAW,MAAM,CAAC,KAAK,EAAE,IAAI,WAAW,IAAI;wCAAE,WAAW,iIAAA,CAAA,UAAM,CAAC,eAAe;;4CAAE;4CACjF;;uCADM;;;;;;;;;;0CAKf,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAS,WAAW,iIAAA,CAAA,UAAM,CAAC,eAAe;0CAAE;;;;;;;;;;;;oBAMxD,uCACC,8OAAC,gIAAA,CAAA,UAAU;wBACT,QAAQ;wBACR,SAAS;wBACT,cAAc,sBAAsB,KAAK;wBACzC,YAAY,GAAG,6BAA6B,eAAe,EAAE,mBAAmB,sBAAsB,IAAI,GAAG;wBAC7G,eAAe,sBAAsB,aAAa;wBAClD,SAAS,sBAAsB,OAAO;;;;;;;;;;;;;;AAMlD","debugId":null}}]
}