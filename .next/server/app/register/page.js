(()=>{var e={};e.id=454,e.ids=[454],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6087:(e,r,t)=>{Promise.resolve().then(t.bind(t,8548))},8548:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(60687),s=t(43210),o=t(85814),i=t.n(o),n=t(16189),l=t(84245),m=t(43649),_=t(49048);async function c(e,r){try{let t=await (0,l.eJ)(m.j2,e,r);return m.j2.currentUser&&await (0,l.gA)(m.j2.currentUser),console.log("Sign-up successful",t.user),t}catch(e){throw console.error("Sign-up failed",e),e}}async function u(){let e=new l.HF;try{let r=!0,t=!1,a=(0,l.hg)(m.j2,e=>{e&&r&&(r=!1,t=!0,a())}),s=await (0,l.df)(m.j2,e);r=!1,a();let o=s.user;if(t)return console.log("User already exists, signed in with existing account"),s;if(await (0,_.VM)(o.uid))return console.log("User already has a profile, proceeding to app"),s;let i=(o.displayName||"").split(" "),n=i[0]||"",c=i.slice(1).join(" ")||"",u=o.email?.split("@")[0]||"";if(await (0,_.OQ)(u)){let e=Math.floor(1e4*Math.random());await (0,_.Vz)(o.uid,{firstName:n,lastName:c,username:`${u}${e}`,email:o.email||""})}else await (0,_.Vz)(o.uid,{firstName:n,lastName:c,username:u,email:o.email||""});return console.log("Google sign-up successful",o),s}catch(e){if("auth/account-exists-with-different-credential"===e.code)throw Error("An account already exists with the same email address but different sign-in credentials. Please sign in using the original method.");throw console.error("Google sign-up failed",e),e}}function d(){let[e,r]=(0,s.useState)(""),[t,o]=(0,s.useState)(""),[l,m]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[f,x]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1),[w,y]=(0,s.useState)(""),[j,N]=(0,s.useState)({}),[P,C]=(0,s.useState)({}),[S,k]=(0,s.useState)(null),[B,A]=(0,s.useState)(!1),L=(0,n.useRouter)(),I=e=>{let{name:r,value:t,validity:a}=e.target;if(N({...j,[r]:!0}),C({...P,[r]:""}),a.valueMissing){let e="This field is required";"email"===r&&(e="Please enter your email address"),"password"===r&&(e="Please enter a password"),"confirmPassword"===r&&(e="Please confirm your password"),"firstName"===r&&(e="Please enter your first name"),"lastName"===r&&(e="Please enter your last name"),"username"===r&&(e="Please choose a username"),C({...P,[r]:e})}},q=async e=>{if(e.length<2)return void k(null);try{A(!0);let r=await (0,_.OQ)(e);k(!r)}catch(e){console.error("Error checking username:",e)}finally{A(!1)}},U=()=>{let r={},a={},s=!0;return a.email=!0,e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(r.email="Please enter a valid email address",s=!1):(r.email="Please enter your email address",s=!1),a.password=!0,t?t.length<6&&(r.password="Password must be at least 6 characters",s=!1):(r.password="Please enter a password",s=!1),a.confirmPassword=!0,t!==l&&(r.confirmPassword="Passwords do not match",s=!1),a.firstName=!0,d.trim()||(r.firstName="Please enter your first name",s=!1),a.lastName=!0,p.trim()||(r.lastName="Please enter your last name",s=!1),a.username=!0,f.trim()?f.length<2?(r.username="Username must be at least 2 characters",s=!1):!1===S&&(r.username="This username is already taken",s=!1):(r.username="Please choose a username",s=!1),N({...j,...a}),C({...P,...r}),s},E=async r=>{if(r.preventDefault(),U()){b(!0),y("");try{if(await (0,_.OQ)(f))throw C({...P,username:"This username is already taken"}),Error("Username is already taken");let r=await c(e,t);await (0,_.Vz)(r.user.uid,{firstName:d,lastName:p,username:f,email:e}),L.push("/login")}catch(r){let e="Failed to create account";r instanceof Error&&(r.message.includes("email-already-in-use")?(e="This email is already registered. Please use a different email or sign in.",C({...P,email:"This email is already registered"})):r.message.includes("invalid-email")?(e="Please enter a valid email address",C({...P,email:"Please enter a valid email address"})):r.message.includes("weak-password")?(e="Password is too weak. Please use at least 6 characters.",C({...P,password:"Password is too weak"})):r.message.includes("Username is already taken")&&(e="This username is already taken. Please choose a different username.",C({...P,username:"This username is already taken"}))),y(e),console.error(r)}finally{b(!1)}}},F=e=>{let r="w-full px-5 py-3.5 bg-[#f8f5ec] border border-[#e8e1d1] rounded-md focus:outline-none focus:ring-1 focus:ring-slate-500";return j[e]&&P[e]?`${r} border-red-300 bg-red-50`:"username"===e&&f.length>=2&&!0===S?`${r} border-green-300 bg-green-50`:r};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#f5efe0] flex",children:[(0,a.jsx)("div",{className:"w-full md:w-1/2 flex flex-col justify-center",children:(0,a.jsxs)("div",{className:"w-full max-w-sm mx-auto px-6 md:px-0 md:ml-20 xl:ml-32",children:[(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsx)("h1",{className:"text-5xl md:text-6xl font-serif font-normal text-slate-900",children:"Journalite"}),(0,a.jsxs)("div",{className:"mt-4 text-lg md:text-xl text-slate-800 italic",children:[(0,a.jsx)("p",{children:"Every thought has a doorway."}),(0,a.jsx)("p",{children:"This is yours."})]})]}),w&&(0,a.jsx)("div",{className:"mb-6 p-3 bg-red-50 text-red-700 text-sm rounded-md",children:w}),(0,a.jsxs)("form",{onSubmit:E,className:"space-y-4 w-full",noValidate:!0,children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"w-1/2",children:[(0,a.jsx)("input",{id:"firstName",name:"firstName",type:"text",className:F("firstName"),placeholder:"First name",value:d,onChange:e=>h(e.target.value),onBlur:I,required:!0}),j.firstName&&P.firstName&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:P.firstName})]}),(0,a.jsxs)("div",{className:"w-1/2",children:[(0,a.jsx)("input",{id:"lastName",name:"lastName",type:"text",className:F("lastName"),placeholder:"Last name",value:p,onChange:e=>g(e.target.value),onBlur:I,required:!0}),j.lastName&&P.lastName&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:P.lastName})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"username",name:"username",type:"text",className:F("username"),placeholder:"Username",value:f,onChange:e=>{let r=e.target.value;x(r);let t=setTimeout(()=>{r.length>=2?q(r):k(null)},500);return()=>clearTimeout(t)},onBlur:I,required:!0}),B&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-slate-500 rounded-full border-t-transparent"})}),!B&&f.length>=2&&!0===S&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500",children:"✓"})]}),j.username&&P.username&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:P.username}),!P.username&&f.length>=2&&!0===S&&(0,a.jsx)("p",{className:"mt-1 text-sm text-green-500",children:"Username is available"}),!P.username&&f.length>=2&&!1===S&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:"Username is already taken"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{id:"email",name:"email",type:"email",className:F("email"),placeholder:"Email address",value:e,onChange:e=>r(e.target.value),onBlur:I,required:!0}),j.email&&P.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:P.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{id:"password",name:"password",type:"password",className:F("password"),placeholder:"Password",value:t,onChange:e=>o(e.target.value),onBlur:I,required:!0}),j.password&&P.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:P.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:F("confirmPassword"),placeholder:"Confirm password",value:l,onChange:e=>m(e.target.value),onBlur:I,required:!0}),j.confirmPassword&&P.confirmPassword&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:P.confirmPassword})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-3.5 bg-[#1a1a19] text-white rounded-md hover:bg-[#2a2a29] focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",disabled:v,children:v?"Creating your account...":(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"→"}),(0,a.jsx)("span",{children:"Create your account"})]})})}),(0,a.jsxs)("div",{className:"flex justify-center pt-2 text-slate-700 text-sm",children:[(0,a.jsx)("span",{className:"mr-2",children:"Already have an account?"}),(0,a.jsx)(i(),{href:"/login",className:"hover:text-slate-900",children:"Sign in"})]})]}),(0,a.jsx)("div",{className:"mt-8 space-y-3",children:(0,a.jsxs)("button",{className:"w-full flex items-center justify-center px-4 py-3 border border-[#e8e1d1] bg-[#f8f5ec] rounded-md hover:bg-[#f0ece3] transition-colors",onClick:async()=>{try{b(!0),y(""),await u(),L.push("/profile-setup")}catch(e){console.error("Google sign-up error:",e),e.message?.includes("account already exists")?y("An account with this email already exists. Please use the sign-in page or a different email."):"auth/popup-closed-by-user"===e.code?y("Sign-in was cancelled. Please try again."):"auth/network-request-failed"===e.code?y("Network error. Please check your internet connection and try again."):y("Google sign-up failed. Please try again or use email registration.")}finally{b(!1)}},children:[(0,a.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,a.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,a.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,a.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),(0,a.jsx)("span",{className:"text-slate-800",children:"Sign up with Google"})]})}),(0,a.jsx)("div",{className:"mt-20 mb-8 text-slate-700 italic",children:(0,a.jsx)("p",{children:"Words are the threads of thought."})})]})}),(0,a.jsx)("div",{className:"hidden md:block w-1/2 relative bg-[#f5efe0]",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/images/login.png")',pointerEvents:"none"},"aria-hidden":"true"})})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15180:()=>{},16189:(e,r,t)=>{"use strict";var a=t(65773);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},22366:e=>{e.exports={"article-page":"home_article-page__CJrzD","three-column-layout":"home_three-column-layout__x41EQ","left-sidebar":"home_left-sidebar__MaSov",collapsed:"home_collapsed__2_VdN","sidebar-header":"home_sidebar-header__4tIx3",logo:"home_logo__fwoF8","toggle-button":"home_toggle-button__sVP2W","vertical-nav":"home_vertical-nav__Cj0En","nav-home":"home_nav-home__X8XEK","nav-icon":"home_nav-icon__yM4nn","nav-thoughts":"home_nav-thoughts__0rfq1","nav-explore":"home_nav-explore__bcQBn","nav-profile":"home_nav-profile__WAAem","nav-settings":"home_nav-settings__0w_SC","nav-logout":"home_nav-logout__MCaXq","nav-login":"home_nav-login__1lQUW","nav-signup":"home_nav-signup__8EtSK","nav-learn":"home_nav-learn__M1FC_","nav-plans":"home_nav-plans__c9i07","nav-link":"home_nav-link__6kEPW","nav-text":"home_nav-text__B7jdN",active:"home_active__S0jaV","sidebar-footer":"home_sidebar-footer__Fj8FR","sidebar-collapse-button":"home_sidebar-collapse-button__W3ZL0","center-column":"home_center-column__eaxY9",expanded:"home_expanded__mJRm4",loading:"home_loading__D6__B","prompt-banner":"home_prompt-banner__xFQFU","prompt-icon":"home_prompt-icon__9eWo_","prompt-text":"home_prompt-text__P3NSJ","prompt-button":"home_prompt-button__z8a6r","featured-card":"home_featured-card__r3SXe","featured-content":"home_featured-content__gbOMz","featured-image":"home_featured-image__3DBbZ","cover-image":"home_cover-image___ZInI","featured-label":"home_featured-label__z2IzP","featured-title":"home_featured-title__qNCn0","featured-meta":"home_featured-meta__Lq6uD","featured-excerpt":"home_featured-excerpt__dhAPX","read-link":"home_read-link___6ZMN","article-grid":"home_article-grid__mC5EI","article-card":"home_article-card__fzb4w","article-title":"home_article-title__toAvL","article-meta":"home_article-meta__9UhXG","article-excerpt":"home_article-excerpt__kuCuZ","article-tags":"home_article-tags__VxN88",tag:"home_tag__LEtq4","reaction-bar":"home_reaction-bar__Y0gsv","reaction-button":"home_reaction-button__KLD0h","reaction-icon":"home_reaction-icon__vhB0y","right-sidebar":"home_right-sidebar__e_5Hr","sidebar-heading":"home_sidebar-heading__lega4","tag-list":"home_tag-list__fgeEi","trending-tag":"home_trending-tag__0awB8","write-button":"home_write-button__Gowtg","edit-button":"home_edit-button__RsQLX","quote-card":"home_quote-card__LAcHm","quote-tag":"home_quote-tag__AukSw","article-container":"home_article-container__RCmcS","article-header":"home_article-header__mdTUd","article-content":"home_article-content__HUOVu","article-paragraph":"home_article-paragraph__6t7oy","article-cover-image":"home_article-cover-image__KDspQ",header:"home_header__PUC5f",hero:"home_hero__3iLRs","hero-title":"home_hero-title__tuN3q","hero-subtitle":"home_hero-subtitle__cyiJZ","cta-button":"home_cta-button__X8xB1","main-grid":"home_main-grid__qFsbA","section-title":"home_section-title__wEK3N","article-tag":"home_article-tag__m6NuJ","author-info":"home_author-info__Xw67P","author-avatar":"home_author-avatar__kBH_g","author-name":"home_author-name__vEgN7",topics:"home_topics__lPwTP","topic-tag":"home_topic-tag__LL122","trending-list":"home_trending-list__YinkY",writers:"home_writers__2u4IP","writer-item":"home_writer-item__1jEW3","writer-info":"home_writer-info__OG3R7","writer-avatar":"home_writer-avatar__b69xH","writer-name":"home_writer-name__McEqt","follow-button":"home_follow-button__UX_LS",features:"home_features__Uc1bS","feature-title":"home_feature-title__9pzGT","feature-desc":"home_feature-desc__jOby5",footer:"home_footer__1HL_E","menu-overlay":"home_menu-overlay__S__PE",fadeIn:"home_fadeIn__uLm0f",articleFormContainer:"home_articleFormContainer__DSMnb",articleFormHeader:"home_articleFormHeader__yeH26",articleFormTitle:"home_articleFormTitle__B11fv",articleFormSubtitle:"home_articleFormSubtitle__XZLCa",articleForm:"home_articleForm__qtKbt",formGroup:"home_formGroup__dX_8o",formLabel:"home_formLabel__qdIcu",optionalLabel:"home_optionalLabel__U0gvl",formControl:"home_formControl__Cf48C",formTextarea:"home_formTextarea__tVyby",formActions:"home_formActions__BdMyR",cancelButton:"home_cancelButton__docpL",submitButton:"home_submitButton__gVGwS",errorAlert:"home_errorAlert__tVY_A",errorIcon:"home_errorIcon__gc9ZB",imagePreview:"home_imagePreview__zqwvQ",tagsPreview:"home_tagsPreview__V6lf7",container:"home_container__TLSt1","writing-tips":"home_writing-tips__2ODsS","writing-tip":"home_writing-tip__dmGLE",loginLink:"home_loginLink__imUQF",discussionSection:"home_discussionSection__0Ifpl",discussionTitle:"home_discussionTitle__O3EuW",commentForm:"home_commentForm__zAQrR",commentInputContainer:"home_commentInputContainer__gKx6N",commentAvatar:"home_commentAvatar__T8zJ0",replyAvatar:"home_replyAvatar___kB3f",commentInputWrapper:"home_commentInputWrapper__hxZkN",commentInput:"home_commentInput__uUtg_",replyInput:"home_replyInput__rYKdQ",commentActions:"home_commentActions__OO9jZ",replyActions:"home_replyActions__p9B_f",submitReplyButton:"home_submitReplyButton__BdUJ2",cancelReplyButton:"home_cancelReplyButton__XvM8F",loginPrompt:"home_loginPrompt__w4N0u",loginPromptButtons:"home_loginPromptButtons__snC_B",loginButton:"home_loginButton__YS1MQ",closePromptButton:"home_closePromptButton__QYTJ8",errorMessage:"home_errorMessage__9Ki1b",loadingSpinner:"home_loadingSpinner__peANt",spin:"home_spin__D0mwY",noComments:"home_noComments__850HV",commentsList:"home_commentsList__fRn9g",commentItem:"home_commentItem__L5fNy",commentHeader:"home_commentHeader___Zk6a",replyHeader:"home_replyHeader__f7TaG",commentMeta:"home_commentMeta__MJRA8",replyMeta:"home_replyMeta__ve_YC",commentAuthor:"home_commentAuthor__HPgNT",replyAuthor:"home_replyAuthor__2Brdn",commentDate:"home_commentDate__VBAuX",replyDate:"home_replyDate__y0RtU",commentContent:"home_commentContent__uzL9r",replyContent:"home_replyContent__HFiXM",commentControls:"home_commentControls__ebC_D",likeButton:"home_likeButton__gtW9b",replyButton:"home_replyButton__e_FYj",toggleRepliesButton:"home_toggleRepliesButton__UC2Rk",deleteButton:"home_deleteButton__VEIPc",liked:"home_liked__LMNuR",replyForm:"home_replyForm__CpHFF",replyInputContainer:"home_replyInputContainer__3_T0M",repliesList:"home_repliesList__TjSoC",replyItem:"home_replyItem__TadHa",profileHeader:"home_profileHeader__N2hD3",profileAvatar:"home_profileAvatar__zAfHf",avatarPlaceholder:"home_avatarPlaceholder__mh9Xc",profileInfo:"home_profileInfo__tQtas",profileName:"home_profileName__7mtlO",profileUsername:"home_profileUsername__ACE_Q",profileBio:"home_profileBio__pKxZ3",sectionHeading:"home_sectionHeading__F_a8F",profileContent:"home_profileContent__a6u08",emptyState:"home_emptyState__0oCVS",sidebarSection:"home_sidebarSection__cyQHn",backLink:"home_backLink__Anavd","article-image":"home_article-image__mOEoE",searchContainer:"home_searchContainer__NcXe2",searchInputWrapper:"home_searchInputWrapper__jDfiT",searchInput:"home_searchInput__D6QYE",searchLoading:"home_searchLoading__0lIVS",searchResults:"home_searchResults__sWgqy",searchResultItem:"home_searchResultItem__CuGQu",userAvatar:"home_userAvatar__sJEnc",userInfo:"home_userInfo__ZUkKC",userName:"home_userName__01vW8",userUsername:"home_userUsername__wHrb_",noResults:"home_noResults__VKSke",searchBarContainer:"home_searchBarContainer__p1hA_",sidebarSearch:"home_sidebarSearch__rSKxe"}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},38701:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,85814,23))},43176:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},43649:(e,r,t)=>{"use strict";t.d(r,{db:()=>l,j2:()=>n});var a=t(67989);t(10178);var s=t(84245),o=t(75535);let i=(0,a.Wp)({apiKey:"AIzaSyCFpybhLt43iKUw6lNahU1n2zjYv0BXmf4",authDomain:"journalitev1.firebaseapp.com",projectId:"journalitev1",storageBucket:"journalitev1.firebasestorage.app",messagingSenderId:"897263211529",appId:"1:897263211529:web:bae4a00910a2236d6d54d8",measurementId:"G-ZYT8PRMT0D"}),n=(0,s.xI)(i),l=(0,o.aU)(i)},46255:(e,r,t)=>{Promise.resolve().then(t.bind(t,94530))},49048:(e,r,t)=>{"use strict";t.d(r,{OQ:()=>i,VM:()=>l,Vz:()=>n,x5:()=>m});var a=t(75535),s=t(84245),o=t(43649);async function i(e){try{let r=(0,a.P)((0,a.rJ)(o.db,"users"),(0,a._M)("username","==",e.toLowerCase()));return!(await (0,a.GG)(r)).empty}catch(e){throw console.error("Error checking username:",e),e}}async function n(e,r){try{let t=await l(e);if(t){console.log("User profile already exists, updating instead of creating");let i=(0,a.H9)(o.db,"users",e);await (0,a.mZ)(i,{firstName:r.firstName,lastName:r.lastName,username:r.username.toLowerCase(),email:r.email.toLowerCase(),bio:r.bio||t.bio||""}),o.j2.currentUser&&await (0,s.r7)(o.j2.currentUser,{displayName:r.username});return}let n=(0,a.P)((0,a.rJ)(o.db,"users"),(0,a._M)("email","==",r.email.toLowerCase()));if(!(await (0,a.GG)(n)).empty)throw Error("Email is already associated with another account");if(await i(r.username))throw Error("Username is already taken");let m=(0,a.H9)(o.db,"users",e);await (0,a.BN)(m,{uid:e,firstName:r.firstName,lastName:r.lastName,username:r.username.toLowerCase(),email:r.email.toLowerCase(),bio:r.bio||"",createdAt:(0,a.O5)()}),o.j2.currentUser&&await (0,s.r7)(o.j2.currentUser,{displayName:r.username})}catch(e){throw console.error("Error creating user profile:",e),e}}async function l(e){try{let r=(0,a.H9)(o.db,"users",e),t=await (0,a.x7)(r);if(t.exists())return t.data();return null}catch(e){throw console.error("Error fetching user profile:",e),e}}async function m(e){try{if(!e||e.trim().length<2)return[];let r=e.toLowerCase().trim(),t=(0,a.rJ)(o.db,"users");return(await (0,a.GG)(t)).docs.map(e=>e.data()).filter(e=>{let t=e.username.toLowerCase(),a=e.firstName.toLowerCase(),s=e.lastName.toLowerCase(),o=`${a} ${s}`;return t.includes(r)||a.includes(r)||s.includes(r)||o.includes(r)})}catch(e){return console.error("Error searching users:",e),[]}}},51628:()=>{},54413:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var a=t(37413),s=t(4536),o=t.n(s),i=t(22366),n=t.n(i);function l(){return(0,a.jsx)("div",{className:n().container,children:(0,a.jsxs)("div",{className:n().errorAlert,children:[(0,a.jsx)("h1",{children:"404 - Page Not Found"}),(0,a.jsx)("p",{children:"The page you are looking for does not exist."}),(0,a.jsx)("p",{children:"This could be because the user profile doesn't exist or the URL is incorrect."}),(0,a.jsx)(o(),{href:"/",className:n().backLink,children:"Back to home"})]})})}},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68428:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>_,routeModule:()=>u,tree:()=>m});var a=t(65239),s=t(48088),o=t(88170),i=t.n(o),n=t(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let m={children:["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,94530)),"/Users/sirabdisalam/journalite-article-page/src/app/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,_=["/Users/sirabdisalam/journalite-article-page/src/app/register/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},72547:()=>{},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},75085:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,4536,23))},79551:e=>{"use strict";e.exports=require("url")},79624:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94431:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>_,metadata:()=>l,viewport:()=>m});var a=t(37413),s=t(2202),o=t.n(s),i=t(64988),n=t.n(i);t(72547);let l={title:"Journalite - Your Trusted Journalism Source",description:"A revolutionary social platform delivering reliable journalism"},m={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1};function _({children:e}){return(0,a.jsxs)("html",{lang:"en",className:`${o().variable} ${n().variable}`,children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap"})]}),(0,a.jsx)("body",{children:e})]})}},94530:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/register/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/register/page.tsx","default")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[476,948],()=>t(68428));module.exports=a})();