(()=>{var e={};e.id=3266,e.ids=[3266,7588],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23662:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(65239),s=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["debug-guardian",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,65114)),"/Users/sirabdisalam/journalite-article-page/src/app/debug-guardian/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/sirabdisalam/journalite-article-page/src/app/debug-guardian/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/debug-guardian/page",pathname:"/debug-guardian",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34671:(e,t,r)=>{Promise.resolve().then(r.bind(r,65114))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/debug-guardian/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/debug-guardian/page.tsx","default")},67588:(e,t,r)=>{"use strict";r.d(t,{guardianService:()=>s});class a{constructor(){this.baseUrl="https://content.guardianapis.com",this.apiKey="c928b68e-9227-4e28-a734-63f37cbd301b",this.apiKey&&"YOUR_API_KEY_HERE"!==this.apiKey||console.warn("Guardian API key not configured. Please set NEXT_PUBLIC_GUARDIAN_API_KEY in your environment variables.")}async searchArticles(e="",t,r=1,a=10){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let s=new URLSearchParams({"api-key":this.apiKey,"show-fields":"headline,standfirst,body,main,thumbnail,byline,trailText,bodyText","show-tags":"contributor,keyword","show-elements":"image,video","page-size":a.toString(),page:r.toString(),"order-by":"newest"});e&&s.append("q",e),t&&s.append("section",t);let i=`${this.baseUrl}/search?${s.toString()}`,n=await fetch(i);if(!n.ok)throw Error(`HTTP error! status: ${n.status}`);return(await n.json()).response}async getArticleById(e){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let t=new URLSearchParams({"api-key":this.apiKey,"show-fields":"headline,standfirst,body,main,thumbnail,byline,trailText,bodyText","show-tags":"contributor,keyword","show-elements":"image,video"}),r=`${this.baseUrl}/${e}?${t.toString()}`,a=await fetch(r);if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);return(await a.json()).response.content}async getSections(){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let e=`${this.baseUrl}/sections?api-key=${this.apiKey}`,t=await fetch(e);if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);return(await t.json()).response.results}convertToArticleFormat(e){let t="";e.fields?.standfirst&&(t+=`<div class="article-standfirst" style="font-size: 1.2em; color: #666; font-weight: 400; line-height: 1.4; margin: 0 0 2em 0;">
        <strong>${e.fields.standfirst}</strong>
      </div>`);let r=e.fields?.body||e.fields?.bodyText||"";if(r&&(t+=r=(r=(r=(r=(r=r.replace(/<img([^>]*?)>/g,(e,t)=>`<img ${t} style="max-width: 100%; height: auto; margin: 2em auto; display: block; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />`)).replace(/<figure([^>]*?)>/g,(e,t)=>`<figure ${t} style="margin: 2em auto; text-align: center;">`)).replace(/<figcaption([^>]*?)>/g,(e,t)=>`<figcaption ${t} style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic; text-align: center;">`)).replace(/<video([^>]*?)>/g,(e,t)=>`<video ${t} style="max-width: 100%; height: auto; margin: 2em auto; display: block; border-radius: 8px;" controls />`)).replace(/<p>\s*<\/p>/g,"")),!(t.includes("<img")||t.includes("<figure"))&&e.elements&&e.elements.length>0){let r=e.elements.find(e=>"image"===e.type&&e.assets&&e.assets.length>0);if(r){let a=r.assets.find(e=>"image"===e.type);if(a){let r=a.typeData.secureFile||a.file,s=a.typeData.alt||a.typeData.caption||e.webTitle,i=a.typeData.caption||"";t=`<figure style="margin: 0 0 2em 0; text-align: center;">
              <img src="${r}" alt="${s}" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />
              ${i?`<figcaption style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic;">${i}</figcaption>`:""}
            </figure>`+t}}}!e.fields?.main||t.includes("<img")||t.includes("<figure")||(t=`<figure style="margin: 0 0 2em 0; text-align: center;">
              <img src="${e.fields.main}" alt="${e.webTitle.replace(/"/g,"&quot;")}" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />
            </figure>`+t),t+=`<div class="original-article-link" style="margin-top: 3em; padding: 1.5em; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 12px; border-left: 4px solid #0066cc; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      <p style="margin: 0; color: #495057;"><em>ðŸ“° <strong>Read the complete article at:</strong> <a href="${e.webUrl}" target="_blank" rel="noopener noreferrer" style="color: #0066cc; font-weight: 600; text-decoration: none; border-bottom: 1px solid transparent; transition: border-bottom 0.2s ease;" onmouseover="this.style.borderBottom='1px solid #0066cc'" onmouseout="this.style.borderBottom='1px solid transparent'">The Guardian</a></em></p>
    </div>`;let a=e.fields?.byline||e.tags.find(e=>"contributor"===e.type)?.webTitle||"The Guardian",s=Math.ceil((e.fields?.body?e.fields.body.replace(/<[^>]*>/g,"").split(/\s+/).length:300)/200),i=[e.sectionName,e.pillarName,...e.tags.filter(e=>"keyword"===e.type).slice(0,3).map(e=>e.webTitle)].filter(Boolean);return{title:e.fields?.headline||e.webTitle,authorName:a,createdAt:(e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch(t){return console.error("Error formatting date:",t),e}})(e.webPublicationDate),readTime:s,tags:i,authorId:"guardian-api",hasReflectionRoom:!1,html:t}}isConfigured(){return!!(this.apiKey&&"YOUR_API_KEY_HERE"!==this.apiKey)}}let s=new a},86640:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(60687),s=r(43210),i=r(67588);function n(){let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),d=async()=>{try{n(!0),l("");let e=await i.guardianService.searchArticles("","sport",1,1);e.results.length>0?t(e.results[0]):l("No articles found")}catch(e){l(e instanceof Error?e.message:"Unknown error")}finally{n(!1)}};return i.guardianService.isConfigured()?(0,a.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Guardian API Debug"}),(0,a.jsx)("button",{onClick:d,className:"mb-6 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:r,children:r?"Loading...":"Fetch Sample Article"}),o&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-100 text-red-800 rounded",children:["Error: ",o]}),e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Article Title:"}),(0,a.jsx)("p",{children:e.webTitle})]}),(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Available Fields:"}),(0,a.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(Object.keys(e.fields||{}),null,2)})]}),(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Body Content (first 500 chars):"}),(0,a.jsx)("pre",{className:"text-sm overflow-auto whitespace-pre-wrap",children:e.fields?.body?e.fields.body.substring(0,500)+"...":"No body content"})]}),(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Main Image:"}),(0,a.jsx)("p",{children:e.fields?.main||"No main image"}),e.fields?.main&&(0,a.jsx)("img",{src:e.fields.main,alt:"Main",className:"mt-2 max-w-xs"})]}),(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Elements:"}),(0,a.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(e.elements||[],null,2)})]}),(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Full Article Object:"}),(0,a.jsx)("pre",{className:"text-xs overflow-auto max-h-96",children:JSON.stringify(e,null,2)})]}),(0,a.jsxs)("div",{className:"bg-blue-100 p-4 rounded",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Rendered HTML Preview:"}),(0,a.jsx)("div",{className:"border p-4 bg-white",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:i.guardianService.convertToArticleFormat(e).html}})})]})]})]}):(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Guardian API Debug"}),(0,a.jsx)("p",{className:"text-red-600",children:"Guardian API not configured. Please add your API key."})]})}},94503:(e,t,r)=>{Promise.resolve().then(r.bind(r,86640))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[3476,4405],()=>r(23662));module.exports=a})();