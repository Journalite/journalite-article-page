(()=>{var e={};e.id=0,e.ids=[0],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,r,t)=>{"use strict";var a=t(65773);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29923:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(37413);function s({children:e}){return(0,a.jsx)("section",{children:e})}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},55511:e=>{"use strict";e.exports=require("crypto")},61016:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/create-article/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/create-article/page.tsx","default")},61265:(e,r,t)=>{Promise.resolve().then(t.bind(t,67899))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64592:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=t(65239),s=t(48088),i=t(88170),o=t.n(i),l=t(30893),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(r,n);let c={children:["",{children:["create-article",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,61016)),"/Users/sirabdisalam/journalite-article-page/src/app/create-article/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,29923)),"/Users/sirabdisalam/journalite-article-page/src/app/create-article/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/sirabdisalam/journalite-article-page/src/app/create-article/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/create-article/page",pathname:"/create-article",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},67899:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var a=t(60687),s=t(43210),i=t(16189),o=t(85814),l=t.n(o),n=t(84245),c=t(43649),d=t(79440),u=t(77081),m=t.n(u);let h=()=>{let[e,r]=(0,s.useState)(""),[t,o]=(0,s.useState)(""),[n,u]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[g,x]=(0,s.useState)("published"),[v,f]=(0,s.useState)(!1),[b,j]=(0,s.useState)(""),[y,_]=(0,s.useState)(0),w=(0,i.useRouter)();(0,s.useEffect)(()=>{_(t.length)},[t]);let N=async r=>{if(r.preventDefault(),!e||!t)return void j("Title and content are required");if(!c.j2.currentUser)return void j("You must be logged in to create an article");try{f(!0),j("");let r=n.split(",").map(e=>e.trim()).filter(e=>""!==e),a={title:e,body:t,tags:r,status:g};""!==h.trim()&&(a.coverImage=h);let s=await (0,d.N6)(a);"published"===g?w.push(`/articles?slug=${s.slug}`):w.push("/my-thoughts")}catch(e){console.error("Error creating article:",e),j("Failed to create article. Please try again.")}finally{f(!1)}},A=["Use a clear, compelling title that captures interest","Break your content into smaller paragraphs for readability","Add relevant tags to help readers discover your article","Consider adding a cover image to make your article stand out"],F=A[Math.floor(Math.random()*A.length)];return(0,a.jsxs)("div",{className:m().articleFormContainer,children:[(0,a.jsxs)("div",{className:m().articleFormHeader,children:[(0,a.jsx)("h1",{className:m().articleFormTitle,children:"Create Your Story"}),(0,a.jsx)("p",{className:m().articleFormSubtitle,children:"Share your thoughts, ideas, and insights with the world"})]}),b&&(0,a.jsxs)("div",{className:m().errorAlert,children:[(0,a.jsx)("span",{className:m().errorIcon,children:"⚠️"}),(0,a.jsx)("span",{children:b})]}),(0,a.jsxs)("form",{onSubmit:N,className:m().articleForm,children:[(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsx)("label",{htmlFor:"title",className:m().formLabel,children:"Title"}),(0,a.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>r(e.target.value),required:!0,placeholder:"Enter a captivating title for your article...",className:m().formControl,maxLength:100}),(0,a.jsx)("div",{className:m().formHint,children:"A good title is clear, specific, and engaging"})]}),(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"coverImage",className:m().formLabel,children:["Cover Image URL ",(0,a.jsx)("span",{className:m().optionalLabel,children:"optional"})]}),(0,a.jsx)("input",{type:"url",id:"coverImage",value:h,onChange:e=>p(e.target.value),placeholder:"https://example.com/image.jpg",className:m().formControl}),(0,a.jsx)("div",{className:m().formHint,children:"Add a cover image to make your article visually appealing"}),h&&(0,a.jsx)("div",{className:m().imagePreview,children:(0,a.jsx)("img",{src:h,alt:"Cover preview"})})]}),(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsxs)("label",{htmlFor:"tags",className:m().formLabel,children:["Tags ",(0,a.jsx)("span",{className:m().optionalLabel,children:"comma separated"})]}),(0,a.jsx)("input",{type:"text",id:"tags",value:n,onChange:e=>u(e.target.value),placeholder:"technology, news, science, learning",className:m().formControl}),(0,a.jsx)("div",{className:m().formHint,children:"Tags help readers discover your content"}),n&&(0,a.jsx)("div",{className:m().tagsPreview,children:n.split(",").map((e,r)=>e.trim()&&(0,a.jsx)("span",{className:m().tag,children:e.trim()},r))})]}),(0,a.jsxs)("div",{className:`${m().formGroup} ${m().statusDropdown}`,children:[(0,a.jsx)("label",{htmlFor:"status",className:m().formLabel,children:"Status"}),(0,a.jsxs)("select",{id:"status",value:g,onChange:e=>x(e.target.value),className:m().formControl,children:[(0,a.jsx)("option",{value:"published",children:"Published (visible to everyone)"}),(0,a.jsx)("option",{value:"drafts",children:"Save as Draft (only visible to you)"})]})]}),(0,a.jsxs)("div",{className:m().formGroup,children:[(0,a.jsx)("label",{htmlFor:"body",className:m().formLabel,children:"Content"}),(0,a.jsx)("textarea",{id:"body",value:t,onChange:e=>o(e.target.value),required:!0,placeholder:"Write your article content here. Provide valuable insights, share your experience, or tell a compelling story...",className:m().formTextarea,rows:15}),(0,a.jsx)("div",{className:m().characterCount,children:(0,a.jsxs)("span",{className:y>3e3?m().characterWarning:"",children:[y," characters"]})}),(0,a.jsx)("div",{className:m().formHint,children:(0,a.jsxs)("span",{children:["✨ Tip: ",F]})})]}),(0,a.jsxs)("div",{className:m().formActions,children:[(0,a.jsx)(l(),{href:"/",className:m().cancelButton,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:m().submitButton,disabled:v,children:v?"published"===g?"Publishing...":"Saving...":"published"===g?"Publish Article":"Save as Draft"})]})]})]})};var p=t(5062),g=t.n(p);function x(){let[e,r]=(0,s.useState)(!1),[t,o]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(0),x=(0,i.useRouter)(),v=async()=>{try{await (0,n.CI)(c.j2),x.push("/")}catch(e){console.error("Error signing out:",e)}};return t?(0,a.jsx)("div",{className:g().container,children:(0,a.jsx)("div",{className:g().loading,children:"Loading..."})}):e?(0,a.jsxs)("div",{className:g()["three-column-layout"],children:[(0,a.jsxs)("aside",{className:`${g()["left-sidebar"]} ${d?g().collapsed:""}`,children:[(0,a.jsxs)("div",{className:g()["sidebar-header"],children:[(0,a.jsx)("div",{className:g().logo,children:"Journalite"}),(0,a.jsx)("button",{className:g()["toggle-button"],onClick:()=>{u(!d)},"aria-label":d?"Expand sidebar":"Collapse sidebar",children:d?"→":"←"})]}),(0,a.jsxs)("nav",{className:g()["vertical-nav"],children:[(0,a.jsxs)(l(),{href:"/",className:`${g()["nav-link"]} ${g()["nav-home"]}`,children:[(0,a.jsx)("span",{className:g()["nav-icon"],children:"•"}),(0,a.jsx)("span",{className:g()["nav-text"],children:"Home"})]}),(0,a.jsxs)(l(),{href:"/my-thoughts",className:`${g()["nav-link"]} ${g()["nav-thoughts"]}`,children:[(0,a.jsx)("span",{className:g()["nav-icon"],children:"•"}),(0,a.jsx)("span",{className:g()["nav-text"],children:"My Thoughts"})]}),(0,a.jsxs)(l(),{href:"/create-article",className:`${g()["nav-link"]} ${g()["nav-create"]} ${g().active}`,children:[(0,a.jsx)("span",{className:g()["nav-icon"],children:"•"}),(0,a.jsx)("span",{className:g()["nav-text"],children:"Create Article"})]}),(0,a.jsxs)(l(),{href:"/explore",className:`${g()["nav-link"]} ${g()["nav-explore"]}`,children:[(0,a.jsx)("span",{className:g()["nav-icon"],children:"•"}),(0,a.jsx)("span",{className:g()["nav-text"],children:"Explore"})]}),(0,a.jsxs)(l(),{href:"/my-profile",className:`${g()["nav-link"]} ${g()["nav-profile"]}`,children:[(0,a.jsx)("span",{className:g()["nav-icon"],children:"•"}),(0,a.jsx)("span",{className:g()["nav-text"],children:"My Profile"})]}),(0,a.jsxs)("button",{onClick:v,className:`${g()["nav-link"]} ${g()["nav-logout"]}`,children:[(0,a.jsx)("span",{className:g()["nav-icon"],children:"•"}),(0,a.jsx)("span",{className:g()["nav-text"],children:"Log out"})]})]})]}),(0,a.jsx)("main",{className:`${g()["center-column"]} ${d?g().expanded:""}`,children:(0,a.jsx)(h,{})}),(0,a.jsxs)("aside",{className:g()["right-sidebar"],children:[(0,a.jsx)("h2",{className:g()["sidebar-heading"],children:"Tips for Writing"}),(0,a.jsxs)("div",{className:g()["writing-tips"],children:[(0,a.jsxs)("div",{className:g()["writing-tip"],children:[(0,a.jsx)("h3",{children:"\uD83D\uDCDD Keep it clear"}),(0,a.jsx)("p",{children:"Use simple language and short paragraphs for better readability."})]}),(0,a.jsxs)("div",{className:g()["writing-tip"],children:[(0,a.jsx)("h3",{children:"\uD83D\uDD0D Check your facts"}),(0,a.jsx)("p",{children:"Ensure your information is accurate and from reliable sources."})]}),(0,a.jsxs)("div",{className:g()["writing-tip"],children:[(0,a.jsx)("h3",{children:"\uD83D\uDCCA Add context"}),(0,a.jsx)("p",{children:"Help readers understand the bigger picture around your topic."})]}),(0,a.jsxs)("div",{className:g()["writing-tip"],children:[(0,a.jsx)("h3",{children:"\uD83D\uDCF8 Visual appeal"}),(0,a.jsx)("p",{children:"Adding a cover image can make your article more engaging."})]})]})]})]}):(0,a.jsxs)("div",{className:g().container,children:[(0,a.jsx)("p",{children:"You must be logged in to create an article."}),(0,a.jsx)(l(),{href:"/login?redirect=/create-article",className:g().loginLink,children:"Login Now"})]})}},70993:(e,r,t)=>{Promise.resolve().then(t.bind(t,61016))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},77081:e=>{e.exports={articleFormContainer:"ArticleForm_articleFormContainer__Oamhm",articleFormHeader:"ArticleForm_articleFormHeader__lPvz4",articleFormTitle:"ArticleForm_articleFormTitle__GQZ6U",articleFormSubtitle:"ArticleForm_articleFormSubtitle__d0K2B",articleForm:"ArticleForm_articleForm__aPoqs",formGroup:"ArticleForm_formGroup__NG8OF",formLabel:"ArticleForm_formLabel__DP5Fz",optionalLabel:"ArticleForm_optionalLabel__C_B1S",formControl:"ArticleForm_formControl__mBao_",formTextarea:"ArticleForm_formTextarea__ZsknF",formActions:"ArticleForm_formActions__WqypQ",cancelButton:"ArticleForm_cancelButton__OAgVI",submitButton:"ArticleForm_submitButton__o9hsW",errorAlert:"ArticleForm_errorAlert__1DQ3x",errorIcon:"ArticleForm_errorIcon___YV5p",imagePreview:"ArticleForm_imagePreview__92eKB",tagsPreview:"ArticleForm_tagsPreview__48G_v",tag:"ArticleForm_tag__MTDKK",statusDropdown:"ArticleForm_statusDropdown__FfXJV",characterCount:"ArticleForm_characterCount__IqdJb",characterWarning:"ArticleForm_characterWarning__ZKaNu",formHint:"ArticleForm_formHint__h9Deh",loading:"ArticleForm_loading__EUkeX",loadingSpinner:"ArticleForm_loadingSpinner__iaWlv",spin:"ArticleForm_spin__reKcv"}},78335:()=>{},79440:(e,r,t)=>{"use strict";t.d(r,{BC:()=>m,GE:()=>o,N6:()=>c,Oe:()=>h,Tu:()=>g,a:()=>x,fz:()=>u,iZ:()=>d,l6:()=>n,tT:()=>p,zE:()=>l});var a=t(75535),s=t(43649),i=t(28163);async function o(e=!1){try{let r,t=(0,a.rJ)(s.db,"articles");r=(0,a.P)(t,(0,a.My)("createdAt","desc"));let i=await (0,a.GG)(r),o=[];return i.forEach(r=>{let t=r.data();(e||"drafts"!==t.status)&&(e||void 0===t.status||"published"===t.status)&&o.push({id:r.id,...t})}),o}catch(e){throw console.error("Error getting articles:",e),e}}async function l(e){try{let r=(0,a.H9)(s.db,"articles",e),t=await (0,a.x7)(r);if(t.exists())return{id:t.id,...t.data()};throw Error("Article not found")}catch(e){throw console.error("Error getting article:",e),e}}async function n(e){try{let r=(0,a.rJ)(s.db,"articles"),t=(0,a.P)(r,(0,a._M)("slug","==",e)),i=await (0,a.GG)(t);if(i.empty)throw Error("Article not found");let o=i.docs[0];return{id:o.id,...o.data()}}catch(e){throw console.error("Error getting article by slug:",e),e}}async function c(e){try{let r=s.j2.currentUser;if(!r)throw Error("You must be logged in to create an article");let t={title:e.title,body:e.body,slug:e.slug||e.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-"),createdAt:a.Dc.now(),authorId:r.uid,authorName:r.displayName||"Anonymous",tags:e.tags||[],status:e.status||"published"};return e.coverImage&&(t.coverImage=e.coverImage),{id:(await (0,a.gS)((0,a.rJ)(s.db,"articles"),t)).id,...t}}catch(e){throw console.error("Error creating article:",e),e}}async function d(e,r){try{let t=s.j2.currentUser;if(!t)throw Error("You must be logged in to edit an article");let i=(0,a.H9)(s.db,"articles",e),o=await (0,a.x7)(i);if(!o.exists())throw Error("Article not found");if(o.data().authorId!==t.uid)throw Error("You can only edit your own articles");let l={};void 0!==r.title&&(l.title=r.title,void 0===r.slug&&(l.slug=r.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-"))),void 0!==r.body&&(l.body=r.body),void 0!==r.tags&&(l.tags=r.tags),void 0!==r.status&&(l.status=r.status),void 0!==r.coverImage&&(l.coverImage=r.coverImage),void 0!==r.slug&&(l.slug=r.slug),await (0,a.mZ)(i,l);let n=await (0,a.x7)(i);return{id:n.id,...n.data()}}catch(e){throw console.error("Error updating article:",e),e}}async function u(e){try{let r=(0,a.rJ)(s.db,"articles",e,"comments"),t=(0,a.P)(r,(0,a.My)("createdAt","desc")),i=await (0,a.GG)(t),o=[];return i.forEach(e=>{let r=e.data();o.push({id:e.id,commentId:e.id,...r,replies:r.replies||[]})}),o}catch(e){throw console.error("Error getting comments:",e),e}}async function m(e,r){try{let t=s.j2.currentUser;if(!t)throw Error("You must be logged in to comment");let o={userId:t.uid,userName:t.displayName||t.email?.split("@")[0]||"Anonymous",content:r,createdAt:a.Dc.now(),likes:[],replies:[]},l=await (0,a.gS)((0,a.rJ)(s.db,"articles",e,"comments"),o),n=(0,a.H9)(s.db,"articles",e),c=await (0,a.x7)(n);if(c.exists()){let t=c.data();await (0,i.fZ)(t.authorId,e,t.slug||"",t.title||"Article",l.id,r)}return{id:l.id,commentId:l.id,...o}}catch(e){throw console.error("Error adding comment:",e),e}}async function h(e,r,t){try{let i=s.j2.currentUser;if(!i)throw Error("You must be logged in to reply");let o=(0,a.H9)(s.db,"articles",e,"comments",r);if(!(await (0,a.x7)(o)).exists())throw Error("Comment not found");let l={replyId:Math.random().toString(36).substring(2,15),userId:i.uid,userName:i.displayName||i.email?.split("@")[0]||"Anonymous",content:t,createdAt:a.Dc.now(),likes:[]};return await (0,a.mZ)(o,{replies:(0,a.hq)(l)}),l}catch(e){throw console.error("Error adding reply:",e),e}}async function p(e,r){try{let t=s.j2.currentUser;if(!t)throw Error("You must be logged in to like a comment");let i=(0,a.H9)(s.db,"articles",e,"comments",r),o=await (0,a.x7)(i);if(!o.exists())throw Error("Comment not found");let l=o.data(),n=t.uid;if((l.likes||[]).includes(n)){await (0,a.mZ)(i,{likes:(0,a.C3)(n)});let e=(await (0,a.x7)(i)).data();return{success:!0,action:"unliked",likes:e.likes,count:e.likes.length}}{await (0,a.mZ)(i,{likes:(0,a.hq)(n)});let e=(await (0,a.x7)(i)).data();return{success:!0,action:"liked",likes:e.likes,count:e.likes.length}}}catch(e){throw console.error("Error liking comment:",e),e}}async function g(e,r){try{let t=s.j2.currentUser;if(!t)throw Error("You must be logged in to delete a comment");let i=(0,a.H9)(s.db,"articles",e,"comments",r),o=await (0,a.x7)(i);if(!o.exists())throw Error("Comment not found");if(o.data().userId!==t.uid)throw Error("You can only delete your own comments");return await (0,a.kd)(i),{success:!0,message:"Comment deleted successfully"}}catch(e){throw console.error("Error deleting comment:",e),e}}async function x(e){try{let r=s.j2.currentUser;if(!r)throw Error("You must be logged in to delete an article");let t=await (0,a.x7)((0,a.H9)(s.db,"articles",e));if(!t.exists())throw Error("Article not found");if(t.data().authorId!==r.uid)throw Error("You can only delete your own articles");return await (0,a.kd)((0,a.H9)(s.db,"articles",e)),{success:!0,message:"Article deleted successfully"}}catch(e){throw console.error("Error deleting article:",e),e}}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[169,814,948,774],()=>t(64592));module.exports=a})();