(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8775:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var s=t(60687),a=t(76180),o=t.n(a),n=t(43210),l=t(41120),i=t(51215);let c=({isOpen:e,onClose:r,highlightText:t,articleTitle:a,shareUrl:c})=>{let[d,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(d){let e=setTimeout(()=>u(!1),3e3);return()=>clearTimeout(e)}},[d]),(0,n.useEffect)(()=>{let t=e=>{"Escape"===e.key&&r()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[e,r]);let m=async()=>{try{await navigator.clipboard.writeText(c),u(!0)}catch(e){console.error("Failed to copy link:",e)}};return e?(0,i.createPortal)((0,s.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},onClick:r,className:"jsx-8795408d21c696e",children:[(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"100%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",position:"relative",animation:"modalSlideIn 0.3s ease-out"},onClick:e=>e.stopPropagation(),className:"jsx-8795408d21c696e",children:[(0,s.jsx)("button",{onClick:r,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6B7280",padding:"0.25rem",borderRadius:"0.375rem",transition:"color 0.2s ease"},onMouseOver:e=>e.currentTarget.style.color="#374151",onMouseOut:e=>e.currentTarget.style.color="#6B7280",className:"jsx-8795408d21c696e",children:"\xd7"}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"jsx-8795408d21c696e",children:[(0,s.jsxs)("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:"600",color:"#1F2937"},className:"jsx-8795408d21c696e",children:[(0,s.jsx)(l.uQ,{size:20,color:"#3b82f6"}),"Share Highlight"]}),(0,s.jsxs)("p",{style:{margin:0,color:"#6B7280",fontSize:"0.875rem"},className:"jsx-8795408d21c696e",children:['Share this highlight from "',a,'"']})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#F9FAFB",border:"2px solid #E5E7EB",borderRadius:"0.75rem",padding:"1.25rem",marginBottom:"1.5rem"},className:"jsx-8795408d21c696e",children:[(0,s.jsxs)("div",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#374151",fontStyle:"italic",marginBottom:"0.75rem"},className:"jsx-8795408d21c696e",children:['"',t,'"']}),(0,s.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6B7280",fontWeight:"500"},className:"jsx-8795408d21c696e",children:['— from "',a,'"']})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"jsx-8795408d21c696e",children:[(0,s.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},className:"jsx-8795408d21c696e",children:"Share Link"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},className:"jsx-8795408d21c696e",children:[(0,s.jsx)("input",{type:"text",value:c,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"0.5rem",fontSize:"0.875rem",backgroundColor:"#F9FAFB",fontFamily:"monospace"},className:"jsx-8795408d21c696e"}),(0,s.jsx)("button",{onClick:m,style:{padding:"0.75rem 1rem",backgroundColor:d?"#10B981":"#3B82F6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",whiteSpace:"nowrap"},className:"jsx-8795408d21c696e",children:d?"✓ Copied!":"\uD83D\uDCCB Copy"})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},className:"jsx-8795408d21c696e",children:[!1,(0,s.jsx)("button",{onClick:r,style:{padding:"0.75rem 1.5rem",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#E5E7EB",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F3F4F6",className:"jsx-8795408d21c696e",children:"Close"})]})]}),(0,s.jsx)(o(),{id:"8795408d21c696e",children:"@-webkit-keyframes modalSlideIn{from{opacity:0;-webkit-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-moz-keyframes modalSlideIn{from{opacity:0;-moz-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95)}to{opacity:1;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-o-keyframes modalSlideIn{from{opacity:0;-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95)}to{opacity:1;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@keyframes modalSlideIn{from{opacity:0;-webkit-transform:translatey(-20px)scale(.95);-moz-transform:translatey(-20px)scale(.95);-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}"})]}),document.body):null}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,r,t)=>{"use strict";var s=t(65773);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},16533:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(60687);t(43210);var a=t(85814),o=t.n(a),n=t(5062),l=t.n(n);let i=()=>(0,s.jsx)(o(),{href:"/",className:l()["top-left-logo"],children:"Journalite"})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21204:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/page.tsx","default")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},38415:(e,r,t)=>{Promise.resolve().then(t.bind(t,48202))},48202:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var s=t(60687),a=t(43210),o=t(85814),n=t.n(o),l=t(5062),i=t.n(l),c=t(43649),d=t(84245);t(79440);var u=t(26734),m=t(89911),h=t(8775),p=t(49048);let f=()=>{let[e,r]=(0,a.useState)(""),[t,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),f=(0,a.useRef)(null),x=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&f.current&&!f.current.contains(e.target)&&(u(!1),h(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.useEffect)(()=>{let r=setTimeout(async()=>{if(e.trim().length>=2){c(!0);try{let r=await (0,p.x5)(e);o(r),u(!0)}catch(e){console.error("Error searching users:",e)}finally{c(!1)}}else o([]),u(!1)},300);return()=>clearTimeout(r)},[e]),(0,s.jsxs)("div",{className:i().centerSearchContainer,children:[(0,s.jsxs)("div",{className:`${i().centerSearchWrapper} ${m?i().focused:""}`,children:[(0,s.jsx)("div",{className:i().searchIcon,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.jsx)("path",{d:"M21 21L16.65 16.65"})]})}),(0,s.jsx)("input",{type:"text",ref:f,className:i().centerSearchInput,placeholder:"Search for writers, ideas, or topics...",value:e,onChange:e=>{r(e.target.value)},onFocus:()=>{h(!0),e.trim().length>=2&&t.length>0&&u(!0)},onBlur:()=>{setTimeout(()=>{d||h(!1)},150)}}),l&&(0,s.jsx)("div",{className:i().searchLoadingIcon,children:(0,s.jsx)("div",{className:i().loadingSpinner})})]}),d&&t.length>0&&(0,s.jsx)("div",{ref:x,className:i().centerSearchResults,children:t.map(e=>(0,s.jsxs)(n(),{href:`/user/${encodeURIComponent(e.username.toLowerCase())}`,className:i().centerSearchResultItem,onClick:()=>{u(!1),h(!1)},children:[(0,s.jsxs)("div",{className:i().resultUserAvatar,children:[e.firstName.charAt(0),e.lastName.charAt(0)]}),(0,s.jsxs)("div",{className:i().resultUserInfo,children:[(0,s.jsxs)("div",{className:i().resultUserName,children:[e.firstName," ",e.lastName]}),(0,s.jsxs)("div",{className:i().resultUserUsername,children:["@",e.username]})]})]},e.uid))}),d&&e.trim().length>=2&&0===t.length&&!l&&(0,s.jsx)("div",{className:i().centerSearchResults,children:(0,s.jsxs)("div",{className:i().centerSearchNoResults,children:['No users found matching "',e,'"']})})]})};var x=t(95282),g=t.n(x),y=t(16533);let j={"84b2f82c-1e93-498a-983e-3b30a8379e63":"Samuel Green",user_002:"Alex Martinez","kristen-lee-id":"Kristen Lee","alex-wen-id":"Alex Wen","hannah-cole-id":"Hannah Cole"};function w(){let[e,r]=(0,a.useState)([]),[t,o]=(0,a.useState)(null),[l,p]=(0,a.useState)(!0),[x,w]=(0,a.useState)(!0),[b,v]=(0,a.useState)(!1),[N,C]=(0,a.useState)(0),[k,S]=(0,a.useState)(!1),[E,U]=(0,a.useState)(null),L=e=>e.authorName?e.authorName:e.authorId&&j[e.authorId]||"",A=e=>e&&Array.isArray(e)&&Math.ceil(e.reduce((e,r)=>e+(r&&r.text?r.text.split(" ").length:0),0)/200)||1,P=(e,r=150)=>{if(e.excerpt)return e.excerpt;let t=e.content;if(!t||!Array.isArray(t)||0===t.length)return"";let s=t[0]?.text||"",a=s.includes("<")&&s.includes(">")?(e=>{let r=document.createElement("div");return r.innerHTML=e,r.textContent||r.innerText||""})(s):s;return a.length<=r?a:a.substring(0,r).trim()+"..."},R=()=>{w(!x)},I=async()=>{try{await (0,d.signOut)(c.j2)}catch(e){}},q=e=>{U({title:e.title,slug:e.slug,coverImageUrl:e.coverImageUrl,excerpt:P(e,100)}),S(!0)},[D,F]=(0,a.useState)("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g(),{children:E&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("meta",{property:"og:title",content:E.title}),(0,s.jsx)("meta",{property:"og:description",content:E.excerpt||"Read this article on Journalite."}),(0,s.jsx)("meta",{property:"og:image",content:E.coverImageUrl||"/default-image.jpg"}),(0,s.jsx)("meta",{property:"og:url",content:`https://mvp.journalite.app/articles?slug=${encodeURIComponent(E.slug)}`}),(0,s.jsx)("meta",{property:"og:type",content:"article"})]})}),(0,s.jsxs)("div",{className:i()["three-column-layout"],children:[N<768&&!x&&(0,s.jsx)("div",{className:`${i()["menu-overlay"]} ${i().active}`,onClick:R}),(0,s.jsx)(y.A,{}),(0,s.jsx)(m.A,{isAuthenticated:b,handleLogout:I,toggleSidebar:R,isSidebarCollapsed:x}),N<768&&(0,s.jsx)("button",{className:i()["toggle-button"],onClick:R,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:x?"☰":"✕"}),(0,s.jsxs)("main",{className:`${i()["center-column"]} ${x&&N>=768?i().expanded:""}`,children:[(0,s.jsx)(f,{}),l?(0,s.jsx)("div",{className:i().loading,children:"Loading articles..."}):(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsxs)("article",{className:i()["featured-card"],children:[(0,s.jsxs)("div",{className:i()["featured-content"],children:[(0,s.jsx)("div",{className:i()["featured-label"],children:"FEATURED THOUGHT"}),(0,s.jsx)("h2",{className:i()["featured-title"],children:t.title}),(0,s.jsxs)("div",{className:i()["featured-meta"],children:["by ",L(t)," • ",A(t.content)," min read"]}),(0,s.jsx)("p",{className:i()["featured-excerpt"],children:P(t)}),(0,s.jsx)(n(),{href:`/articles?slug=${encodeURIComponent(t.slug)}`,className:i()["read-link"],children:"Read →"})]}),t.coverImageUrl&&(0,s.jsx)("div",{className:i()["featured-image"],children:(0,s.jsx)("img",{src:t.coverImageUrl,alt:t.title,className:i()["cover-image"]})})]}),(0,s.jsx)("div",{className:i()["article-grid"],children:e.map((e,r)=>(0,s.jsxs)("article",{className:i()["article-card"],children:[(0,s.jsx)("h3",{className:i()["article-title"],children:e.title}),(0,s.jsxs)("div",{className:i()["article-meta"],children:["by ",L(e)," • ",A(e.content)," min read"]}),(e.excerpt||e.content&&e.content.length>0)&&(0,s.jsx)("p",{className:i()["article-excerpt"],children:P(e)}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:i()["article-tags"],children:e.tags.map((r,t)=>(0,s.jsxs)(n(),{href:`/tag/${r.toLowerCase()}`,className:i().tag,children:["#",r]},`${e.slug}-tag-${t}`))}),(0,s.jsxs)("div",{className:i()["reaction-bar"],children:[(0,s.jsx)("button",{className:i()["reaction-button"],"aria-label":"Like article",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})}),(0,s.jsx)("button",{className:i()["reaction-button"],"aria-label":"Share article",onClick:()=>q(e),children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"})})}),(0,s.jsx)("button",{className:i()["reaction-button"],"aria-label":"Comment on article",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})})}),(0,s.jsx)(n(),{href:`/articles?slug=${encodeURIComponent(e.slug)}`,className:i()["read-link"],children:"Read →"})]})]},e._id||e.slug||`article-${r}`))})]})]}),(0,s.jsxs)("aside",{className:i()["right-sidebar"],children:[(0,s.jsx)("h2",{className:i()["sidebar-heading"],children:"Trending"}),b&&(0,s.jsx)(u.A,{}),(0,s.jsx)("div",{className:i()["tag-list"],children:["Journalism","Technology","Politics","Science","Culture"].map(e=>(0,s.jsxs)(n(),{href:`/tag/${e.toLowerCase()}`,className:i()["trending-tag"],children:["# ",e]},e))}),(0,s.jsx)(n(),{href:"/write",className:i()["write-button"],children:"Write"})]}),E&&(0,s.jsx)(h.A,{isOpen:k,onClose:()=>{S(!1),U(null)},highlightText:E.excerpt||"Check out this article",articleTitle:E.title,shareUrl:`https://mvp.journalite.app/articles?slug=${encodeURIComponent(E.slug)}`})]})]})}},49048:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>u,Ci:()=>y,E$:()=>f,OQ:()=>l,Qt:()=>p,SR:()=>g,VM:()=>c,Vz:()=>i,e_:()=>d,mH:()=>x,pV:()=>h,x5:()=>m});var s=t(75535),a=t(84245),o=t(43649),n=t(28163);async function l(e){try{let r=(0,s.query)((0,s.collection)(o.db,"users"),(0,s.where)("username","==",e.toLowerCase()));return!(await (0,s.getDocs)(r)).empty}catch(e){throw console.error("Error checking username:",e),e}}async function i(e,r){try{let t=await c(e);if(t){console.log("User profile already exists, updating instead of creating");let n=(0,s.doc)(o.db,"users",e);await (0,s.updateDoc)(n,{firstName:r.firstName,lastName:r.lastName,username:r.username.toLowerCase(),email:r.email.toLowerCase(),bio:r.bio||t.bio||""}),o.j2.currentUser&&await (0,a.updateProfile)(o.j2.currentUser,{displayName:r.username});return}let n=(0,s.query)((0,s.collection)(o.db,"users"),(0,s.where)("email","==",r.email.toLowerCase()));if(!(await (0,s.getDocs)(n)).empty)throw Error("Email is already associated with another account");if(await l(r.username))throw Error("Username is already taken");let i=(0,s.doc)(o.db,"users",e);await (0,s.setDoc)(i,{uid:e,firstName:r.firstName,lastName:r.lastName,username:r.username.toLowerCase(),email:r.email.toLowerCase(),bio:r.bio||"",createdAt:(0,s.serverTimestamp)()}),o.j2.currentUser&&await (0,a.updateProfile)(o.j2.currentUser,{displayName:r.username})}catch(e){throw console.error("Error creating user profile:",e),e}}async function c(e){try{let r=(0,s.doc)(o.db,"users",e),t=await (0,s.getDoc)(r);if(t.exists())return t.data();return null}catch(e){throw console.error("Error fetching user profile:",e),e}}async function d(e){if(!e)return null;try{let r=(0,s.query)((0,s.collection)(o.db,"users"),(0,s.where)("email","==",e.toLowerCase()),(0,s.limit)(1)),t=await (0,s.getDocs)(r);if(!t.empty)return t.docs[0].data();return null}catch(e){throw console.error("Error fetching user profile by email:",e),e}}async function u(e,r){try{let t=(0,s.doc)(o.db,"users",e);await (0,s.updateDoc)(t,{interests:r}),console.log(`Interests updated for user ${e}:`,r)}catch(e){throw console.error("Error updating user interests:",e),e}}async function m(e){try{if(!e||e.trim().length<2)return[];let r=e.toLowerCase().trim(),t=(0,s.collection)(o.db,"users");return(await (0,s.getDocs)(t)).docs.map(e=>e.data()).filter(e=>{let t=e.username.toLowerCase(),s=e.firstName.toLowerCase(),a=e.lastName.toLowerCase(),o=`${s} ${a}`;return t.includes(r)||s.includes(r)||a.includes(r)||o.includes(r)})}catch(e){return console.error("Error searching users:",e),[]}}async function h(e,r){try{if(e===r)throw Error("You cannot follow yourself");let t=(0,s.doc)(o.db,"users",e);await (0,s.updateDoc)(t,{following:(0,s.arrayUnion)(r),followingCount:(0,s.increment)(1)});let a=(0,s.doc)(o.db,"users",r);await (0,s.updateDoc)(a,{followers:(0,s.arrayUnion)(e),followersCount:(0,s.increment)(1)});let l=await (0,s.getDoc)(t);if(l.exists()){let t=l.data();await (0,n.N9)(r,`${t.firstName} ${t.lastName}`,e,t.username)}}catch(e){throw console.error("Error following user:",e),e}}async function p(e,r){try{let t=(0,s.doc)(o.db,"users",e);await (0,s.updateDoc)(t,{following:(0,s.arrayRemove)(r),followingCount:(0,s.increment)(-1)});let a=(0,s.doc)(o.db,"users",r);await (0,s.updateDoc)(a,{followers:(0,s.arrayRemove)(e),followersCount:(0,s.increment)(-1)})}catch(e){throw console.error("Error unfollowing user:",e),e}}async function f(e,r){try{let t=(0,s.doc)(o.db,"users",e),a=await (0,s.getDoc)(t);if(!a.exists())return!1;let n=a.data();return n.following?.includes(r)||!1}catch(e){throw console.error("Error checking follow status:",e),e}}async function x(e,r=50){try{let t=(0,s.doc)(o.db,"users",e),a=await (0,s.getDoc)(t);if(!a.exists())return[];let n=a.data().following||[];if(0===n.length)return[];let l=[],i=Math.min(n.length,r);for(let e=0;e<i;e++){let r=n[e],t=(0,s.doc)(o.db,"users",r),a=await (0,s.getDoc)(t);a.exists()&&l.push(a.data())}return l}catch(e){throw console.error("Error getting following list:",e),e}}async function g(e,r=50){try{let t=(0,s.doc)(o.db,"users",e),a=await (0,s.getDoc)(t);if(!a.exists())return[];let n=a.data().followers||[];if(0===n.length)return[];let l=[],i=Math.min(n.length,r);for(let e=0;e<i;e++){let r=n[e],t=(0,s.doc)(o.db,"users",r),a=await (0,s.getDoc)(t);a.exists()&&l.push(a.data())}return l}catch(e){throw console.error("Error getting followers list:",e),e}}async function y(e){try{let r=(0,s.doc)(o.db,"users",e);await (0,s.deleteDoc)(r),console.log(`User profile for UID ${e} deleted from Firestore.`);let t=o.j2.currentUser;if(t&&t.uid===e)await (0,a.deleteUser)(t),console.log(`User account for UID ${e} deleted from Firebase Authentication.`);else if(t)throw console.error("Current authenticated user does not match UID to be deleted."),Error("Mismatch between authenticated user and account to be deleted.");else throw console.error("No current user authenticated. Cannot delete Firebase Auth user."),Error("Authentication required to delete account.")}catch(e){if(console.error("Error deleting user account:",e),"auth/requires-recent-login"===e.code)throw Error("This operation is sensitive and requires recent authentication. Please sign out and sign back in, then try again.");throw Error("Failed to delete user account. "+e.message)}}},50039:(e,r,t)=>{Promise.resolve().then(t.bind(t,21204))},55511:e=>{"use strict";e.exports=require("crypto")},62016:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=t(65239),a=t(48088),o=t(88170),n=t.n(o),l=t(30893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,21204)),"/Users/sirabdisalam/journalite-article-page/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}],d=["/Users/sirabdisalam/journalite-article-page/src/app/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95282:(e,r)=>{"use strict";function t(){return null}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return t}}),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[476,948,405,603,598],()=>t(62016));module.exports=s})();