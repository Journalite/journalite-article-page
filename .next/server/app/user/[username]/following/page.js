(()=>{var e={};e.id=653,e.ids=[653],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8556:(e,r,s)=>{"use strict";s.d(r,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/components/FollowingClient.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/components/FollowingClient.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},25556:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n,metadata:()=>a,viewport:()=>i});var t=s(37413);let a={title:"User Profile | Journalite",description:"View user profile and articles"},i={width:"device-width",initialScale:1};function n({children:e}){return(0,t.jsx)(t.Fragment,{children:e})}},26223:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o,generateStaticParams:()=>l});var t=s(37413);s(61120);var a=s(8556),i=s(34717),n=s(45823);async function l(){try{let e=(0,i.rJ)(n.db,"users");return(await (0,i.GG)(e)).docs.map(e=>({username:e.data().username||e.id})).filter(e=>e.username)}catch(e){return console.error("Error generating static params for user following pages:",e),[]}}function o({params:e}){return(0,t.jsx)(a.default,{username:e.username})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34984:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var t=s(65239),a=s(48088),i=s(88170),n=s.n(i),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let c={children:["",{children:["user",{children:["[username]",{children:["following",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,26223)),"/Users/sirabdisalam/journalite-article-page/src/app/user/[username]/following/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,25556)),"/Users/sirabdisalam/journalite-article-page/src/app/user/[username]/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["/Users/sirabdisalam/journalite-article-page/src/app/user/[username]/following/page.tsx"],d={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/user/[username]/following/page",pathname:"/user/[username]/following",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},37366:e=>{"use strict";e.exports=require("dns")},38028:(e,r,s)=>{Promise.resolve().then(s.bind(s,45522))},43399:(e,r,s)=>{"use strict";s.d(r,{A:()=>c});var t=s(60687),a=s(43210),i=s(16189),n=s(84245),l=s(43649),o=s(49048);let c=({targetUserId:e,targetUsername:r,className:s=""})=>{let[c,u]=(0,a.useState)(null),[d,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!0),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),j=(0,i.useRouter)();if((0,a.useEffect)(()=>{let r=(0,n.onAuthStateChanged)(l.j2,async r=>{if(r){u(r.uid);try{let s=await (0,o.E$)(r.uid,e);m(s)}catch(e){console.error("Error checking follow status:",e)}finally{x(!1)}}else u(null),x(!1)});return()=>r()},[e]),(0,a.useEffect)(()=>{let e;return g&&(e=setTimeout(()=>{b(!1)},3e3)),()=>{e&&clearTimeout(e)}},[g]),c===e)return null;let w=async()=>{if(!c)return void j.push("/login");f(!0);try{d?(await (0,o.Qt)(c,e),m(!1)):(await (0,o.pV)(c,e),m(!0),b(!0))}catch(e){console.error("Error with follow/unfollow action:",e)}finally{f(!1)}},v="px-4 py-2 rounded-full text-sm font-medium transition-colors",y=`${v} bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2`,N=`${v} bg-white text-gray-800 border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2`,k=`${d?N:y} ${s}`;return p?(0,t.jsx)("button",{className:`${v} bg-gray-200 text-gray-400 cursor-not-allowed ${s}`,disabled:!0,children:"Loading..."}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:w,disabled:h,className:k,"aria-label":d?`Unfollow ${r}`:`Follow ${r}`,children:h?(0,t.jsxs)("span",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d?"Unfollowing...":"Following..."]}):(0,t.jsx)("span",{children:d?"Following":"Follow"})}),g&&(0,t.jsxs)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-gray-800 text-white text-xs rounded py-1 px-2 pointer-events-none opacity-90 whitespace-nowrap z-10",children:[(0,t.jsx)("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rotate-45 bg-gray-800"}),"Notification sent to ",r]})]})}},45522:(e,r,s)=>{"use strict";s.d(r,{default:()=>x});var t=s(60687),a=s(34889),i=s(85814),n=s.n(i),l=s(75535),o=s(43649),c=s(49048),u=s(5062),d=s.n(u),m=s(43399),p=s(89911);function x({username:e}){let[r,s]=(0,a.useState)(null),[i,u]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let r=async()=>{h(!0);try{let r=(0,l.collection)(o.db,"users"),t=(0,l.query)(r,(0,l.where)("username","==",e)),a=await (0,l.getDocs)(t);if(a.empty){g(`User @${e} not found`),h(!1);return}let i=a.docs[0].data();s(i);let n=await (0,c.mH)(i.uid,100);u(n)}catch(e){console.error("Error fetching following:",e),g("Failed to load following")}finally{h(!1)}};e&&r()},[e]),x)?(0,t.jsx)("div",{className:d().container,children:(0,t.jsxs)("div",{className:d().loading,children:[(0,t.jsx)("div",{className:d().loadingSpinner}),(0,t.jsx)("p",{children:"Loading following..."})]})}):f?(0,t.jsx)("div",{className:d().container,children:(0,t.jsxs)("div",{className:d().errorAlert,children:[(0,t.jsx)("p",{children:f}),(0,t.jsx)(n(),{href:"/",className:d().backLink,children:"Back to home"})]})}):r?(0,t.jsxs)("div",{className:d()["three-column-layout"],children:[(0,t.jsx)(p.A,{isAuthenticated:!1,handleLogout:()=>{},toggleSidebar:()=>{},isSidebarCollapsed:!1}),(0,t.jsxs)("main",{className:d()["center-column"],children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(n(),{href:`/user/${e}`,className:d().backLink,children:["← Back to ",r.firstName,"'s profile"]}),(0,t.jsxs)("h1",{className:d().sectionHeading,children:["Accounts ",r.firstName," follows"]}),(0,t.jsxs)("p",{className:"text-gray-500 mb-6",children:[i.length," ",1===i.length?"account":"accounts"]})]}),0===i.length?(0,t.jsx)("div",{className:d().emptyState,children:(0,t.jsx)("p",{children:"Not following anyone yet."})}):(0,t.jsx)("div",{className:"space-y-6",children:i.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-6 bg-white rounded-lg shadow-sm border border-gray-100 max-w-3xl",children:[(0,t.jsxs)(n(),{href:`/user/${e.username}`,className:"flex items-center group flex-1 min-w-0 mr-2 sm:mr-4 overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-medium flex-shrink-0",children:[e.firstName.charAt(0),e.lastName.charAt(0)]}),(0,t.jsxs)("div",{className:"ml-2 sm:ml-4 overflow-hidden max-w-[calc(100%-60px)]",children:[(0,t.jsxs)("div",{className:"font-medium text-gray-900 group-hover:underline truncate",children:[e.firstName," ",e.lastName]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 truncate",children:["@",e.username]}),e.bio&&(0,t.jsx)("div",{className:"mt-1 text-sm text-gray-600 line-clamp-1",children:e.bio})]})]}),(0,t.jsx)(m.A,{targetUserId:e.uid,targetUsername:e.username,className:"flex-shrink-0 min-w-[80px] px-3 py-1.5 sm:px-4 sm:py-2 text-sm"})]},e.uid))})]}),(0,t.jsxs)("aside",{className:d()["right-sidebar"],children:[(0,t.jsxs)("h2",{className:d()["sidebar-heading"],children:["About ",r.firstName]}),(0,t.jsxs)("div",{className:d().sidebarSection,children:[r.bio&&(0,t.jsx)("p",{className:"mb-4",children:r.bio}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)(n(),{href:`/user/${e}/followers`,className:"text-gray-600 hover:text-blue-600",children:[r.followersCount||0," Followers"]}),(0,t.jsxs)(n(),{href:`/user/${e}/following`,className:"text-blue-600 font-medium",children:[r.followingCount||0," Following"]})]})]})]})]}):(0,t.jsx)("div",{className:d().container,children:(0,t.jsxs)("div",{className:d().errorAlert,children:[(0,t.jsx)("p",{children:"User not found"}),(0,t.jsx)(n(),{href:"/",className:d().backLink,children:"Back to home"})]})})}},45823:(e,r,s)=>{"use strict";s.d(r,{db:()=>l});var t=s(89579);s(84884);var a=s(25367),i=s(34717);let n=(0,t.Wp)({apiKey:"AIzaSyCFpybhLt43iKUw6lNahU1n2zjYv0BXmf4",authDomain:"journalitev1.firebaseapp.com",projectId:"journalitev1",storageBucket:"journalitev1.firebasestorage.app",messagingSenderId:"897263211529",appId:"1:897263211529:web:bae4a00910a2236d6d54d8",measurementId:"G-ZYT8PRMT0D"});(0,a.xI)(n);let l=(0,i.aU)(n)},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},74476:(e,r,s)=>{Promise.resolve().then(s.bind(s,8556))},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[3476,948,2989,1224,4405,9048,274,95],()=>s(34984));module.exports=t})();