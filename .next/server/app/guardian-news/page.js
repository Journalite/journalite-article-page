(()=>{var e={};e.id=8480,e.ids=[7588,8480],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},19936:(e,t,r)=>{Promise.resolve().then(r.bind(r,73974))},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},42242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(37413),i=r(61120),a=r(73974);function n(){return(0,s.jsx)("div",{children:(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading Guardian news..."}),children:(0,s.jsx)(a.default,{})})})}},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67588:(e,t,r)=>{"use strict";r.d(t,{guardianService:()=>i});class s{constructor(){this.baseUrl="https://content.guardianapis.com",this.apiKey="c928b68e-9227-4e28-a734-63f37cbd301b",this.apiKey&&"YOUR_API_KEY_HERE"!==this.apiKey||console.warn("Guardian API key not configured. Please set NEXT_PUBLIC_GUARDIAN_API_KEY in your environment variables.")}async searchArticles(e="",t,r=1,s=10){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let i=new URLSearchParams({"api-key":this.apiKey,"show-fields":"headline,standfirst,body,main,thumbnail,byline,trailText,bodyText","show-tags":"contributor,keyword","show-elements":"image,video","page-size":s.toString(),page:r.toString(),"order-by":"newest"});e&&i.append("q",e),t&&i.append("section",t);let a=`${this.baseUrl}/search?${i.toString()}`,n=await fetch(a);if(!n.ok)throw Error(`HTTP error! status: ${n.status}`);return(await n.json()).response}async getArticleById(e){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let t=new URLSearchParams({"api-key":this.apiKey,"show-fields":"headline,standfirst,body,main,thumbnail,byline,trailText,bodyText","show-tags":"contributor,keyword","show-elements":"image,video"}),r=`${this.baseUrl}/${e}?${t.toString()}`,s=await fetch(r);if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);return(await s.json()).response.content}async getSections(){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let e=`${this.baseUrl}/sections?api-key=${this.apiKey}`,t=await fetch(e);if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);return(await t.json()).response.results}convertToArticleFormat(e){let t="";e.fields?.standfirst&&(t+=`<div class="article-standfirst" style="font-size: 1.2em; color: #666; font-weight: 400; line-height: 1.4; margin: 0 0 2em 0;">
        <strong>${e.fields.standfirst}</strong>
      </div>`);let r=e.fields?.body||e.fields?.bodyText||"";if(r&&(t+=r=(r=(r=(r=(r=r.replace(/<img([^>]*?)>/g,(e,t)=>`<img ${t} style="max-width: 100%; height: auto; margin: 2em auto; display: block; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />`)).replace(/<figure([^>]*?)>/g,(e,t)=>`<figure ${t} style="margin: 2em auto; text-align: center;">`)).replace(/<figcaption([^>]*?)>/g,(e,t)=>`<figcaption ${t} style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic; text-align: center;">`)).replace(/<video([^>]*?)>/g,(e,t)=>`<video ${t} style="max-width: 100%; height: auto; margin: 2em auto; display: block; border-radius: 8px;" controls />`)).replace(/<p>\s*<\/p>/g,"")),!(t.includes("<img")||t.includes("<figure"))&&e.elements&&e.elements.length>0){let r=e.elements.find(e=>"image"===e.type&&e.assets&&e.assets.length>0);if(r){let s=r.assets.find(e=>"image"===e.type);if(s){let r=s.typeData.secureFile||s.file,i=s.typeData.alt||s.typeData.caption||e.webTitle,a=s.typeData.caption||"";t=`<figure style="margin: 0 0 2em 0; text-align: center;">
              <img src="${r}" alt="${i}" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />
              ${a?`<figcaption style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic;">${a}</figcaption>`:""}
            </figure>`+t}}}!e.fields?.main||t.includes("<img")||t.includes("<figure")||(t=`<figure style="margin: 0 0 2em 0; text-align: center;">
              <img src="${e.fields.main}" alt="${e.webTitle.replace(/"/g,"&quot;")}" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />
            </figure>`+t),t+=`<div class="original-article-link" style="margin-top: 3em; padding: 1.5em; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 12px; border-left: 4px solid #0066cc; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      <p style="margin: 0; color: #495057;"><em>ðŸ“° <strong>Read the complete article at:</strong> <a href="${e.webUrl}" target="_blank" rel="noopener noreferrer" style="color: #0066cc; font-weight: 600; text-decoration: none; border-bottom: 1px solid transparent; transition: border-bottom 0.2s ease;" onmouseover="this.style.borderBottom='1px solid #0066cc'" onmouseout="this.style.borderBottom='1px solid transparent'">The Guardian</a></em></p>
    </div>`;let s=e.fields?.byline||e.tags.find(e=>"contributor"===e.type)?.webTitle||"The Guardian",i=Math.ceil((e.fields?.body?e.fields.body.replace(/<[^>]*>/g,"").split(/\s+/).length:300)/200),a=[e.sectionName,e.pillarName,...e.tags.filter(e=>"keyword"===e.type).slice(0,3).map(e=>e.webTitle)].filter(Boolean);return{title:e.fields?.headline||e.webTitle,authorName:s,createdAt:(e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch(t){return console.error("Error formatting date:",t),e}})(e.webPublicationDate),readTime:i,tags:a,authorId:"guardian-api",hasReflectionRoom:!1,html:t}}isConfigured(){return!!(this.apiKey&&"YOUR_API_KEY_HERE"!==this.apiKey)}}let i=new s},73496:e=>{"use strict";e.exports=require("http2")},73974:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/guardian-news/client.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/guardian-news/client.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},77980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),i=r(48088),a=r(88170),n=r.n(a),l=r(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["guardian-news",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,42242)),"/Users/sirabdisalam/journalite-article-page/src/app/guardian-news/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/sirabdisalam/journalite-article-page/src/app/guardian-news/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/guardian-news/page",pathname:"/guardian-news",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82176:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(60687),i=r(43210),a=r(85814),n=r.n(a),l=r(43649),o=r(45e3),d=r(57129),c=r(51437),u=r(67588);let p=()=>{let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(!0),[p,g]=(0,i.useState)(""),[m,h]=(0,i.useState)(null),[x,b]=(0,i.useState)(!1),[f,y]=(0,i.useState)(""),[w,v]=(0,i.useState)(""),j=e=>{if(!e)return"";let t=e.replace(/<[^>]*>/g," ");return(t=(t=(t=t.replace(/\s+/g," ")).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&nbsp;/g," ")).trim()).length>200&&(t=t.substring(0,200)+"..."),t};(0,i.useEffect)(()=>{let e=l.j2.onAuthStateChanged(e=>{h(e),b(!!e)});return()=>e()},[]);let N=async(e="",r="")=>{try{if(a(!0),g(""),!u.guardianService.isConfigured())return void g("Guardian API not configured. Please add your Guardian API key to environment variables.");let s=await u.guardianService.searchArticles(e,r||void 0,1,20);t(s.results)}catch(e){console.error("Error fetching Guardian news:",e),g(e instanceof Error?e.message:"Failed to load Guardian news. Please try again later.")}finally{a(!1)}};(0,i.useEffect)(()=>{N("",w)},[w]);let T=e=>{v(e),y("")};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(n(),{href:"/",className:"text-2xl font-bold text-blue-600",children:"\uD83D\uDDDEï¸ The Guardian"}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{}),(0,s.jsx)(d.A,{})]})})]})})}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f.trim()&&N(f,w)},className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:f,onChange:e=>y(e.target.value),placeholder:"Search Guardian articles...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Search"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"",webTitle:"All"},{id:"world",webTitle:"World"},{id:"politics",webTitle:"Politics"},{id:"business",webTitle:"Business"},{id:"technology",webTitle:"Technology"},{id:"science",webTitle:"Science"},{id:"environment",webTitle:"Environment"},{id:"sport",webTitle:"Sport"},{id:"culture",webTitle:"Culture"}].map(e=>(0,s.jsx)("button",{onClick:()=>T(e.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${w===e.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:e.webTitle},e.id))})]}),p&&(0,s.jsxs)("div",{className:"mb-8 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[p,(0,s.jsxs)("div",{className:"mt-2 text-sm",children:["To use The Guardian API:",(0,s.jsxs)("ol",{className:"list-decimal list-inside mt-1",children:[(0,s.jsxs)("li",{children:["Visit ",(0,s.jsx)("a",{href:"https://open-platform.theguardian.com/access/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"The Guardian Open Platform"})]}),(0,s.jsx)("li",{children:"Register for a free developer key"}),(0,s.jsx)("li",{children:"Add NEXT_PUBLIC_GUARDIAN_API_KEY to your .env.local file"})]})]})]}),r?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading Guardian articles..."})]}):(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,s.jsxs)(n(),{href:`/guardian-news/${e.id}`,className:"group cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-2xl block",style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[e.fields?.thumbnail&&(0,s.jsxs)("div",{className:"relative overflow-hidden",children:[(0,s.jsx)("img",{src:e.fields.thumbnail,alt:e.webTitle,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110",style:{borderRadius:"20px 20px 0 0"}}),(0,s.jsx)("div",{className:"absolute inset-0",style:{background:"linear-gradient(transparent 60%, rgba(0,0,0,0.2) 100%)"}})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,s.jsx)("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-blue-700 rounded-full",style:{background:"rgba(59, 130, 246, 0.15)",backdropFilter:"blur(10px)"},children:e.sectionName}),e.pillarName&&(0,s.jsx)("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-gray-600 rounded-full",style:{background:"rgba(107, 114, 128, 0.15)",backdropFilter:"blur(10px)"},children:e.pillarName})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 line-clamp-2 leading-tight",children:e.fields?.headline||e.webTitle}),e.fields?.standfirst&&(0,s.jsx)("p",{className:"text-gray-700 text-sm mb-4 line-clamp-3 leading-relaxed",children:j(e.fields.standfirst)}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:e.fields?.byline||e.tags.find(e=>"contributor"===e.type)?.webTitle||"The Guardian"}),(0,s.jsx)("span",{children:new Date(e.webPublicationDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]})]},e.id))}),0===e.length&&!r&&!p&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-600",children:"No articles found. Try a different search or section."})})]}),(0,s.jsx)(o.A,{isAuthenticated:x})]})}},83488:(e,t,r)=>{Promise.resolve().then(r.bind(r,82176))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[3476,948,2989,4405,9048,274,2560],()=>r(77980));module.exports=s})();