(()=>{var e={};e.id=8406,e.ids=[8406],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16522:(e,t,r)=>{Promise.resolve().then(r.bind(r,56852))},18002:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var a=r(60687),i=r(43210),s=r(16189),n=r(85814),o=r.n(n),l=r(43649),d=r(84245),c=r(51179),u=r(89404),p=r(91834),m=r(79440),x=r(36012),g=r.n(x),h=r(62475),f=r(18314),b=r(45e3),v=r(57129),j=r(51437);let S=({id:e})=>{let t=(0,s.useRouter)(),[r,n]=(0,i.useState)(!0),[x,S]=(0,i.useState)(""),[y,w]=(0,i.useState)(null),[A,N]=(0,i.useState)(null),[I,E]=(0,i.useState)([]),[k,C]=(0,i.useState)(null),[q,P]=(0,i.useState)(!1),[U,$]=(0,i.useState)(!1),[_,z]=(0,i.useState)(1024),[Q,L]=(0,i.useState)(!1),M=(0,i.useRef)(null),[T,R]=(0,i.useState)("reflective"),[F,G]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=l.j2.onAuthStateChanged(e=>{C(e),$(!!e)});return()=>e()},[]),(0,i.useEffect)(()=>{let e=()=>{z(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{if(U){let e=localStorage.getItem("moodFeatureEnabled");null!==e?G(JSON.parse(e)):G(!0)}else G(!1)},[U]);let B=async()=>{try{await (0,d.signOut)(l.j2),L(!1),t.push("/")}catch(e){console.error("Error signing out:",e)}};(0,i.useEffect)(()=>{let e=e=>{M.current&&!M.current.contains(e.target)&&L(!1)};return Q&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[Q]);let D=async()=>{try{n(!0),await new Promise(e=>setTimeout(e,300));let t=await (0,m.getArticleById)(e);if(!t)return void S("Article not found");let r=t.body?t.body.replace(/<div[^>]*>Content is loaded from HTML<\/div>/g,"").replace(/<h1[^>]*>Untitled Article<\/h1>/g,""):"";w(r),E(t.likes||[]);let a=t.body?t.body.split(/\s+/).length:0,i=Math.ceil(a/200),s=t.createdAt?new Date(1e3*t.createdAt.seconds).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown date";N({title:t.title||"Untitled Article",authorName:t.authorName||"Anonymous",createdAt:s,readTime:i,tags:t.tags||[],authorId:t.authorId,hasReflectionRoom:t.hasReflectionRoom||!1})}catch(e){console.error("Error loading article:",e),S("Failed to load article")}finally{n(!1)}};(0,i.useEffect)(()=>{D()},[e]),(0,i.useEffect)(()=>{if(y&&U){let e=y.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();e&&R((0,h.H)(e))}},[y,U]);let J=(0,i.useCallback)(()=>{P(!0)},[]),H=(0,i.useCallback)(()=>{P(!1)},[]);(0,i.useCallback)(e=>{G(e),localStorage.setItem("moodFeatureEnabled",JSON.stringify(e))},[]);let O=(0,i.useMemo)(()=>A?.title||"Article",[A?.title]),W=(0,i.useMemo)(()=>A?.title?A.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""):e,[A?.title,e]);return r?(0,a.jsxs)("div",{className:g().loadingContainer,children:[(0,a.jsx)("div",{className:g().loadingIndicator}),(0,a.jsx)("p",{children:"Loading article..."})]}):x?(0,a.jsx)("div",{className:g().errorContainer,children:(0,a.jsx)("p",{className:g().errorMessage,children:x})}):q?(0,a.jsx)(p.A,{articleId:e,onUpdateComplete:t=>{n(!0),w(null),N(null),t?window.location.href=`/articles/${e}?reload=${Date.now()}`:setTimeout(()=>{D()},800)},backToArticleAction:H,editingTitle:A?.title}):(0,a.jsxs)("div",{className:g().articlePageContainer,style:{position:"relative",backgroundColor:"#ffffff"},children:[U&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{"data-mood-element":"primary-gradient",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundImage:`linear-gradient(135deg, 
                ${f.Qx[T].gradientStart}08, 
                ${f.Qx[T].gradientEnd}12, 
                ${f.Qx[T].gradientStart}06)`,backgroundSize:"100% 100%",zIndex:0,transition:"background-image 0.8s ease-in-out",pointerEvents:"none",display:""}}),(0,a.jsx)("div",{"data-mood-element":"accent-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundImage:`radial-gradient(circle at 30% 70%, ${f.Qx[T].gradientEnd}06 0%, transparent 60%),
                radial-gradient(circle at 70% 30%, ${f.Qx[T].gradientStart}06 0%, transparent 60%)`,backgroundSize:"100% 100%",zIndex:1,opacity:.7,pointerEvents:"none",display:""}})]}),(0,a.jsx)("header",{className:g().pageHeader,"data-mood-header":"page-header",style:F&&U?{position:"relative",zIndex:1e4,background:`linear-gradient(135deg, 
            rgba(255, 255, 255, 0.15) 0%, 
            ${f.Qx[T].gradientStart}12 40%, 
            ${f.Qx[T].gradientEnd}08 100%)`,backdropFilter:"blur(24px) saturate(180%)",borderBottom:`1px solid ${f.Qx[T].gradientStart}25`,boxShadow:`
            0 2px 8px -2px ${f.Qx[T].gradientStart}15,
            0 8px 32px -8px ${f.Qx[T].gradientStart}20,
            inset 0 1px 0 rgba(255, 255, 255, 0.25),
            inset 0 -1px 0 ${f.Qx[T].gradientStart}10
          `,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:`1px solid ${f.Qx[T].gradientStart}15`,borderTop:"none"}:{position:"relative",zIndex:1e4},children:(0,a.jsxs)("div",{className:g().headerContainer,children:[(0,a.jsx)(o(),{href:"/",className:g().logoLink,children:(0,a.jsx)("div",{className:g().headerLogo,style:F&&U?{color:f.Qx[T].accent,fontWeight:"700",textShadow:`0 0 20px ${f.Qx[T].gradientStart}30, 0 0 40px ${f.Qx[T].gradientStart}15`,transition:"all 0.3s ease"}:{fontWeight:"700"},children:"Journalite"})}),(0,a.jsxs)("div",{className:g().headerActions,children:[U&&(0,a.jsx)(v.A,{}),U&&(0,a.jsx)(j.A,{}),(0,a.jsx)("div",{className:g().profileMenu,id:"profile-menu",ref:M,children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:g().profileCircle,onClick:()=>{L(!Q)},id:"profile-button",children:k?.displayName?.charAt(0)||k?.email?.charAt(0)||"U"}),Q&&(0,a.jsxs)("div",{className:g().profileDropdown,children:[(0,a.jsx)(o(),{href:"/",className:g().dropdownItem,children:"Home"}),(0,a.jsx)(o(),{href:"/my-thoughts",className:g().dropdownItem,children:"My Thoughts"}),(0,a.jsx)(o(),{href:"/messages",className:g().dropdownItem,children:"Messages"}),(0,a.jsx)(o(),{href:"/create-article",className:g().dropdownItem,children:"Create Article"}),(0,a.jsx)(o(),{href:"/explore",className:g().dropdownItem,children:"Explore"}),(0,a.jsx)(o(),{href:"/my-profile",className:g().dropdownItem,children:"Profile"}),(0,a.jsx)(o(),{href:"/settings",className:g().dropdownItem,children:"Settings"}),(0,a.jsx)("button",{onClick:B,className:g().dropdownItem,children:"Sign out"})]})]}):(0,a.jsxs)("div",{className:g().authButtons,children:[(0,a.jsx)(o(),{href:"/login",className:g().loginButton,children:"Sign in"}),(0,a.jsx)(o(),{href:"/register",className:g().signupButton,children:"Get started"})]})})]})]})}),(0,a.jsx)(c.A,{articleId:e,articleHtml:y,article:A,initialLikes:I,currentUser:k,isAuthenticated:U,onEditClick:J,articleTitle:O,articleSlug:W}),(0,a.jsx)("div",{className:g().commentsContainer,children:(0,a.jsx)(u.A,{articleId:e,...U&&{mood:T,moodFeatureEnabled:F}})}),(0,a.jsx)(b.A,{isAuthenticated:U})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32031:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>i,viewport:()=>s});var a=r(37413);let i={title:"Articles | Journalite",description:"Explore the latest articles from Journalite"},s={width:"device-width",initialScale:1,maximumScale:1};function n({children:e}){return(0,a.jsx)(a.Fragment,{children:e})}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},45823:(e,t,r)=>{"use strict";r.d(t,{db:()=>o});var a=r(89579);r(84884);var i=r(25367),s=r(34717);let n=(0,a.Wp)({apiKey:"AIzaSyCFpybhLt43iKUw6lNahU1n2zjYv0BXmf4",authDomain:"journalitev1.firebaseapp.com",projectId:"journalitev1",storageBucket:"journalitev1.firebasestorage.app",messagingSenderId:"897263211529",appId:"1:897263211529:web:bae4a00910a2236d6d54d8",measurementId:"G-ZYT8PRMT0D"});(0,i.xI)(n);let o=(0,s.aU)(n)},49772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,generateStaticParams:()=>l});var a=r(37413),i=r(61120),s=r(56852),n=r(34717),o=r(45823);async function l(){try{let e=(0,n.rJ)(o.db,"articles"),t=(0,n.P)(e,(0,n._M)("status","==","published"));return(await (0,n.GG)(t)).docs.map(e=>({id:e.id}))}catch(e){return console.error("Error generating static params for articles:",e),[]}}function d({params:e}){return(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading article..."}),children:(0,a.jsx)(s.default,{id:e.id})})}},55511:e=>{"use strict";e.exports=require("crypto")},56274:(e,t,r)=>{Promise.resolve().then(r.bind(r,18002))},56852:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/articles/[id]/client.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/articles/[id]/client.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94004:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(65239),i=r(48088),s=r(88170),n=r.n(s),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["articles",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,49772)),"/Users/sirabdisalam/journalite-article-page/src/app/articles/[id]/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32031)),"/Users/sirabdisalam/journalite-article-page/src/app/articles/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/sirabdisalam/journalite-article-page/src/app/articles/[id]/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/articles/[id]/page",pathname:"/articles/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[3476,948,2989,6622,1224,3130,1095,4405,9048,1120,274,5306,1834,6074,2560,1179],()=>r(94004));module.exports=a})();