(()=>{var e={};e.id=292,e.ids=[292],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18853:(e,t,s)=>{Promise.resolve().then(s.bind(s,52521))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},24596:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirabdisalam/journalite-article-page/src/app/articles/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirabdisalam/journalite-article-page/src/app/articles/page.tsx","default")},24933:(e,t,s)=>{Promise.resolve().then(s.bind(s,24596))},27910:e=>{"use strict";e.exports=require("stream")},28250:e=>{e.exports={container:"MinimalNotificationBell_container__NGUf_",button:"MinimalNotificationBell_button__MAJkt",icon:"MinimalNotificationBell_icon__c6pW9",badge:"MinimalNotificationBell_badge___Di_K",dropdown:"MinimalNotificationBell_dropdown__PJtYq",header:"MinimalNotificationBell_header__zCiQJ",viewAll:"MinimalNotificationBell_viewAll__ZLWoU",list:"MinimalNotificationBell_list__MmsKd",item:"MinimalNotificationBell_item__flonv",unread:"MinimalNotificationBell_unread__278b3",content:"MinimalNotificationBell_content__31WKK",message:"MinimalNotificationBell_message__fnAua",time:"MinimalNotificationBell_time___76Fq",dot:"MinimalNotificationBell_dot__R2YqN",empty:"MinimalNotificationBell_empty__kDVAL",footer:"MinimalNotificationBell_footer__Pslwe",seeMore:"MinimalNotificationBell_seeMore__ggGUA"}},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},52521:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var r=s(60687),i=s(43210),a=s(85814),l=s.n(a),n=s(16189),o=s(36012),c=s.n(o),d=s(43649),u=s(84245),m=s(28163),h=s(28250),p=s.n(h);let x=()=>{let[e,t]=(0,i.useState)(0),[s,a]=(0,i.useState)([]),[n,o]=(0,i.useState)(!1),c=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=async()=>{t(await (0,m.Hs)())};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[]),(0,i.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,i.useEffect)(()=>{n&&d()},[n]);let d=async()=>{try{let e=await (0,m.Ss)(!1);a(e)}catch(e){console.error("Error fetching notifications:",e)}},u=async e=>{try{!e.read&&e.id&&(await (0,m.bA)(e.id),t(e=>Math.max(e-1,0)),a(t=>t.map(t=>t.id===e.id?{...t,read:!0}:t)))}catch(e){console.error("Error marking notification as read:",e)}},h=e=>{if(!e)return"";let t=e.toDate?e.toDate():new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/6e4);if(s<1)return"Just now";if(s<60)return`${s}m ago`;let r=Math.floor(s/60);if(r<24)return`${r}h ago`;let i=Math.floor(r/24);return i<7?`${i}d ago`:t.toLocaleDateString()},x=e=>"follow"===e.type?e.fromUser?.username?`/user/${e.fromUser.username}`:"/notifications":e.articleSlug?`/articles?slug=${e.articleSlug}`:"/notifications";return(0,r.jsxs)("div",{className:p().container,ref:c,children:[(0,r.jsxs)("button",{className:p().button,onClick:()=>{o(!n)},"aria-label":"Notifications",children:[(0,r.jsxs)("svg",{className:p().icon,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,r.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e>0&&(0,r.jsx)("span",{className:p().badge,children:e})]}),n&&(0,r.jsxs)("div",{className:p().dropdown,children:[(0,r.jsxs)("div",{className:p().header,children:[(0,r.jsx)("h3",{children:"Notifications"}),s.length>0&&(0,r.jsx)(l(),{href:"/notifications",className:p().viewAll,children:"View All"})]}),(0,r.jsx)("div",{className:p().list,children:0===s.length?(0,r.jsx)("div",{className:p().empty,children:"No notifications yet"}):s.slice(0,5).map(e=>(0,r.jsxs)(l(),{href:x(e),className:`${p().item} ${!e.read?p().unread:""}`,onClick:()=>u(e),children:[(0,r.jsxs)("div",{className:p().content,children:[(0,r.jsx)("p",{className:p().message,children:e.message}),(0,r.jsx)("span",{className:p().time,children:h(e.createdAt)})]}),!e.read&&(0,r.jsx)("div",{className:p().dot})]},e.id))}),s.length>5&&(0,r.jsx)("div",{className:p().footer,children:(0,r.jsx)(l(),{href:"/notifications",className:p().seeMore,children:"See more notifications"})})]})]})};var f=s(40421),g=s(89404);function j(){let e=(0,n.useSearchParams)(),t=(0,n.useRouter)();e?.get("slug");let[s,a]=(0,i.useState)(null),[o,m]=(0,i.useState)(!0),[h,p]=(0,i.useState)(null),[j,N]=(0,i.useState)([]),[v,_]=(0,i.useState)(!1),[w,b]=(0,i.useState)(!0),[M,k]=(0,i.useState)(!1),[C,y]=(0,i.useState)(0),[A,S]=(0,i.useState)(null),[q,B]=(0,i.useState)([]),[P,I]=(0,i.useState)(!1),[L,E]=(0,i.useState)(null),U=async()=>{try{await (0,u.CI)(d.j2),k(!1)}catch(e){console.error("Error signing out:",e)}},$=async()=>{if(!L)return void alert("Please login to like articles");try{P?(B(q.filter(e=>e!==L.uid)),I(!1)):(B([...q,L.uid]),I(!0))}catch(e){console.error("Error updating like status:",e)}};return o?(0,r.jsxs)("div",{className:c().loadingContainer,children:[(0,r.jsx)("div",{className:c().loadingIndicator}),(0,r.jsx)("p",{children:"Loading article..."})]}):h?(0,r.jsx)("div",{className:c().errorContainer,children:(0,r.jsx)("p",{className:c().errorMessage,children:h})}):(0,r.jsx)("div",{className:c().articlePageContainer,children:s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{className:c().pageHeader,children:(0,r.jsxs)("div",{className:c().headerContainer,children:[(0,r.jsx)(l(),{href:"/",className:c().logoLink,children:(0,r.jsx)("div",{className:c().headerLogo,children:"Journalite"})}),(0,r.jsxs)("div",{className:c().headerActions,children:[v&&(0,r.jsx)(x,{}),(0,r.jsx)("div",{className:c().profileMenu,id:"profile-menu",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:c().profileCircle,onClick:()=>{k(!M)},id:"profile-button",children:L?.displayName?.charAt(0)||L?.email?.charAt(0)||"U"}),M&&(0,r.jsxs)("div",{className:c().profileDropdown,children:[(0,r.jsx)(l(),{href:"/",className:c().dropdownItem,children:"Home"}),(0,r.jsx)(l(),{href:"/my-thoughts",className:c().dropdownItem,children:"My Thoughts"}),(0,r.jsx)(l(),{href:"/dashboard",className:c().dropdownItem,children:"Dashboard"}),(0,r.jsx)(l(),{href:"/write",className:c().dropdownItem,children:"Write a story"}),(0,r.jsx)(l(),{href:"/create-article",className:c().dropdownItem,children:"Create Article"}),(0,r.jsx)(l(),{href:"/explore",className:c().dropdownItem,children:"Explore"}),(0,r.jsx)(l(),{href:"/profile",className:c().dropdownItem,children:"Profile"}),(0,r.jsx)(l(),{href:"/settings",className:c().dropdownItem,children:"Settings"}),(0,r.jsx)("button",{onClick:U,className:c().dropdownItem,children:"Sign out"})]})]}):(0,r.jsxs)("div",{className:c().authButtons,children:[(0,r.jsx)(l(),{href:"/login",className:c().loginButton,children:"Sign in"}),(0,r.jsx)(l(),{href:"/signup",className:c().signupButton,children:"Get started"})]})})]})]})}),(0,r.jsxs)("div",{className:c().pageContainer,children:[(0,r.jsxs)("header",{className:c().articleHeader,children:[(0,r.jsx)("h1",{className:c().articleTitle,children:s.title}),(0,r.jsxs)("div",{className:c().articleMeta,children:[(0,r.jsxs)("div",{className:c().authorInfo,children:[(0,r.jsx)("div",{className:c().authorAvatar,children:s.authorName.charAt(0)}),(0,r.jsxs)("div",{className:c().authorDetails,children:[(0,r.jsx)(l(),{href:`/user/${s.authorName.toLowerCase().replace(/\s+/g,"")}`,className:c().authorNameLink,children:(0,r.jsx)("div",{className:c().authorName,children:s.authorName})}),(0,r.jsxs)("div",{className:c().articleDetails,children:[s.createdAt," \xb7 ",s.readTime," min read"]})]})]}),(0,r.jsxs)("div",{className:c().articleActions,children:[(0,r.jsxs)("button",{className:`${c().likeButton} ${P?c().liked:""}`,onClick:$,"aria-label":P?"Unlike article":"Like article",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:P?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:c().likeIcon,children:(0,r.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),(0,r.jsx)("span",{children:q.length>0?q.length:""})]}),v&&s.authorId===L?.uid&&(0,r.jsx)("button",{className:c().editButton,onClick:()=>t.push(`/articles/${s.id}/edit`),children:"Edit"})]})]}),s.tags&&s.tags.length>0&&(0,r.jsx)("div",{className:c().tagContainer,children:s.tags.map((e,t)=>(0,r.jsx)("span",{className:c().tag,children:e},t))})]}),(0,r.jsx)(f.A,{articleId:s.id,initialHtml:A||void 0}),(0,r.jsx)("div",{className:c().commentsContainer,children:(0,r.jsx)(g.A,{articleId:s.id})}),(0,r.jsxs)("aside",{className:c().relatedTagsSection,children:[(0,r.jsx)("h2",{className:c().relatedTagsHeading,children:"Related Tags"}),(0,r.jsx)("div",{className:c().relatedTagsList,children:j.map(e=>(0,r.jsxs)(l(),{href:`/tag/${e.toLowerCase()}`,className:c().relatedTag,children:["# ",e]},e))}),(0,r.jsx)(l(),{href:"/write",className:c().writeButton,children:"Write"})]})]})]})})}function N(){return(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading article..."}),children:(0,r.jsx)(j,{})})}s(79440)},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(65239),i=s(48088),a=s(88170),l=s.n(a),n=s(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c={children:["",{children:["articles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,24596)),"/Users/sirabdisalam/journalite-article-page/src/app/articles/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32031)),"/Users/sirabdisalam/journalite-article-page/src/app/articles/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/sirabdisalam/journalite-article-page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,54413)),"/Users/sirabdisalam/journalite-article-page/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/sirabdisalam/journalite-article-page/src/app/articles/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/articles/page",pathname:"/articles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[476,948,845,232,353],()=>s(94455));module.exports=r})();