"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3172],{3172:(e,t,i)=>{i.d(t,{guardianService:()=>r});class a{async searchArticles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let r=new URLSearchParams({"api-key":this.apiKey,"show-fields":"headline,standfirst,body,main,thumbnail,byline,trailText,bodyText","show-tags":"contributor,keyword","show-elements":"image,video","page-size":a.toString(),page:i.toString(),"order-by":"newest"});e&&r.append("q",e),t&&r.append("section",t);let o="".concat(this.baseUrl,"/search?").concat(r.toString()),n=await fetch(o);if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));return(await n.json()).response}async getArticleById(e){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let t=new URLSearchParams({"api-key":this.apiKey,"show-fields":"headline,standfirst,body,main,thumbnail,byline,trailText,bodyText","show-tags":"contributor,keyword","show-elements":"image,video"}),i="".concat(this.baseUrl,"/").concat(e,"?").concat(t.toString()),a=await fetch(i);if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return(await a.json()).response.content}async getSections(){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let e="".concat(this.baseUrl,"/sections?api-key=").concat(this.apiKey),t=await fetch(e);if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return(await t.json()).response.results}convertToArticleFormat(e){var t,i,a,r,o,n,s,l;let c="";(null==(t=e.fields)?void 0:t.standfirst)&&(c+='<div class="article-standfirst" style="font-size: 1.2em; color: #666; font-weight: 400; line-height: 1.4; margin: 0 0 2em 0;">\n        <strong>'.concat(e.fields.standfirst,"</strong>\n      </div>"));let d=(null==(i=e.fields)?void 0:i.body)||(null==(a=e.fields)?void 0:a.bodyText)||"";if(d&&(c+=d=(d=(d=(d=(d=d.replace(/<img([^>]*?)>/g,(e,t)=>"<img ".concat(t,' style="max-width: 100%; height: auto; margin: 2em auto; display: block; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />'))).replace(/<figure([^>]*?)>/g,(e,t)=>"<figure ".concat(t,' style="margin: 2em auto; text-align: center;">'))).replace(/<figcaption([^>]*?)>/g,(e,t)=>"<figcaption ".concat(t,' style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic; text-align: center;">'))).replace(/<video([^>]*?)>/g,(e,t)=>"<video ".concat(t,' style="max-width: 100%; height: auto; margin: 2em auto; display: block; border-radius: 8px;" controls />'))).replace(/<p>\s*<\/p>/g,"")),!(c.includes("<img")||c.includes("<figure"))&&e.elements&&e.elements.length>0){let t=e.elements.find(e=>"image"===e.type&&e.assets&&e.assets.length>0);if(t){let i=t.assets.find(e=>"image"===e.type);if(i){let t=i.typeData.secureFile||i.file,a=i.typeData.alt||i.typeData.caption||e.webTitle,r=i.typeData.caption||"";c='<figure style="margin: 0 0 2em 0; text-align: center;">\n              <img src="'.concat(t,'" alt="').concat(a,'" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />\n              ').concat(r?'<figcaption style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic;">'.concat(r,"</figcaption>"):"","\n            </figure>")+c}}}(null==(r=e.fields)?void 0:r.main)&&!c.includes("<img")&&!c.includes("<figure")&&(c='<figure style="margin: 0 0 2em 0; text-align: center;">\n              <img src="'.concat(e.fields.main,'" alt="').concat(e.webTitle.replace(/"/g,"&quot;"),'" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />\n            </figure>')+c),c+='<div class="original-article-link" style="margin-top: 3em; padding: 1.5em; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 12px; border-left: 4px solid #0066cc; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">\n      <p style="margin: 0; color: #495057;"><em>\uD83D\uDCF0 <strong>Read the complete article at:</strong> <a href="'.concat(e.webUrl,'" target="_blank" rel="noopener noreferrer" style="color: #0066cc; font-weight: 600; text-decoration: none; border-bottom: 1px solid transparent; transition: border-bottom 0.2s ease;" onmouseover="this.style.borderBottom=\'1px solid #0066cc\'" onmouseout="this.style.borderBottom=\'1px solid transparent\'">The Guardian</a></em></p>\n    </div>');let g=(null==(o=e.fields)?void 0:o.byline)||(null==(n=e.tags.find(e=>"contributor"===e.type))?void 0:n.webTitle)||"The Guardian",p=Math.ceil(((null==(s=e.fields)?void 0:s.body)?e.fields.body.replace(/<[^>]*>/g,"").split(/\s+/).length:300)/200),h=[e.sectionName,e.pillarName,...e.tags.filter(e=>"keyword"===e.type).slice(0,3).map(e=>e.webTitle)].filter(Boolean);return{title:(null==(l=e.fields)?void 0:l.headline)||e.webTitle,authorName:g,createdAt:(e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch(t){return console.error("Error formatting date:",t),e}})(e.webPublicationDate),readTime:p,tags:h,authorId:"guardian-api",hasReflectionRoom:!1,html:c}}isConfigured(){return!!(this.apiKey&&"YOUR_API_KEY_HERE"!==this.apiKey)}constructor(){this.baseUrl="https://content.guardianapis.com",this.apiKey="c928b68e-9227-4e28-a734-63f37cbd301b",this.apiKey&&"YOUR_API_KEY_HERE"!==this.apiKey||console.warn("Guardian API key not configured. Please set NEXT_PUBLIC_GUARDIAN_API_KEY in your environment variables.")}}let r=new a}}]);