(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5671],{5049:(e,t,r)=>{"use strict";r.d(t,{V:()=>a,uploadImageViaAPI:()=>o});let a=async e=>{let t=new FormData;t.append("file",e),t.append("upload_preset","journalite_unsigned");try{let e=await fetch("https://api.cloudinary.com/v1_1/".concat("dwqint9xm","/image/upload"),{method:"POST",body:t});if(!e.ok)throw Error("Failed to upload image");return(await e.json()).secure_url}catch(e){throw console.error("Error uploading image:",e),e}},o=async e=>{let t=new FormData;t.append("file",e);try{let e=await fetch("/api/upload",{method:"POST",body:t});if(!e.ok)throw Error("Failed to upload image");return(await e.json()).secure_url}catch(e){throw console.error("Error uploading image:",e),e}}},5550:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(5155),o=r(2115),n=r(5049);function l(e){let{onImageInsert:t,onVideoInsert:r,editorRef:l,className:i=""}=e,[s,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(0),[g,m]=(0,o.useState)(!1),h=(0,o.useRef)(null),p=(0,o.useCallback)(async e=>{if(!e)return;let a=e.type.startsWith("image/"),o=e.type.startsWith("video/");if(!a&&!o)return void alert("Please upload only images or videos");if(e.size>(a?0xa00000:0x6400000))return void alert("File too large. Maximum size: ".concat(a?"10MB":"100MB"));c(!0),u(0);try{let l=setInterval(()=>{u(e=>Math.min(e+10,90))},200),i=await (0,n.uploadImageViaAPI)(e);clearInterval(l),u(100),a?t(i,e.name):o&&r&&r(i),setTimeout(()=>{u(0),c(!1)},500)}catch(e){console.error("Upload failed:",e),alert("Upload failed. Please try again."),c(!1),u(0)}},[t,r]),f=e=>{e.preventDefault(),e.stopPropagation()},b=e=>{var t;e.preventDefault(),e.stopPropagation(),(null==(t=e.dataTransfer)?void 0:t.items)&&e.dataTransfer.items.length>0&&m(!0)},v=e=>{e.preventDefault(),e.stopPropagation(),m(!1)},x=e=>{var t;e.preventDefault(),e.stopPropagation(),m(!1),(null==(t=e.dataTransfer)?void 0:t.files)&&e.dataTransfer.files.length>0&&p(e.dataTransfer.files[0])},k=(0,o.useCallback)(e=>{var t;let r=null==(t=e.clipboardData)?void 0:t.items;if(r){for(let t of Array.from(r))if(t.type.startsWith("image/")){e.preventDefault();let r=t.getAsFile();r&&p(r);break}}},[p]);return o.useEffect(()=>(document.addEventListener("paste",k),()=>document.removeEventListener("paste",k)),[k]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"file",ref:h,onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];r&&p(r),e.target.value=""},accept:"image/*,video/*",style:{display:"none"}}),g&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(59, 130, 246, 0.1)",border:"3px dashed #3B82F6",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",color:"#3B82F6"},onDragEnter:b,onDragLeave:v,onDragOver:f,onDrop:x,children:"Drop your image or video here"}),s&&(0,a.jsxs)("div",{style:{position:"fixed",top:"20px",right:"20px",backgroundColor:"white",padding:"1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1001,minWidth:"200px"},children:[(0,a.jsx)("div",{style:{marginBottom:"0.5rem",fontWeight:"bold"},children:"Uploading..."}),(0,a.jsx)("div",{style:{width:"100%",height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,a.jsx)("div",{style:{width:"".concat(d,"%"),height:"100%",backgroundColor:"#3B82F6",transition:"width 0.3s ease"}})}),(0,a.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:[d,"%"]})]}),(0,a.jsx)("div",{className:i,onDragEnter:b,onDragLeave:v,onDragOver:f,onDrop:x,style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:g?"auto":"none",zIndex:g?999:-1}})]})}},5671:(e,t,r)=>{"use strict";r.d(t,{A:()=>I});var a=r(5155),o=r(9137),n=r.n(o),l=r(2115);r(4488);var i=r(2571),s=r(2695),c=r(290),d=r(1514),u=r(7729),g=r(6770),m=r(7421),h=r(8754),p=r(156);let f=new p.Sj({nodes:{doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h".concat(e.attrs.level),0]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width"),height:e.getAttribute("height")})}],toDOM(e){let{src:t,alt:r,title:a,width:o,height:n}=e.attrs,l={src:t};return null!=r&&(l.alt=r),null!=a&&(l.title=a),null!=o&&(l.width=o),null!=n&&(l.height=n),["img",l]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,attrs:{language:{default:"javascript"}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs(e){let t=e.getAttribute("data-language");if(t)return{language:t};let r=e.querySelector("code");if(r){let e=(r.className||"").match(/language-(\w+)/);if(e)return{language:e[1]}}return{language:"javascript"}},getContent(e,t){let r=e.querySelector("code");if(r){let e=r.textContent||r.innerText||"";return e?[t.text(e)]:[]}return[]}}],toDOM:e=>["pre",{"data-language":e.attrs.language},["code",{class:"language-".concat(e.attrs.language)},0]]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},bullet_list:{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1})}],toDOM:e=>1==e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]},list_item:{content:"paragraph block*",parseDOM:[{tag:"li"}],toDOM:()=>["li",0],defining:!0}},marks:{strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong",0]},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},link:{attrs:{href:{},title:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title"),target:e.getAttribute("target")})}],toDOM(e){let{href:t,title:r,target:a}=e.attrs,o={href:t};return null!=r&&(o.title=r),null!=a&&(o.target=a),["a",o,0]}}}});function b(){return f.node("doc",null,[f.node("paragraph")])}function v(e){if(!e||""===e.trim())return b();let t=document.createElement("div");return t.innerHTML=e,p.S4.fromSchema(f).parse(t)}function x(e){let t=document.createElement("div");return t.appendChild(p.ZF.fromSchema(f).serializeFragment(e.content)),t.innerHTML}let k=(e,t)=>(r,a,o)=>{let n=!1;(0,d.T2)(t)(r,a,o)&&(r=o.state,n=!0);let l=e(r,a,o);return n||l},{heading:y,paragraph:w,list_item:_,blockquote:C}=f.nodes,M=e=>k((0,c.y_)(y,{level:e}),_),j=()=>k((0,c.y_)(w),_),z=(e,t,r)=>{let{from:a,to:o}=e.selection,n=!1;return(e.doc.nodesBetween(a,o,e=>e.type!==C||(n=!0,!1)),n)?!!(0,d.T2)(_)(e,t)||(0,c.yY)(e,t):((0,d.T2)(_)(e,t)&&(e=r.state),(0,c.Im)(C)(e,t,r))};new i.k_({key:new i.hs("exitHeading"),props:{handleKeyDown(e,t){if("Enter"!==t.key||t.shiftKey)return!1;let{state:r,dispatch:a}=e,{$from:o,empty:n}=r.selection,{heading:l,paragraph:i}=f.nodes;return!!n&&o.parent.type===l&&o.parentOffset===o.parent.content.size&&(t.preventDefault(),(0,c.y_)(i)(r,a,e))}}}),r(3241),r(8042),r(5802),r(7846),r(1280),r(8496),r(941),r(3523),r(4495),r(1177),r(1990),r(3686),r(642),r(7867),r(3337),r(3435),r(1055),r(2103),r(255),r(9829),r(656);var D=r(5901),E=r.n(D);let H=l.forwardRef((e,t)=>{let{articleId:o,initialContent:n="",onChange:p,placeholder:k="Tell your story...",className:y=""}=e,w=(0,l.useRef)(null),_=(0,l.useRef)(null),C=(0,l.useRef)(p),[D,H]=(0,l.useState)(!1);C.current=p;let B=(0,l.useCallback)(e=>{if(!_.current)return;let{state:t,dispatch:r}=_.current,{selection:a}=t,o=f.text(e);r(t.tr.replaceSelectionWith(o)),_.current.focus()},[]),N=(0,l.useCallback)(e=>{if(_.current)try{let{state:t,dispatch:r}=_.current,a=v(e),o=t.tr.replaceSelectionWith(a);r(o),_.current.focus()}catch(t){console.error("Failed to insert HTML:",t),B(e)}},[B]),I=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(_.current)try{let{state:r,dispatch:a}=_.current,{selection:o}=r,n=f.nodes.image.create({src:e,alt:t,title:t}),l=r.tr.replaceSelectionWith(n);a(l),_.current.focus(),console.log("Image inserted successfully:",e)}catch(e){console.error("Failed to insert image:",e)}},[]);l.useImperativeHandle(t,()=>({insertText:B,insertHTML:N,insertImage:I,focus:()=>{var e;return null==(e=_.current)?void 0:e.focus()}}),[B,N,I]),(0,l.useEffect)(()=>{if(w.current&&!_.current){try{let e;if(n&&n.trim()){console.log("Editor: Loading initial content, length:",n.length);try{e=v(n),console.log("Editor: Successfully parsed HTML content")}catch(t){console.error("Editor: Failed to parse HTML content:",t),e=b()}}else console.log("Editor: No initial content, creating empty document"),e=b();let t=i.$t.create({doc:e,plugins:[(0,g.w)({"Mod-b":(0,c.wh)(f.marks.strong),"Mod-i":(0,c.wh)(f.marks.em),"Mod-z":u.tN,"Mod-y":u.ZS,Enter:(0,d.wn)(f.nodes.list_item),"Mod-[":(0,d.T2)(f.nodes.list_item),"Mod-]":(0,d.$B)(f.nodes.list_item),Space:(e,t)=>{let{$from:r}=e.selection;if(console.log("\uD83D\uDD75️‍♂️ Space handler triggered. beforeCursor:",r.parent.textContent.slice(0,r.parentOffset)),r.parent.type===f.nodes.paragraph){let a=r.parent.textContent.slice(0,r.parentOffset),o=a.match(/^(#{1,6})$/);if(o){let a=o[1].length,n=e.tr.delete(r.start(),r.pos).setBlockType(r.start(),r.start(),f.nodes.heading,{level:a});return t(n),!0}let n=a.match(/\*\*([^*]+)\*\*$/);if(n){let a=r.pos-n[0].length,o=e.tr.delete(a,r.pos).insertText(n[1]+" ",a).addMark(a,a+n[1].length,f.marks.strong);return t(o),!0}let l=a.match(RegExp("(?<!\\*)\\*([^*]+)\\*$"));if(l){let a=r.pos-l[0].length,o=e.tr.delete(a,r.pos).insertText(l[1]+" ",a).addMark(a,a+l[1].length,f.marks.em);return t(o),!0}let s=a.match(/`([^`]+)`$/);if(s){let a=r.pos-s[0].length,o=e.tr.delete(a,r.pos).insertText(s[1]+" ",a).addMark(a,a+s[1].length,f.marks.code);return t(o),!0}let c=a.match(/^[-*]$/);if(c){console.log("Bullet list match:",c[0]);try{let a=f.nodes.list_item.create(null,f.nodes.paragraph.create()),o=f.nodes.bullet_list.create(null,a),n=r.pos-1,l=e.tr.delete(n,r.pos).replaceWith(n,n,o);return l=l.setSelection(i.U3.create(l.doc,n+2)),t(l),console.log("Auto bullet list creation: success"),!0}catch(e){console.log("Auto bullet list creation failed:",e)}}let d=a.match(/^1\.$/);if(d){console.log("Ordered list match:",d[0]);try{let a=f.nodes.list_item.create(null,f.nodes.paragraph.create()),o=f.nodes.ordered_list.create(null,a),n=r.pos-2,l=e.tr.delete(n,r.pos).replaceWith(n,n,o);return l=l.setSelection(i.U3.create(l.doc,n+2)),t(l),console.log("Auto ordered list creation: success"),!0}catch(e){console.log("Auto ordered list creation failed:",e)}}}return!1}}),(0,g.w)(c.RV),(0,u.b6)(),(0,m.A)(),(0,h.z)()]}),r=new s.Lz(w.current,{state:t,editable:()=>!0,dispatchTransaction:e=>{let t=r.state.apply(e);if(r.updateState(t),e.docChanged&&C.current){let e=x(t.doc),r=t.doc.toJSON();C.current(e,r)}},attributes:{"data-placeholder":k||"Tell your story..."},handlePaste:(e,t)=>{let r=t.clipboardData;if(!r)return!1;let a=r.getData("text/html");return!!(a&&a.includes("<img"))&&(t.preventDefault(),!0)}});_.current=r,H(!0),setTimeout(()=>{r&&!r.isDestroyed&&r.focus()},100)}catch(e){console.error("Error initializing editor:",e),H(!0)}return()=>{_.current&&(_.current.destroy(),_.current=null)}}},[]),(0,l.useEffect)(()=>{if(_.current&&D&&n){console.log("Editor: Updating content without reinitializing, length:",n.length);try{let e=v(n),t=x(_.current.state.doc);if(n!==t){let t=_.current.state.tr.replaceWith(0,_.current.state.doc.content.size,e.content);_.current.dispatch(t),console.log("Editor: Content updated successfully")}}catch(e){console.error("Editor: Failed to update content:",e)}}},[n,D]);let S=(0,l.useCallback)(()=>{if(!_.current)return;let{state:e,dispatch:t}=_.current;(0,c.wh)(f.marks.strong)(e,t)&&_.current.focus()},[]),O=(0,l.useCallback)(()=>{if(!_.current)return;let{state:e,dispatch:t}=_.current;(0,c.wh)(f.marks.em)(e,t)&&_.current.focus()},[]),T=(0,l.useCallback)(e=>{if(!_.current)return;let{state:t,dispatch:r}=_.current;M(e)(t,r,_.current)&&_.current.focus()},[]);(0,l.useCallback)(()=>{if(!_.current)return;let{state:e,dispatch:t}=_.current;j()(e,t,_.current)&&_.current.focus()},[]);let A=(0,l.useCallback)(()=>{if(!_.current)return;let{state:e,dispatch:t}=_.current;z(e,t,_.current)&&_.current.focus()},[]),L=(0,l.useCallback)(()=>{if(!_.current)return;let e=prompt("Enter programming language (e.g., javascript, python, css):","javascript");if(!e)return;let{state:t,dispatch:r}=_.current,{from:a,to:o}=t.selection,n=f.nodes.code_block.create({language:e.toLowerCase()}),l=t.tr.replaceRangeWith(a,o,n);r&&(r(l),_.current.focus())},[]),W=(0,l.useCallback)(()=>{if(!_.current)return;console.log("Bullet list button clicked");let{state:e,dispatch:t}=_.current,{$from:r,$to:a}=e.selection;try{let o=f.nodes.list_item.create(null,f.nodes.paragraph.create(null,r.parent.content)),n=f.nodes.bullet_list.create(null,o),l=e.tr.replaceWith(r.start(),a.end(),n);t(l),console.log("Manual bullet list creation: success"),_.current.focus()}catch(a){console.log("Manual bullet list creation failed:",a);let r=(0,d.Sd)(f.nodes.bullet_list)(e,t);console.log("wrapInList fallback result:",r),r&&_.current.focus()}},[]),F=(0,l.useCallback)(()=>{if(!_.current)return;console.log("Ordered list button clicked");let{state:e,dispatch:t}=_.current,{$from:r,$to:a}=e.selection;try{let o=f.nodes.list_item.create(null,f.nodes.paragraph.create(null,r.parent.content)),n=f.nodes.ordered_list.create(null,o),l=e.tr.replaceWith(r.start(),a.end(),n);t(l),console.log("Manual ordered list creation: success"),_.current.focus()}catch(a){console.log("Manual ordered list creation failed:",a);let r=(0,d.Sd)(f.nodes.ordered_list)(e,t);console.log("wrapInList fallback result:",r),r&&_.current.focus()}},[]),R=(0,l.useCallback)(()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){if(!a.type.startsWith("image/"))return void alert("Please select an image file");if(a.size>0xa00000)return void alert("Image too large. Maximum size: 10MB");try{let{uploadImageViaAPI:e}=await Promise.resolve().then(r.bind(r,5049)),t=await e(a);if(_.current){let{state:e,dispatch:r}=_.current,o=f.nodes.image.create({src:t,alt:a.name,title:a.name}),n=e.tr.replaceSelectionWith(o);r(n),_.current.focus()}console.log("Image uploaded successfully:",t)}catch(e){console.error("Upload failed:",e),alert("Upload failed. Please try again.")}}},e.click()},[]),V=(0,l.useCallback)(()=>{if(!_.current)return;let{state:e,dispatch:t}=_.current;(0,u.tN)(e,t),_.current.focus()},[]),P=(0,l.useCallback)(()=>{if(!_.current)return;let{state:e,dispatch:t}=_.current;(0,u.ZS)(e,t),_.current.focus()},[]),U=(0,l.useCallback)(e=>{if(!_.current)return!1;let{from:t,$from:r,to:a,empty:o}=_.current.state.selection;return o?e.isInSet(_.current.state.storedMarks||r.marks()):_.current.state.doc.rangeHasMark(t,a,e)},[]),q=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!_.current)return!1;let{from:r,to:a}=_.current.state.selection,o=!0;return _.current.state.doc.nodesBetween(r,a,r=>!r.isTextblock||!!r.hasMarkup(e,t)||(o=!1,!1)),o},[]),G=(0,l.useCallback)(()=>{if(!_.current)return!1;let{from:e,to:t}=_.current.state.selection,r=!1;return _.current.state.doc.nodesBetween(e,t,e=>e.type!==f.nodes.blockquote||(r=!0,!1)),r},[]);return(0,a.jsxs)("div",{className:"".concat(E().editor," ").concat("seamless-editor"===y?E().seamlessEditor:""),style:"seamless-editor"===y?{}:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[D&&(0,a.jsx)("div",{className:E().modernToolbar,style:"seamless-editor"===y?{}:{opacity:1,visibility:"visible",position:"relative",top:"auto",left:"auto",transform:"none",marginBottom:"20px"},children:(0,a.jsxs)("div",{className:E().toolbarContainer,children:[(0,a.jsxs)("div",{className:E().formatGroup,children:[(0,a.jsx)("button",{className:"".concat(E().toolBtn," ").concat(U(f.marks.strong)?E().active:""),onClick:S,title:"Bold (⌘B)","aria-label":"Bold",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M13.5 15.5H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5zM10 6.5h3c.55 0 1 .45 1 1s-.45 1-1 1h-3v-2zm5.6 4.5c.75-.9 1.2-2.05 1.2-3.3 0-2.76-2.24-5-5-5H6.5C5.67 2.7 5 3.37 5 4.2v15.6c0 .83.67 1.5 1.5 1.5h8.5c3.31 0 6-2.69 6-6 0-2.5-1.49-4.65-3.4-5.3z"})})}),(0,a.jsx)("button",{className:"".concat(E().toolBtn," ").concat(U(f.marks.em)?E().active:""),onClick:O,title:"Italic (⌘I)","aria-label":"Italic",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"})})})]}),(0,a.jsx)("div",{className:E().divider}),(0,a.jsxs)("div",{className:E().formatGroup,children:[(0,a.jsx)("button",{className:"".concat(E().toolBtn," ").concat(q(f.nodes.heading,{level:1})?E().active:""),onClick:()=>T(1),title:"Large Heading (⌘⇧1)","aria-label":"Heading 1",children:(0,a.jsx)("span",{className:E().headingIcon,children:"H1"})}),(0,a.jsx)("button",{className:"".concat(E().toolBtn," ").concat(q(f.nodes.heading,{level:2})?E().active:""),onClick:()=>T(2),title:"Medium Heading (⌘⇧2)","aria-label":"Heading 2",children:(0,a.jsx)("span",{className:E().headingIcon,children:"H2"})}),(0,a.jsx)("button",{className:"".concat(E().toolBtn," ").concat(q(f.nodes.heading,{level:3})?E().active:""),onClick:()=>T(3),title:"Small Heading (⌘⇧3)","aria-label":"Heading 3",children:(0,a.jsx)("span",{className:E().headingIcon,children:"H3"})})]}),(0,a.jsx)("div",{className:E().divider}),(0,a.jsxs)("div",{className:E().formatGroup,children:[(0,a.jsx)("button",{className:E().toolBtn,onClick:W,title:"Bullet List","aria-label":"Bullet list",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"})})}),(0,a.jsx)("button",{className:E().toolBtn,onClick:F,title:"Numbered List","aria-label":"Numbered list",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"})})}),(0,a.jsx)("button",{className:"".concat(E().toolBtn," ").concat(G()?E().active:""),onClick:A,title:"Quote (⌘>)","aria-label":"Quote",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"})})})]}),(0,a.jsx)("div",{className:E().divider}),(0,a.jsxs)("div",{className:E().formatGroup,children:[(0,a.jsx)("button",{className:E().toolBtn,onClick:R,title:"Add Image","aria-label":"Insert image",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})})}),(0,a.jsx)("button",{className:"".concat(E().toolBtn," ").concat(q(f.nodes.code_block)?E().active:""),onClick:L,title:"Code Block","aria-label":"Code block",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0L19.2 12l-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})})})]}),(0,a.jsx)("div",{className:E().divider}),(0,a.jsxs)("div",{className:E().formatGroup,children:[(0,a.jsx)("button",{className:E().toolBtn,onClick:V,title:"Undo (⌘Z)","aria-label":"Undo",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"})})}),(0,a.jsx)("button",{className:E().toolBtn,onClick:P,title:"Redo (⌘Y)","aria-label":"Redo",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"})})})]})]})}),!D&&(0,a.jsxs)("div",{className:E().loading,children:[(0,a.jsx)("div",{className:E().loadingSpinner}),(0,a.jsx)("span",{children:"Loading editor..."})]}),(0,a.jsx)("div",{ref:w,className:E().prosemirrorEditor,"aria-label":"Rich text editor",style:{minHeight:"seamless-editor"===y?"500px":"400px",opacity:D?1:.3,..."seamless-editor"===y?{background:"transparent",border:"none",boxShadow:"none",padding:0,margin:0,fontSize:"18px",lineHeight:"1.6",color:"#1f2937"}:{}}})]})});H.displayName="Editor";var B=r(5550);let N=(0,l.forwardRef)((e,t)=>{let{articleId:r,initialContent:o="",onChange:i,placeholder:s="Tell your story...",className:c="",onImageInsert:d,onVideoInsert:u}=e,g=(0,l.useRef)(null),m=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g.current&&(d&&d(e,t),g.current.insertImage?g.current.insertImage(e,t):console.error("insertImage method not available on editor ref"))},[d]),h=(0,l.useCallback)(e=>{if(!g.current)return;u&&u(e);let t="[\uD83D\uDCF9 Video](".concat(e,")");g.current.insertText(t)},[u]),p=(0,l.useCallback)(e=>{g.current&&g.current.insertText(e)},[]),f=(0,l.useCallback)(()=>{g.current&&g.current.focus()},[]);return(0,l.useImperativeHandle)(t,()=>({insertText:p,insertImage:m,insertVideo:h,focus:f}),[p,m,h,f]),(0,a.jsxs)("div",{style:{position:"relative"},className:"jsx-4b23bb7b0446bdb3 "+"medium-style-editor ".concat(c),children:[(0,a.jsx)(B.A,{onImageInsert:m,onVideoInsert:h,editorRef:g}),(0,a.jsx)(H,{ref:g,articleId:r,initialContent:o,onChange:i,placeholder:s,className:"medium-editor-content"}),(0,a.jsx)(n(),{id:"4b23bb7b0446bdb3",children:'.medium-style-editor.jsx-4b23bb7b0446bdb3{width:100%;position:relative}.medium-editor-content.jsx-4b23bb7b0446bdb3{min-height:200px;outline:none;border:none;font-family:"Charter","Times New Roman",serif;font-size:21px;line-height:1.58;color:rgba(41,41,41,1)}.medium-editor-content img{max-width:100%;height:auto;margin:2rem 0;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 4px 12px rgba(0,0,0,.1);-moz-box-shadow:0 4px 12px rgba(0,0,0,.1);box-shadow:0 4px 12px rgba(0,0,0,.1)}.medium-editor-content p{margin:1.6rem 0}.medium-editor-content h1{font-size:2.25rem;font-weight:700;margin:2rem 0 1rem 0;line-height:1.2}.medium-editor-content h2{font-size:1.875rem;font-weight:600;margin:1.75rem 0 .75rem 0;line-height:1.3}.medium-editor-content h3{font-size:1.5rem;font-weight:600;margin:1.5rem 0 .5rem 0;line-height:1.4}.medium-editor-content blockquote{border-left:3px solid#57E389;padding-left:1.5rem;margin:2rem 0;font-style:italic;font-size:1.125rem;color:rgba(41,41,41,.8)}.medium-editor-content pre{background:#f6f8fa;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:1.5rem;margin:2rem 0;overflow-x:auto;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,monospace;font-size:.875rem;line-height:1.6}.medium-editor-content ul{margin:1.5rem 0;padding-left:2rem}.medium-editor-content li{margin:.5rem 0}.medium-editor-content a[href*="video"]{display:inline-block;padding:.75rem 1.5rem;background:-webkit-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-moz-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-o-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;text-decoration:none;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;margin:1rem 0;-webkit-transition:-webkit-transform.2s ease;-moz-transition:-moz-transform.2s ease;-o-transition:-o-transform.2s ease;transition:-webkit-transform.2s ease;transition:-moz-transform.2s ease;transition:-o-transform.2s ease;transition:transform.2s ease}.medium-editor-content a[href*="video"]:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.medium-editor-content.drag-active{background:rgba(59,130,246,.05);border:2px dashed#3B82F6;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}'})]})});N.displayName="MediumStyleEditor";let I=N},5901:e=>{e.exports={editorContainer:"Editor_editorContainer__AxL3W",editorContent:"Editor_editorContent__Hto0I",prosemirrorEditor:"Editor_prosemirrorEditor__jSRn5",editor:"Editor_editor__ys4HH",seamlessEditor:"Editor_seamlessEditor__2leHe",modernToolbar:"Editor_modernToolbar__VDG5b",loading:"Editor_loading___nwXA",loadingSpinner:"Editor_loadingSpinner__JMIXQ",spin:"Editor_spin__5Ufeq",toolbarContainer:"Editor_toolbarContainer__rZaHf",formatGroup:"Editor_formatGroup__OhMWy",divider:"Editor_divider__pHi4V",toolBtn:"Editor_toolBtn__LEamn",active:"Editor_active__UGSnI",headingIcon:"Editor_headingIcon__HKD4e",ProseMirror:"Editor_ProseMirror__DHY3Q",slideInFromTop:"Editor_slideInFromTop__ADbMI"}}}]);