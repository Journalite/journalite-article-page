{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/firebase/clientApp.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getAuth, connectAuthEmulator } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Firebase configuration from environment variables\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n    measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID\n};\n///\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Analytics only in browser environment\nlet analytics;\nif (typeof window !== 'undefined') {\n    try {\n        analytics = getAnalytics(app);\n    } catch (error) {\n        // Analytics initialization skipped in development\n    }\n}\n\n// Initialize Firebase Authentication\nconst auth = getAuth(app);\n\n// Initialize Firestore\nconst db = getFirestore(app);\n\n// Configure custom auth actions URL\nif (typeof window !== 'undefined') {\n    const actionCodeSettings = {\n        url: `${window.location.origin}/reset-password`,\n        handleCodeInApp: true,\n    };\n\n    // We need to update this in the forgot-password component when sending the reset email\n}\n\n// // Connect to Auth Emulator in development\n// if (process.env.NODE_ENV === 'development') {\n//     // connectAuthEmulator(auth, \"http://localhost:9099\", { disableWarnings: true });\n// }\n\n/////\n\nexport { app, analytics, auth, db };"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;AAU3C;AATZ;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AACA,4DAA4D;AAC5D,iEAAiE;AAEjE,oDAAoD;AACpD,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACjB;AACA,GAAG;AAEH,sBAAsB;AACtB,MAAM,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AAE1B,mDAAmD;AACnD,IAAI;AACJ,wCAAmC;IAC/B,IAAI;QACA,YAAY,CAAA,GAAA,6KAAA,CAAA,eAAY,AAAD,EAAE;IAC7B,EAAE,OAAO,OAAO;IACZ,kDAAkD;IACtD;AACJ;AAEA,qCAAqC;AACrC,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AAErB,uBAAuB;AACvB,MAAM,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE;AAExB,oCAAoC;AACpC,wCAAmC;IAC/B,MAAM,qBAAqB;QACvB,KAAK,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC;QAC/C,iBAAiB;IACrB;AAEA,uFAAuF;AAC3F","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/services/userService.ts"],"sourcesContent":["import {\n    doc,\n    setDoc,\n    getDoc,\n    query,\n    collection,\n    where,\n    getDocs,\n    serverTimestamp,\n    updateDoc\n} from 'firebase/firestore';\nimport { updateProfile } from 'firebase/auth';\nimport { auth, db } from '../firebase/clientApp';\n\nexport interface UserProfile {\n    uid: string;\n    firstName: string;\n    lastName: string;\n    username: string;\n    email: string;\n    bio?: string;\n    createdAt: any;\n}\n\n/**\n * Checks if a username is already taken\n * @param username The username to check\n * @returns A promise that resolves to a boolean indicating if the username is taken\n */\nexport async function isUsernameTaken(username: string): Promise<boolean> {\n    try {\n        const usernameQuery = query(\n            collection(db, 'users'),\n            where('username', '==', username.toLowerCase())\n        );\n\n        const querySnapshot = await getDocs(usernameQuery);\n        return !querySnapshot.empty;\n    } catch (error) {\n        console.error('Error checking username:', error);\n        throw error;\n    }\n}\n\n/**\n * Creates a user profile in Firestore\n * @param uid User's Firebase Auth UID\n * @param profile User profile data\n */\nexport async function createUserProfile(uid: string, profile: Omit<UserProfile, 'uid' | 'createdAt'>): Promise<void> {\n    try {\n        // First check if this user ID already has a profile\n        const existingUserProfile = await getUserProfile(uid);\n        if (existingUserProfile) {\n            console.log('User profile already exists, updating instead of creating');\n\n            // Update existing profile\n            const userRef = doc(db, 'users', uid);\n            await updateDoc(userRef, {\n                firstName: profile.firstName,\n                lastName: profile.lastName,\n                username: profile.username.toLowerCase(),\n                email: profile.email.toLowerCase(),\n                bio: profile.bio || existingUserProfile.bio || ''\n            });\n\n            // Update the user's display name in Firebase Auth\n            if (auth.currentUser) {\n                await updateProfile(auth.currentUser, {\n                    displayName: profile.username\n                });\n            }\n\n            return;\n        }\n\n        // Check if email already exists in another profile\n        const emailQuery = query(\n            collection(db, 'users'),\n            where('email', '==', profile.email.toLowerCase())\n        );\n\n        const emailQuerySnapshot = await getDocs(emailQuery);\n        if (!emailQuerySnapshot.empty) {\n            throw new Error('Email is already associated with another account');\n        }\n\n        // Check if the username is already taken\n        const usernameTaken = await isUsernameTaken(profile.username);\n        if (usernameTaken) {\n            throw new Error('Username is already taken');\n        }\n\n        const userRef = doc(db, 'users', uid);\n\n        // Create the user profile\n        await setDoc(userRef, {\n            uid,\n            firstName: profile.firstName,\n            lastName: profile.lastName,\n            username: profile.username.toLowerCase(),\n            email: profile.email.toLowerCase(),\n            bio: profile.bio || '',\n            createdAt: serverTimestamp()\n        });\n\n        // Update the user's display name in Firebase Auth\n        if (auth.currentUser) {\n            await updateProfile(auth.currentUser, {\n                displayName: profile.username\n            });\n        }\n    } catch (error) {\n        console.error('Error creating user profile:', error);\n        throw error;\n    }\n}\n\n/**\n * Gets a user's profile from Firestore\n * @param uid User's Firebase Auth UID\n * @returns A promise that resolves to the user's profile or null if not found\n */\nexport async function getUserProfile(uid: string): Promise<UserProfile | null> {\n    try {\n        const userRef = doc(db, 'users', uid);\n        const userDoc = await getDoc(userRef);\n\n        if (userDoc.exists()) {\n            return userDoc.data() as UserProfile;\n        }\n\n        return null;\n    } catch (error) {\n        console.error('Error fetching user profile:', error);\n        throw error;\n    }\n}\n\n/**\n * Updates a user's bio\n * @param uid User's Firebase Auth UID\n * @param bio User's new bio\n * @returns A promise that resolves when the bio is updated\n */\nexport async function updateUserBio(uid: string, bio: string): Promise<void> {\n    try {\n        const userRef = doc(db, 'users', uid);\n        await updateDoc(userRef, {\n            bio\n        });\n    } catch (error) {\n        console.error('Error updating user bio:', error);\n        throw error;\n    }\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/app/my-profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { updateProfile } from 'firebase/auth';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../../firebase/clientApp';\nimport { getUserProfile, isUsernameTaken, createUserProfile } from '../../services/userService';\nimport Link from 'next/link';\n\nexport default function MyProfile() {\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [username, setUsername] = useState('');\n  const [bio, setBio] = useState('');\n  const [originalUsername, setOriginalUsername] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [touchedFields, setTouchedFields] = useState<Record<string, boolean>>({});\n  const [customValidation, setCustomValidation] = useState<Record<string, string>>({});\n  const [usernameAvailable, setUsernameAvailable] = useState<boolean | null>(null);\n  const [isCheckingUsername, setIsCheckingUsername] = useState(false);\n  const [currentUserUid, setCurrentUserUid] = useState<string | null>(null);\n  const [userEmail, setUserEmail] = useState<string>('');\n  const [bioCharCount, setBioCharCount] = useState(0);\n  \n  const router = useRouter();\n  const MAX_BIO_LENGTH = 250;\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        setCurrentUserUid(user.uid);\n        setUserEmail(user.email || '');\n        \n        // Try to get existing profile\n        try {\n          const profile = await getUserProfile(user.uid);\n          if (profile) {\n            setFirstName(profile.firstName);\n            setLastName(profile.lastName);\n            setUsername(profile.username);\n            setOriginalUsername(profile.username);\n            setBio(profile.bio || '');\n            setBioCharCount(profile.bio?.length || 0);\n            // No need to check username initially as user already owns this username\n            setUsernameAvailable(true);\n          } else {\n            // No profile exists, set default values from auth\n            const displayName = user.displayName || '';\n            const nameParts = displayName.split(' ');\n            setFirstName(nameParts[0] || '');\n            setLastName(nameParts.slice(1).join(' ') || '');\n            setUsername(user.email?.split('@')[0] || '');\n            setOriginalUsername(user.email?.split('@')[0] || '');\n          }\n        } catch (error) {\n          console.error('Error fetching user profile:', error);\n          setError('Failed to load your profile. Please try refreshing the page.');\n        } finally {\n          setIsLoading(false);\n        }\n      } else {\n        // Not signed in, redirect to login\n        router.push('/login');\n      }\n    });\n    \n    return () => unsubscribe();\n  }, [router]);\n\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value, validity } = e.target as HTMLInputElement;\n    setTouchedFields({ ...touchedFields, [name]: true });\n    \n    // Clear previous validation message\n    setCustomValidation({ ...customValidation, [name]: '' });\n    \n    // Add a custom validation message if empty\n    if (validity.valueMissing) {\n      let message = 'This field is required';\n      if (name === 'firstName') message = 'Please enter your first name';\n      if (name === 'lastName') message = 'Please enter your last name';\n      if (name === 'username') message = 'Please choose a username';\n      \n      setCustomValidation({ ...customValidation, [name]: message });\n    }\n  };\n\n  const handleBioChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const value = e.target.value;\n    if (value.length <= MAX_BIO_LENGTH) {\n      setBio(value);\n      setBioCharCount(value.length);\n    }\n  };\n\n  const checkUsername = async (username: string) => {\n    // If username hasn't changed, it's still available\n    if (username === originalUsername) {\n      setUsernameAvailable(true);\n      return;\n    }\n    \n    if (username.length < 2) {\n      setUsernameAvailable(null);\n      return;\n    }\n    \n    try {\n      setIsCheckingUsername(true);\n      const taken = await isUsernameTaken(username);\n      setUsernameAvailable(!taken);\n    } catch (error) {\n      console.error('Error checking username:', error);\n    } finally {\n      setIsCheckingUsername(false);\n    }\n  };\n\n  const handleUsernameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setUsername(value);\n    \n    // If the username is the same as the original, it's available\n    if (value === originalUsername) {\n      setUsernameAvailable(true);\n      return;\n    }\n    \n    // Debounce the username check\n    const timeoutId = setTimeout(() => {\n      if (value.length >= 2) {\n        checkUsername(value);\n      } else {\n        setUsernameAvailable(null);\n      }\n    }, 500);\n    \n    return () => clearTimeout(timeoutId);\n  };\n\n  const validateForm = () => {\n    const newValidation: Record<string, string> = {};\n    const newTouchedFields: Record<string, boolean> = {};\n    let isValid = true;\n    \n    // First name validation\n    newTouchedFields.firstName = true;\n    if (!firstName.trim()) {\n      newValidation.firstName = 'Please enter your first name';\n      isValid = false;\n    }\n    \n    // Last name validation\n    newTouchedFields.lastName = true;\n    if (!lastName.trim()) {\n      newValidation.lastName = 'Please enter your last name';\n      isValid = false;\n    }\n    \n    // Username validation\n    newTouchedFields.username = true;\n    if (!username.trim()) {\n      newValidation.username = 'Please choose a username';\n      isValid = false;\n    } else if (username.length < 2) {\n      newValidation.username = 'Username must be at least 2 characters';\n      isValid = false;\n    } else if (username !== originalUsername && usernameAvailable === false) {\n      newValidation.username = 'This username is already taken';\n      isValid = false;\n    }\n    \n    setTouchedFields({ ...touchedFields, ...newTouchedFields });\n    setCustomValidation({ ...customValidation, ...newValidation });\n    \n    return isValid;\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    \n    if (!validateForm() || !currentUserUid) return;\n    \n    setIsSaving(true);\n    setError('');\n    setSuccess(false);\n    \n    try {\n      // Update the user profile in Firestore\n      await createUserProfile(currentUserUid, {\n        firstName,\n        lastName,\n        username,\n        email: userEmail,\n        bio\n      });\n      \n      // Update the display name in Firebase Auth\n      if (auth.currentUser) {\n        await updateProfile(auth.currentUser, {\n          displayName: username\n        });\n      }\n      \n      // Update the original username to reflect the new value\n      setOriginalUsername(username);\n      \n      setSuccess(true);\n      \n      // Hide success message after a few seconds\n      setTimeout(() => {\n        setSuccess(false);\n      }, 3000);\n    } catch (err: unknown) {\n      let errorMessage = 'Failed to update your profile';\n      if (err instanceof Error) {\n        if (err.message.includes('Username is already taken')) {\n          errorMessage = 'This username is already taken';\n          setCustomValidation({ ...customValidation, username: 'This username is already taken' });\n        }\n      }\n      setError(errorMessage);\n      console.error(err);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Show validation styling only if field is touched\n  const getInputClasses = (fieldName: string) => {\n    const baseClasses = \"w-full px-5 py-3.5 bg-[#f8f5ec] border border-[#e8e1d1] rounded-md focus:outline-none focus:ring-1 focus:ring-slate-500\";\n    \n    if (touchedFields[fieldName] && customValidation[fieldName]) {\n      return `${baseClasses} border-red-300 bg-red-50`;\n    }\n    \n    // Add green border for valid username\n    if (fieldName === 'username' && username.length >= 2 && usernameAvailable === true) {\n      return `${baseClasses} border-green-300 bg-green-50`;\n    }\n    \n    return baseClasses;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-[#f5efe0] flex items-center justify-center\">\n        <div className=\"animate-spin h-8 w-8 border-4 border-slate-500 rounded-full border-t-transparent\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#f5efe0] flex flex-col\">\n      <div className=\"py-12 px-6 flex-1 flex flex-col items-center\">\n        <div className=\"w-full max-w-lg mx-auto\">\n          {/* Page header */}\n          <div className=\"mb-12 text-center\">\n            <h1 className=\"text-4xl md:text-5xl font-serif font-normal text-slate-900\">My Profile</h1>\n            <p className=\"mt-2 text-slate-700\">Update your personal information</p>\n          </div>\n          \n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* First name field */}\n            <div>\n              <label htmlFor=\"firstName\" className=\"block mb-2 text-sm font-medium text-slate-700\">\n                First Name\n              </label>\n              <input\n                id=\"firstName\"\n                name=\"firstName\"\n                type=\"text\"\n                required\n                value={firstName}\n                onChange={(e) => setFirstName(e.target.value)}\n                onBlur={handleBlur}\n                className={getInputClasses('firstName')}\n              />\n              {touchedFields.firstName && customValidation.firstName && (\n                <p className=\"mt-1 text-sm text-red-500\">{customValidation.firstName}</p>\n              )}\n            </div>\n            \n            {/* Last name field */}\n            <div>\n              <label htmlFor=\"lastName\" className=\"block mb-2 text-sm font-medium text-slate-700\">\n                Last Name\n              </label>\n              <input\n                id=\"lastName\"\n                name=\"lastName\"\n                type=\"text\"\n                required\n                value={lastName}\n                onChange={(e) => setLastName(e.target.value)}\n                onBlur={handleBlur}\n                className={getInputClasses('lastName')}\n              />\n              {touchedFields.lastName && customValidation.lastName && (\n                <p className=\"mt-1 text-sm text-red-500\">{customValidation.lastName}</p>\n              )}\n            </div>\n            \n            {/* Username field */}\n            <div>\n              <div className=\"flex justify-between items-center mb-2\">\n                <label htmlFor=\"username\" className=\"block text-sm font-medium text-slate-700\">\n                  Username\n                </label>\n                {isCheckingUsername && (\n                  <div className=\"text-xs text-slate-500 flex items-center\">\n                    <div className=\"mr-1 w-3 h-3 border-2 border-slate-500 border-t-transparent rounded-full animate-spin\"></div>\n                    Checking...\n                  </div>\n                )}\n              </div>\n              <input\n                id=\"username\"\n                name=\"username\"\n                type=\"text\"\n                required\n                value={username}\n                onChange={handleUsernameChange}\n                onBlur={handleBlur}\n                className={getInputClasses('username')}\n              />\n              {touchedFields.username && customValidation.username ? (\n                <p className=\"mt-1 text-sm text-red-500\">{customValidation.username}</p>\n              ) : username && username.length >= 2 && usernameAvailable === true ? (\n                <p className=\"mt-1 text-sm text-green-600\">Username is available</p>\n              ) : username && username.length >= 2 && usernameAvailable === false ? (\n                <p className=\"mt-1 text-sm text-red-500\">Username is already taken</p>\n              ) : null}\n            </div>\n            \n            {/* Bio field */}\n            <div>\n              <div className=\"flex justify-between items-center mb-2\">\n                <label htmlFor=\"bio\" className=\"block text-sm font-medium text-slate-700\">\n                  Bio\n                </label>\n                <span className={`text-xs ${bioCharCount >= MAX_BIO_LENGTH * 0.9 ? 'text-amber-600' : 'text-slate-500'}`}>\n                  {bioCharCount}/{MAX_BIO_LENGTH}\n                </span>\n              </div>\n              <textarea\n                id=\"bio\"\n                name=\"bio\"\n                value={bio}\n                onChange={handleBioChange}\n                onBlur={handleBlur}\n                placeholder=\"Tell us a little about yourself...\"\n                rows={4}\n                maxLength={MAX_BIO_LENGTH}\n                className=\"w-full px-5 py-3.5 bg-[#f8f5ec] border border-[#e8e1d1] rounded-md focus:outline-none focus:ring-1 focus:ring-slate-500 resize-none\"\n              />\n              <p className=\"mt-1 text-xs text-slate-500\">\n                Your bio will be displayed on your public profile and articles\n              </p>\n            </div>\n            \n            {/* Status messages */}\n            {error && (\n              <div className=\"p-3 bg-red-50 border border-red-200 rounded-md text-sm text-red-600\">\n                {error}\n              </div>\n            )}\n            \n            {success && (\n              <div className=\"p-3 bg-green-50 border border-green-200 rounded-md text-sm text-green-600\">\n                Your profile has been updated successfully!\n              </div>\n            )}\n            \n            {/* Form actions */}\n            <div className=\"flex justify-between items-center mt-8\">\n              <Link\n                href=\"/\"\n                className=\"inline-flex justify-center py-3 px-5 border border-slate-300 rounded-md bg-white text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500\"\n              >\n                Back to Home\n              </Link>\n              <button\n                type=\"submit\"\n                disabled={isSaving}\n                className={`inline-flex justify-center py-3 px-5 border border-transparent rounded-md shadow-sm text-sm font-medium text-white \n                  ${isSaving ? 'bg-slate-400 cursor-not-allowed' : 'bg-slate-800 hover:bg-slate-700'} \n                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500`}\n              >\n                {isSaving ? (\n                  <>\n                    <span className=\"mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></span>\n                    Saving...\n                  </>\n                ) : (\n                  'Save Changes'\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}