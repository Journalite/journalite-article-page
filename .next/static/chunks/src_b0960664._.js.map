{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/home.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"home-module__i0QXTG__active\",\n  \"article-card\": \"home-module__i0QXTG__article-card\",\n  \"article-container\": \"home-module__i0QXTG__article-container\",\n  \"article-content\": \"home-module__i0QXTG__article-content\",\n  \"article-cover-image\": \"home-module__i0QXTG__article-cover-image\",\n  \"article-excerpt\": \"home-module__i0QXTG__article-excerpt\",\n  \"article-grid\": \"home-module__i0QXTG__article-grid\",\n  \"article-header\": \"home-module__i0QXTG__article-header\",\n  \"article-meta\": \"home-module__i0QXTG__article-meta\",\n  \"article-page\": \"home-module__i0QXTG__article-page\",\n  \"article-paragraph\": \"home-module__i0QXTG__article-paragraph\",\n  \"article-tag\": \"home-module__i0QXTG__article-tag\",\n  \"article-tags\": \"home-module__i0QXTG__article-tags\",\n  \"article-title\": \"home-module__i0QXTG__article-title\",\n  \"articleForm\": \"home-module__i0QXTG__articleForm\",\n  \"articleFormContainer\": \"home-module__i0QXTG__articleFormContainer\",\n  \"articleFormHeader\": \"home-module__i0QXTG__articleFormHeader\",\n  \"articleFormSubtitle\": \"home-module__i0QXTG__articleFormSubtitle\",\n  \"articleFormTitle\": \"home-module__i0QXTG__articleFormTitle\",\n  \"author-avatar\": \"home-module__i0QXTG__author-avatar\",\n  \"author-info\": \"home-module__i0QXTG__author-info\",\n  \"author-name\": \"home-module__i0QXTG__author-name\",\n  \"cancelButton\": \"home-module__i0QXTG__cancelButton\",\n  \"center-column\": \"home-module__i0QXTG__center-column\",\n  \"collapsed\": \"home-module__i0QXTG__collapsed\",\n  \"container\": \"home-module__i0QXTG__container\",\n  \"cover-image\": \"home-module__i0QXTG__cover-image\",\n  \"cta-button\": \"home-module__i0QXTG__cta-button\",\n  \"errorAlert\": \"home-module__i0QXTG__errorAlert\",\n  \"errorIcon\": \"home-module__i0QXTG__errorIcon\",\n  \"expanded\": \"home-module__i0QXTG__expanded\",\n  \"fadeIn\": \"home-module__i0QXTG__fadeIn\",\n  \"feature-desc\": \"home-module__i0QXTG__feature-desc\",\n  \"feature-title\": \"home-module__i0QXTG__feature-title\",\n  \"featured-card\": \"home-module__i0QXTG__featured-card\",\n  \"featured-content\": \"home-module__i0QXTG__featured-content\",\n  \"featured-excerpt\": \"home-module__i0QXTG__featured-excerpt\",\n  \"featured-image\": \"home-module__i0QXTG__featured-image\",\n  \"featured-label\": \"home-module__i0QXTG__featured-label\",\n  \"featured-meta\": \"home-module__i0QXTG__featured-meta\",\n  \"featured-title\": \"home-module__i0QXTG__featured-title\",\n  \"features\": \"home-module__i0QXTG__features\",\n  \"follow-button\": \"home-module__i0QXTG__follow-button\",\n  \"footer\": \"home-module__i0QXTG__footer\",\n  \"formActions\": \"home-module__i0QXTG__formActions\",\n  \"formControl\": \"home-module__i0QXTG__formControl\",\n  \"formGroup\": \"home-module__i0QXTG__formGroup\",\n  \"formLabel\": \"home-module__i0QXTG__formLabel\",\n  \"formTextarea\": \"home-module__i0QXTG__formTextarea\",\n  \"header\": \"home-module__i0QXTG__header\",\n  \"hero\": \"home-module__i0QXTG__hero\",\n  \"hero-subtitle\": \"home-module__i0QXTG__hero-subtitle\",\n  \"hero-title\": \"home-module__i0QXTG__hero-title\",\n  \"imagePreview\": \"home-module__i0QXTG__imagePreview\",\n  \"left-sidebar\": \"home-module__i0QXTG__left-sidebar\",\n  \"loading\": \"home-module__i0QXTG__loading\",\n  \"loginLink\": \"home-module__i0QXTG__loginLink\",\n  \"logo\": \"home-module__i0QXTG__logo\",\n  \"main-grid\": \"home-module__i0QXTG__main-grid\",\n  \"menu-overlay\": \"home-module__i0QXTG__menu-overlay\",\n  \"nav-explore\": \"home-module__i0QXTG__nav-explore\",\n  \"nav-home\": \"home-module__i0QXTG__nav-home\",\n  \"nav-icon\": \"home-module__i0QXTG__nav-icon\",\n  \"nav-learn\": \"home-module__i0QXTG__nav-learn\",\n  \"nav-link\": \"home-module__i0QXTG__nav-link\",\n  \"nav-login\": \"home-module__i0QXTG__nav-login\",\n  \"nav-logout\": \"home-module__i0QXTG__nav-logout\",\n  \"nav-plans\": \"home-module__i0QXTG__nav-plans\",\n  \"nav-profile\": \"home-module__i0QXTG__nav-profile\",\n  \"nav-settings\": \"home-module__i0QXTG__nav-settings\",\n  \"nav-signup\": \"home-module__i0QXTG__nav-signup\",\n  \"nav-text\": \"home-module__i0QXTG__nav-text\",\n  \"nav-thoughts\": \"home-module__i0QXTG__nav-thoughts\",\n  \"optionalLabel\": \"home-module__i0QXTG__optionalLabel\",\n  \"prompt-banner\": \"home-module__i0QXTG__prompt-banner\",\n  \"prompt-button\": \"home-module__i0QXTG__prompt-button\",\n  \"prompt-icon\": \"home-module__i0QXTG__prompt-icon\",\n  \"prompt-text\": \"home-module__i0QXTG__prompt-text\",\n  \"quote-card\": \"home-module__i0QXTG__quote-card\",\n  \"quote-tag\": \"home-module__i0QXTG__quote-tag\",\n  \"reaction-bar\": \"home-module__i0QXTG__reaction-bar\",\n  \"reaction-button\": \"home-module__i0QXTG__reaction-button\",\n  \"reaction-icon\": \"home-module__i0QXTG__reaction-icon\",\n  \"read-link\": \"home-module__i0QXTG__read-link\",\n  \"right-sidebar\": \"home-module__i0QXTG__right-sidebar\",\n  \"section-title\": \"home-module__i0QXTG__section-title\",\n  \"sidebar-collapse-button\": \"home-module__i0QXTG__sidebar-collapse-button\",\n  \"sidebar-footer\": \"home-module__i0QXTG__sidebar-footer\",\n  \"sidebar-header\": \"home-module__i0QXTG__sidebar-header\",\n  \"sidebar-heading\": \"home-module__i0QXTG__sidebar-heading\",\n  \"submitButton\": \"home-module__i0QXTG__submitButton\",\n  \"tag\": \"home-module__i0QXTG__tag\",\n  \"tag-list\": \"home-module__i0QXTG__tag-list\",\n  \"tagsPreview\": \"home-module__i0QXTG__tagsPreview\",\n  \"three-column-layout\": \"home-module__i0QXTG__three-column-layout\",\n  \"toggle-button\": \"home-module__i0QXTG__toggle-button\",\n  \"topic-tag\": \"home-module__i0QXTG__topic-tag\",\n  \"topics\": \"home-module__i0QXTG__topics\",\n  \"trending-list\": \"home-module__i0QXTG__trending-list\",\n  \"trending-tag\": \"home-module__i0QXTG__trending-tag\",\n  \"vertical-nav\": \"home-module__i0QXTG__vertical-nav\",\n  \"write-button\": \"home-module__i0QXTG__write-button\",\n  \"writer-avatar\": \"home-module__i0QXTG__writer-avatar\",\n  \"writer-info\": \"home-module__i0QXTG__writer-info\",\n  \"writer-item\": \"home-module__i0QXTG__writer-item\",\n  \"writer-name\": \"home-module__i0QXTG__writer-name\",\n  \"writers\": \"home-module__i0QXTG__writers\",\n  \"writing-tip\": \"home-module__i0QXTG__writing-tip\",\n  \"writing-tips\": \"home-module__i0QXTG__writing-tips\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/firebase/clientApp.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getAuth, connectAuthEmulator } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Firebase configuration from environment variables\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n    measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID\n};\n///\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Analytics only in browser environment\nlet analytics;\nif (typeof window !== 'undefined') {\n    try {\n        analytics = getAnalytics(app);\n    } catch (error) {\n        // Analytics initialization skipped in development\n    }\n}\n\n// Initialize Firebase Authentication\nconst auth = getAuth(app);\n\n// Initialize Firestore\nconst db = getFirestore(app);\n\n// Configure custom auth actions URL\nif (typeof window !== 'undefined') {\n    const actionCodeSettings = {\n        url: `${window.location.origin}/reset-password`,\n        handleCodeInApp: true,\n    };\n\n    // We need to update this in the forgot-password component when sending the reset email\n}\n\n// // Connect to Auth Emulator in development\n// if (process.env.NODE_ENV === 'development') {\n//     // connectAuthEmulator(auth, \"http://localhost:9099\", { disableWarnings: true });\n// }\n\n/////\n\nexport { app, analytics, auth, db };"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;AAU3C;AATZ;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AACA,4DAA4D;AAC5D,iEAAiE;AAEjE,oDAAoD;AACpD,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACjB;AACA,GAAG;AAEH,sBAAsB;AACtB,MAAM,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AAE1B,mDAAmD;AACnD,IAAI;AACJ,wCAAmC;IAC/B,IAAI;QACA,YAAY,CAAA,GAAA,6KAAA,CAAA,eAAY,AAAD,EAAE;IAC7B,EAAE,OAAO,OAAO;IACZ,kDAAkD;IACtD;AACJ;AAEA,qCAAqC;AACrC,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AAErB,uBAAuB;AACvB,MAAM,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE;AAExB,oCAAoC;AACpC,wCAAmC;IAC/B,MAAM,qBAAqB;QACvB,KAAK,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC;QAC/C,iBAAiB;IACrB;AAEA,uFAAuF;AAC3F","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/firebase/articles.ts"],"sourcesContent":["import { collection, addDoc, getDocs, getDoc, doc, query, orderBy, Timestamp, where, DocumentData, DocumentSnapshot, deleteDoc, updateDoc, arrayUnion, arrayRemove } from 'firebase/firestore';\nimport { db, auth } from './clientApp';\n\n// Article interface matching our Firestore structure\nexport interface Article {\n    id?: string;\n    title: string;\n    body: string;\n    createdAt: Timestamp;\n    authorId: string;\n    authorName: string;\n    tags: string[];\n    coverImage?: string;\n    slug?: string;\n}\n\n// Comment interfaces for Firestore\nexport interface ArticleComment {\n    id?: string;\n    commentId?: string;\n    userId: string;\n    userName: string;\n    content: string;\n    createdAt: Timestamp;\n    likes: string[];\n    replies: CommentReply[];\n}\n\nexport interface CommentReply {\n    replyId: string;\n    userId: string;\n    userName: string;\n    content: string;\n    createdAt: Timestamp;\n    likes: string[];\n}\n\n// Get all articles from Firestore, ordered by createdAt desc\nexport async function getArticles() {\n    try {\n        const articlesRef = collection(db, 'articles');\n        const q = query(articlesRef, orderBy('createdAt', 'desc'));\n        const querySnapshot = await getDocs(q);\n\n        const articles: Article[] = [];\n        querySnapshot.forEach((doc) => {\n            articles.push({\n                id: doc.id,\n                ...doc.data() as Omit<Article, 'id'>\n            });\n        });\n\n        return articles;\n    } catch (error) {\n        console.error('Error getting articles:', error);\n        throw error;\n    }\n}\n\n// Get a single article by ID\nexport async function getArticleById(id: string) {\n    try {\n        const docRef = doc(db, 'articles', id);\n        const docSnap = await getDoc(docRef);\n\n        if (docSnap.exists()) {\n            return {\n                id: docSnap.id,\n                ...docSnap.data() as Omit<Article, 'id'>\n            };\n        } else {\n            throw new Error('Article not found');\n        }\n    } catch (error) {\n        console.error('Error getting article:', error);\n        throw error;\n    }\n}\n\n// Get a single article by slug\nexport async function getArticleBySlug(slug: string) {\n    try {\n        const articlesRef = collection(db, 'articles');\n        const q = query(articlesRef, where('slug', '==', slug));\n        const querySnapshot = await getDocs(q);\n\n        if (querySnapshot.empty) {\n            throw new Error('Article not found');\n        }\n\n        const docSnap = querySnapshot.docs[0];\n        return {\n            id: docSnap.id,\n            ...docSnap.data() as Omit<Article, 'id'>\n        };\n    } catch (error) {\n        console.error('Error getting article by slug:', error);\n        throw error;\n    }\n}\n\n// Create a new article\nexport async function createArticle(article: Omit<Article, 'id' | 'createdAt' | 'authorId' | 'authorName'>) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to create an article');\n        }\n\n        // Create the basic article object with required fields\n        const newArticle: any = {\n            title: article.title,\n            body: article.body,\n            slug: article.slug || article.title\n                .toLowerCase()\n                .replace(/[^\\w\\s]/gi, '')\n                .replace(/\\s+/g, '-'),\n            createdAt: Timestamp.now(),\n            authorId: user.uid,\n            authorName: user.displayName || 'Anonymous',\n            tags: article.tags || []\n        };\n\n        // Only add optional fields if they exist and have values\n        if (article.coverImage) {\n            newArticle.coverImage = article.coverImage;\n        }\n\n        const docRef = await addDoc(collection(db, 'articles'), newArticle);\n        return {\n            id: docRef.id,\n            ...newArticle\n        };\n    } catch (error) {\n        console.error('Error creating article:', error);\n        throw error;\n    }\n}\n\n// Comments functions\nexport async function getArticleComments(articleId: string) {\n    try {\n        const commentsRef = collection(db, 'articles', articleId, 'comments');\n        const q = query(commentsRef, orderBy('createdAt', 'desc'));\n        const querySnapshot = await getDocs(q);\n\n        const comments: ArticleComment[] = [];\n        querySnapshot.forEach((doc) => {\n            const commentData = doc.data() as Omit<ArticleComment, 'id' | 'commentId'>;\n            comments.push({\n                id: doc.id,\n                commentId: doc.id, // Add commentId for compatibility with existing UI\n                ...commentData,\n                replies: commentData.replies || []\n            });\n        });\n\n        return comments;\n    } catch (error) {\n        console.error('Error getting comments:', error);\n        throw error;\n    }\n}\n\nexport async function addComment(articleId: string, content: string) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to comment');\n        }\n\n        const newComment = {\n            userId: user.uid,\n            userName: user.displayName || user.email?.split('@')[0] || 'Anonymous',\n            content,\n            createdAt: Timestamp.now(),\n            likes: [],\n            replies: []\n        };\n\n        const docRef = await addDoc(collection(db, 'articles', articleId, 'comments'), newComment);\n\n        return {\n            id: docRef.id,\n            commentId: docRef.id, // Add commentId for compatibility\n            ...newComment\n        };\n    } catch (error) {\n        console.error('Error adding comment:', error);\n        throw error;\n    }\n}\n\nexport async function addReply(articleId: string, commentId: string, content: string) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to reply');\n        }\n\n        const commentRef = doc(db, 'articles', articleId, 'comments', commentId);\n        const commentSnap = await getDoc(commentRef);\n\n        if (!commentSnap.exists()) {\n            throw new Error('Comment not found');\n        }\n\n        const newReply = {\n            replyId: Math.random().toString(36).substring(2, 15), // Generate a unique ID\n            userId: user.uid,\n            userName: user.displayName || user.email?.split('@')[0] || 'Anonymous',\n            content,\n            createdAt: Timestamp.now(),\n            likes: []\n        };\n\n        // Add the reply to the replies array\n        await updateDoc(commentRef, {\n            replies: arrayUnion(newReply)\n        });\n\n        return newReply;\n    } catch (error) {\n        console.error('Error adding reply:', error);\n        throw error;\n    }\n}\n\nexport async function likeComment(articleId: string, commentId: string) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to like a comment');\n        }\n\n        const commentRef = doc(db, 'articles', articleId, 'comments', commentId);\n        const commentSnap = await getDoc(commentRef);\n\n        if (!commentSnap.exists()) {\n            throw new Error('Comment not found');\n        }\n\n        const commentData = commentSnap.data() as ArticleComment;\n        const userId = user.uid;\n\n        // Check if the user already liked the comment\n        const likes = commentData.likes || [];\n        const hasLiked = likes.includes(userId);\n\n        if (hasLiked) {\n            // Remove the like\n            await updateDoc(commentRef, {\n                likes: arrayRemove(userId)\n            });\n\n            // Get updated likes\n            const updatedSnap = await getDoc(commentRef);\n            const updatedData = updatedSnap.data() as ArticleComment;\n\n            return {\n                success: true,\n                action: 'unliked',\n                likes: updatedData.likes,\n                count: updatedData.likes.length\n            };\n        } else {\n            // Add the like\n            await updateDoc(commentRef, {\n                likes: arrayUnion(userId)\n            });\n\n            // Get updated likes\n            const updatedSnap = await getDoc(commentRef);\n            const updatedData = updatedSnap.data() as ArticleComment;\n\n            return {\n                success: true,\n                action: 'liked',\n                likes: updatedData.likes,\n                count: updatedData.likes.length\n            };\n        }\n    } catch (error) {\n        console.error('Error liking comment:', error);\n        throw error;\n    }\n}\n\nexport async function deleteComment(articleId: string, commentId: string) {\n    try {\n        const user = auth.currentUser;\n        if (!user) {\n            throw new Error('You must be logged in to delete a comment');\n        }\n\n        const commentRef = doc(db, 'articles', articleId, 'comments', commentId);\n        const commentSnap = await getDoc(commentRef);\n\n        if (!commentSnap.exists()) {\n            throw new Error('Comment not found');\n        }\n\n        const commentData = commentSnap.data() as ArticleComment;\n\n        // Check if the user is the comment author\n        if (commentData.userId !== user.uid) {\n            throw new Error('You can only delete your own comments');\n        }\n\n        await deleteDoc(commentRef);\n\n        return {\n            success: true,\n            message: 'Comment deleted successfully'\n        };\n    } catch (error) {\n        console.error('Error deleting comment:', error);\n        throw error;\n    }\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/services/articleService.ts"],"sourcesContent":["// src/services/articleService.ts\n// // or wherever your interface lives\n\nexport async function getArticle(slug: string): Promise<Article> {\n    // 1. Read your base URL (make sure .env.local has NEXT_PUBLIC_API_BASE_URL)\n    const baseUrl = process.env.NEXT_PUBLIC_API_BASE_URL\n        || 'http://127.0.0.1:5001'\n\n    // 2. Construct the correct Flask endpoint\n    const url = `${baseUrl}/api/prototype/v1/article/${slug}`\n\n    // 3. Fetch it\n    const res = await fetch(url)\n    if (!res.ok) {\n        throw new Error(`Failed to fetch article: ${res.status} ${res.statusText}`)\n    }\n\n    // 4. Parse JSON and return\n    return res.json()\n}\n\n// Get article comments\nexport async function getArticleComments(slug: string): Promise<ArticleComment[]> {\n    const baseUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://127.0.0.1:5001'\n    const url = `${baseUrl}/api/prototype/v1/article/${slug}/comments`\n\n    const res = await fetch(url)\n    if (!res.ok) {\n        throw new Error(`Failed to fetch comments: ${res.status} ${res.statusText}`)\n    }\n\n    return res.json()\n}\n\n// Post a new comment\nexport async function postComment(slug: string, userId: string, content: string): Promise<ArticleComment> {\n    const baseUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://127.0.0.1:5001'\n    const url = `${baseUrl}/api/prototype/v1/article/${slug}/comment`\n\n    const res = await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ userId, content }),\n    })\n\n    if (!res.ok) {\n        throw new Error(`Failed to post comment: ${res.status} ${res.statusText}`)\n    }\n\n    return res.json()\n}\n\n// Post a reply to a comment\nexport async function postReply(slug: string, commentId: string, userId: string, content: string): Promise<CommentReply> {\n    const baseUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://127.0.0.1:5001'\n    const url = `${baseUrl}/api/prototype/v1/article/${slug}/comment/${commentId}/reply`\n\n    const res = await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ userId, content }),\n    })\n\n    if (!res.ok) {\n        throw new Error(`Failed to post reply: ${res.status} ${res.statusText}`)\n    }\n\n    return res.json()\n}\n\n// Like or unlike a comment\nexport async function likeComment(slug: string, commentId: string, userId: string): Promise<{ success: boolean, action: string, likes: string[], count: number }> {\n    const baseUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://127.0.0.1:5001'\n    const url = `${baseUrl}/api/prototype/v1/article/${slug}/comment/${commentId}/like`\n\n    const res = await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ userId }),\n    })\n\n    if (!res.ok) {\n        throw new Error(`Failed to like comment: ${res.status} ${res.statusText}`)\n    }\n\n    return res.json()\n}\n\n// Like or unlike a reply\nexport async function likeReply(slug: string, commentId: string, replyId: string, userId: string): Promise<{ success: boolean, action: string, likes: string[], count: number }> {\n    const baseUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://127.0.0.1:5001'\n    const url = `${baseUrl}/api/prototype/v1/article/${slug}/comment/${commentId}/reply/${replyId}/like`\n\n    const res = await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ userId }),\n    })\n\n    if (!res.ok) {\n        throw new Error(`Failed to like reply: ${res.status} ${res.statusText}`)\n    }\n\n    return res.json()\n}\n\n// Delete a comment\nexport async function deleteComment(slug: string, commentId: string, userId: string): Promise<{ success: boolean, message: string }> {\n    const baseUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://127.0.0.1:5001'\n    const url = `${baseUrl}/api/prototype/v1/article/${slug}/comment/${commentId}?userId=${userId}`\n\n    const res = await fetch(url, {\n        method: 'DELETE',\n    })\n\n    if (!res.ok) {\n        throw new Error(`Failed to delete comment: ${res.status} ${res.statusText}`)\n    }\n\n    return res.json()\n}\n\n// Delete a reply\nexport async function deleteReply(slug: string, commentId: string, replyId: string, userId: string): Promise<{ success: boolean, message: string }> {\n    const baseUrl = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://127.0.0.1:5001'\n    const url = `${baseUrl}/api/prototype/v1/article/${slug}/comment/${commentId}/reply/${replyId}?userId=${userId}`\n\n    const res = await fetch(url, {\n        method: 'DELETE',\n    })\n\n    if (!res.ok) {\n        throw new Error(`Failed to delete reply: ${res.status} ${res.statusText}`)\n    }\n\n    return res.json()\n}\n\nexport interface Article {\n    _id: string;\n    id?: string;           // optional for your samples\n    slug: string;\n    title: string;\n    content: string | ParagraphContent[];\n    author?: string;\n    authorId: string;\n    publishedDate?: string;\n    tags: string[];\n    likes: number | string[];\n    viewCount?: number;\n    readTime?: number;\n    comments?: ArticleComment[];\n    coverImageUrl?: string;\n    createdAt?: string;\n    updatedAt?: string;\n    reposts?: string[];\n}\n\ninterface ParagraphContent {\n    paragraphId: string;\n    text: string;\n    likes: string[];\n    comments: CommentContent[];\n}\n\ninterface CommentContent {\n    userId: string;\n    content: string;\n    createdAt: string;\n}\n\nexport interface ArticleComment {\n    commentId: string;\n    userId: string;\n    content: string;\n    createdAt: string;\n    likes: string[];\n    replies: CommentReply[];\n}\n\nexport interface CommentReply {\n    replyId: string;\n    userId: string;\n    content: string;\n    createdAt: string;\n    likes: string[];\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/components/CommentSection.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { \n  ArticleComment, \n  CommentReply,\n  getArticleComments, \n  postComment, \n  postReply,\n  likeComment, \n  likeReply,\n  deleteComment, \n  deleteReply \n} from '@/services/articleService';\nimport { auth } from '@/firebase/clientApp';\nimport { onAuthStateChanged } from 'firebase/auth';\n\ninterface CommentSectionProps {\n  slug: string;\n}\n\nconst CommentSection: React.FC<CommentSectionProps> = ({ slug }) => {\n  const [comments, setComments] = useState<ArticleComment[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [focusState, setFocusState] = useState(false);\n  const [replyingTo, setReplyingTo] = useState<string | null>(null);\n  const [replyContent, setReplyContent] = useState('');\n  const [submittingReply, setSubmittingReply] = useState(false);\n  const [expandedReplies, setExpandedReplies] = useState<Record<string, boolean>>({});\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showLoginPrompt, setShowLoginPrompt] = useState(false);\n  \n  // This user object will be updated when authenticated\n  const [currentUser, setCurrentUser] = useState({ id: '', name: 'Reader' });\n\n  useEffect(() => {\n    // Check authentication status\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      const isAuth = !!user;\n      setIsAuthenticated(isAuth);\n      \n      if (isAuth && user) {\n        setCurrentUser({\n          id: user.uid,\n          name: user.displayName || user.email?.split('@')[0] || 'User'\n        });\n      } else {\n        setCurrentUser({ id: '', name: 'Reader' });\n      }\n    });\n    \n    if (!slug) return;\n    \n    setLoading(true);\n    getArticleComments(slug)\n      .then(data => {\n        // Add a small delay to show loading animation\n        setTimeout(() => {\n          setComments(data);\n          setLoading(false);\n        }, 800);\n      })\n      .catch(err => {\n        setError('Unable to load discussions. Please refresh the page to try again.');\n        setLoading(false);\n      });\n      \n    return () => unsubscribe();\n  }, [slug]);\n\n  const handleCommentSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newComment.trim() || submitting) return;\n    \n    if (!isAuthenticated) {\n      setShowLoginPrompt(true);\n      return;\n    }\n    \n    try {\n      setSubmitting(true);\n      const comment = await postComment(slug, currentUser.id, newComment);\n      setComments(prev => [comment, ...prev]);\n      setNewComment('');\n      setSubmitting(false);\n      setFocusState(false); // Reset focus state after submission\n    } catch (err) {\n      setError('Your response could not be posted. Please try again.');\n      setSubmitting(false);\n    }\n  };\n\n  const handleReplySubmit = async (commentId: string) => {\n    if (!replyContent.trim() || submittingReply) return;\n    \n    if (!isAuthenticated) {\n      setShowLoginPrompt(true);\n      return;\n    }\n    \n    try {\n      setSubmittingReply(true);\n      const reply = await postReply(slug, commentId, currentUser.id, replyContent);\n      \n      // Update the local state with the new reply\n      setComments(prev => \n        prev.map(comment => \n          comment.commentId === commentId\n            ? { \n                ...comment, \n                replies: [...(comment.replies || []), reply]\n              }\n            : comment\n        )\n      );\n      \n      // Reset reply state\n      setReplyContent('');\n      setReplyingTo(null);\n      setSubmittingReply(false);\n      \n      // Ensure replies for this comment are expanded\n      setExpandedReplies(prev => ({\n        ...prev,\n        [commentId]: true\n      }));\n    } catch (err) {\n      setSubmittingReply(false);\n    }\n  };\n\n  const handleLikeComment = async (commentId: string) => {\n    if (!isAuthenticated) {\n      setShowLoginPrompt(true);\n      return;\n    }\n    \n    try {\n      const result = await likeComment(slug, commentId, currentUser.id);\n      \n      // Update local state\n      setComments(prev => \n        prev.map(comment => \n          comment.commentId === commentId \n            ? { ...comment, likes: result.likes } \n            : comment\n        )\n      );\n    } catch (err) {\n      // Handle error silently\n    }\n  };\n\n  const handleLikeReply = async (commentId: string, replyId: string) => {\n    if (!isAuthenticated) {\n      setShowLoginPrompt(true);\n      return;\n    }\n    \n    try {\n      const result = await likeReply(slug, commentId, replyId, currentUser.id);\n      \n      // Update local state\n      setComments(prev => \n        prev.map(comment => \n          comment.commentId === commentId \n            ? { \n                ...comment, \n                replies: comment.replies.map(reply => \n                  reply.replyId === replyId\n                    ? { ...reply, likes: result.likes }\n                    : reply\n                )\n              } \n            : comment\n        )\n      );\n    } catch (err) {\n      // Handle error silently\n    }\n  };\n\n  const handleDeleteComment = async (commentId: string) => {\n    if (!isAuthenticated) {\n      return;\n    }\n    \n    try {\n      await deleteComment(slug, commentId, currentUser.id);\n      \n      // Remove comment from local state\n      setComments(prev => \n        prev.filter(comment => comment.commentId !== commentId)\n      );\n    } catch (err) {\n      // Handle error silently\n    }\n  };\n\n  const handleDeleteReply = async (commentId: string, replyId: string) => {\n    if (!isAuthenticated) {\n      return;\n    }\n    \n    try {\n      await deleteReply(slug, commentId, replyId, currentUser.id);\n      \n      // Remove reply from local state\n      setComments(prev => \n        prev.map(comment => \n          comment.commentId === commentId \n            ? { \n                ...comment, \n                replies: comment.replies.filter(reply => reply.replyId !== replyId)\n              } \n            : comment\n        )\n      );\n    } catch (err) {\n      // Handle error silently\n    }\n  };\n\n  const toggleReplies = (commentId: string) => {\n    setExpandedReplies(prev => ({\n      ...prev,\n      [commentId]: !prev[commentId]\n    }));\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInMillis = now.getTime() - date.getTime();\n    const diffInMinutes = Math.floor(diffInMillis / (1000 * 60));\n    const diffInHours = Math.floor(diffInMillis / (1000 * 60 * 60));\n    const diffInDays = Math.floor(diffInMillis / (1000 * 60 * 60 * 24));\n    \n    if (diffInMinutes < 60) {\n      return `${diffInMinutes} ${diffInMinutes === 1 ? 'minute' : 'minutes'} ago`;\n    } else if (diffInHours < 24) {\n      return `${diffInHours} ${diffInHours === 1 ? 'hour' : 'hours'} ago`;\n    } else if (diffInDays < 7) {\n      return `${diffInDays} ${diffInDays === 1 ? 'day' : 'days'} ago`;\n    } else {\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      });\n    }\n  };\n  \n  // Function to get user avatar with initial\n  const getUserAvatar = (userId: string, isReply = false) => {\n    const initial = userId.charAt(0).toUpperCase();\n    const colors = ['#4f46e5', '#0ea5e9', '#10b981', '#f59e0b', '#ef4444'];\n    const colorIndex = userId.charCodeAt(0) % colors.length;\n    const bgColor = colors[colorIndex];\n    \n    return (\n      <div \n        className={isReply ? \"reply-avatar\" : \"comment-avatar-small\"} \n        style={{ \n          backgroundColor: bgColor, \n          display: 'flex', \n          alignItems: 'center', \n          justifyContent: 'center',\n          color: 'white',\n          fontWeight: 'bold',\n          fontSize: isReply ? '0.9rem' : '1.2rem'\n        }}\n      >\n        {initial}\n      </div>\n    );\n  };\n\n  return (\n    <section className=\"comment-section\">\n      <h2 className=\"comment-section-title\">\n        Join the Discussion\n      </h2>\n      \n      {error && (\n        <div className=\"comment-error\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n            <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\n          </svg>\n          {error}\n        </div>\n      )}\n      \n      <form className=\"comment-form\" onSubmit={handleCommentSubmit}>\n        <div\n          className=\"comment-input-container\"\n          style={{ opacity: focusState ? 1 : 0.85 }}\n        >\n          {isAuthenticated ? (\n            <>\n              <div className=\"comment-avatar\">\n                {getUserAvatar(currentUser.id)}\n              </div>\n              <textarea\n                className=\"comment-input\"\n                placeholder=\"Share your thoughts...\"\n                value={newComment}\n                onChange={e => setNewComment(e.target.value)}\n                onFocus={() => setFocusState(true)}\n                onBlur={() => {\n                  if (!newComment.trim()) {\n                    setFocusState(false);\n                  }\n                }}\n              />\n              <button\n                className=\"comment-submit\"\n                type=\"submit\"\n                disabled={!newComment.trim() || submitting}\n              >\n                {submitting ? 'Posting...' : 'Post'}\n              </button>\n            </>\n          ) : (\n            <div className=\"login-prompt-container\" onClick={() => setShowLoginPrompt(true)}>\n              <textarea\n                className=\"comment-input\"\n                placeholder=\"Login to join the discussion...\"\n                disabled\n              />\n              <button\n                className=\"comment-submit login-button\"\n                type=\"button\"\n                onClick={() => setShowLoginPrompt(true)}\n              >\n                Login to comment\n              </button>\n            </div>\n          )}\n        </div>\n      </form>\n      \n      {/* Login Prompt Modal */}\n      {showLoginPrompt && (\n        <div className=\"login-modal-overlay\" onClick={() => setShowLoginPrompt(false)}>\n          <div className=\"login-modal\" onClick={e => e.stopPropagation()}>\n            <button className=\"login-modal-close\" onClick={() => setShowLoginPrompt(false)}>×</button>\n            <h3 className=\"login-modal-title\">Join the conversation</h3>\n            <p className=\"login-modal-text\">\n              Sign in to Journalite to share your thoughts and join the discussion.\n            </p>\n            <div className=\"login-modal-buttons\">\n              <Link href=\"/login\" className=\"login-modal-button primary\">\n                Log In\n              </Link>\n              <Link href=\"/register\" className=\"login-modal-button secondary\">\n                Create Account\n              </Link>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {loading ? (\n        <div className=\"comment-loading\">\n          <p>Loading comments...</p>\n          <div className=\"loading-dots\">\n            <div className=\"loading-dot\"></div>\n            <div className=\"loading-dot\"></div>\n            <div className=\"loading-dot\"></div>\n          </div>\n        </div>\n      ) : comments.length === 0 ? (\n        <div className=\"no-comments\">\n          Be the first to share your thoughts on this article.\n        </div>\n      ) : (\n        <div className=\"comments-list\">\n          {comments.map(comment => (\n            <div key={comment.commentId} className=\"comment-item\">\n              <div className=\"comment-header\">\n                {getUserAvatar(comment.userId)}\n                <span className=\"comment-user\">{comment.userId}</span>\n                <span className=\"comment-date\">{formatDate(comment.createdAt)}</span>\n              </div>\n              <div className=\"comment-content\">\n                {comment.content}\n              </div>\n              <div className=\"comment-actions\">\n                <button\n                  className={`comment-like-btn ${comment.likes.includes(currentUser.id) ? 'liked' : ''}`}\n                  onClick={() => handleLikeComment(comment.commentId)}\n                >\n                  <span>❤</span>\n                  <span>{comment.likes.length || ''}</span>\n                </button>\n                \n                <button\n                  className=\"reply-toggle\"\n                  onClick={() => {\n                    if (isAuthenticated) {\n                      setReplyingTo(replyingTo === comment.commentId ? null : comment.commentId);\n                    } else {\n                      setShowLoginPrompt(true);\n                    }\n                  }}\n                >\n                  <span>↩</span>\n                  <span>Reply</span>\n                </button>\n                \n                {/* Only show delete button for the user's own comments */}\n                {comment.userId === currentUser.id && (\n                  <button\n                    className=\"comment-delete-btn\"\n                    onClick={() => handleDeleteComment(comment.commentId)}\n                  >\n                    <span>🗑</span>\n                    <span>Delete</span>\n                  </button>\n                )}\n              </div>\n              \n              {/* Replies */}\n              {comment.replies && comment.replies.length > 0 && (\n                <>\n                  <button\n                    className=\"replies-toggle\"\n                    onClick={() => toggleReplies(comment.commentId)}\n                  >\n                    <span className={`replies-toggle-icon ${expandedReplies[comment.commentId] ? 'open' : ''}`}>\n                      ▷\n                    </span>\n                    {`${comment.replies.length} ${comment.replies.length === 1 ? 'reply' : 'replies'}`}\n                  </button>\n                  \n                  {expandedReplies[comment.commentId] && (\n                    <div className=\"reply-section\">\n                      {comment.replies.map(reply => (\n                        <div key={reply.replyId} className=\"reply-item\">\n                          <div className=\"reply-header\">\n                            {getUserAvatar(reply.userId, true)}\n                            <span className=\"reply-user\">{reply.userId}</span>\n                            <span className=\"reply-date\">{formatDate(reply.createdAt)}</span>\n                          </div>\n                          <div className=\"reply-content\">\n                            {reply.content}\n                          </div>\n                          <div className=\"reply-actions\">\n                            <button\n                              className={`${reply.likes.includes(currentUser.id) ? 'liked' : ''}`}\n                              onClick={() => handleLikeReply(comment.commentId, reply.replyId)}\n                            >\n                              ❤ {reply.likes.length || ''}\n                            </button>\n                            \n                            {/* Only show delete button for the user's own replies */}\n                            {reply.userId === currentUser.id && (\n                              <button\n                                onClick={() => handleDeleteReply(comment.commentId, reply.replyId)}\n                              >\n                                🗑 Delete\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </>\n              )}\n              \n              {/* Reply form */}\n              {replyingTo === comment.commentId && (\n                <div className={`reply-form ${comment.replies && comment.replies.length > 0 ? 'in-thread' : ''}`}>\n                  <textarea\n                    className=\"reply-input\"\n                    placeholder=\"Write a reply...\"\n                    value={replyContent}\n                    onChange={e => setReplyContent(e.target.value)}\n                  />\n                  <div className=\"reply-buttons\">\n                    <button\n                      className=\"reply-cancel\"\n                      onClick={() => {\n                        setReplyingTo(null);\n                        setReplyContent('');\n                      }}\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      className=\"reply-submit\"\n                      disabled={!replyContent.trim() || submittingReply}\n                      onClick={() => handleReplySubmit(comment.commentId)}\n                    >\n                      {submittingReply ? 'Posting...' : 'Post Reply'}\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default CommentSection; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1419, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/components/RenderArticle.tsx"],"sourcesContent":["// src/components/RenderArticle.tsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { Article as ArticleService } from '@/services/articleService';\nimport CommentSection from '@/components/CommentSection';\nimport '@/styles/article.css';  \nimport '@/styles/article.css';     \n\ninterface Comment {\n  userId: string;\n  content: string;\n  createdAt: string;\n}\n\ninterface Paragraph {\n  paragraphId: string;\n  text: string;\n  likes: string[];\n  comments: Comment[];\n}\n\ninterface ComplexArticle {\n  _id: string;\n  authorId: string;\n  title: string;\n  slug: string;\n  coverImageUrl?: string;\n  tags: string[];\n  content: Paragraph[];\n  likes: string[];\n  reposts: string[];\n  viewCount: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface RenderArticleProps {\n  article: ArticleService | ComplexArticle;\n}\n\nconst RenderArticle: React.FC<RenderArticleProps> = ({ article }) => {\n  const [visibleParagraphs, setVisibleParagraphs] = useState<Record<string, boolean>>({});\n  const paragraphRefs = useRef<Record<string, HTMLDivElement | null>>({});\n\n  // IntersectionObserver for fade‑in\n  useEffect(() => {\n    if (!Array.isArray((article as ComplexArticle).content)) return;\n\n    const observer = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          const id = entry.target.getAttribute('data-paragraph-id');\n          if (id && entry.isIntersecting) {\n            setVisibleParagraphs(prev => ({ ...prev, [id]: true }));\n          }\n        });\n      },\n      { threshold: 0.3, rootMargin: '-30px 0px' }\n    );\n\n    // observe each paragraph\n    Object.values(paragraphRefs.current).forEach(el => {\n      if (el) observer.observe(el);\n    });\n\n    return () => {\n      Object.values(paragraphRefs.current).forEach(el => {\n        if (el) observer.unobserve(el);\n      });\n    };\n  }, [article]);\n\n  const formatDate = (d: string) =>\n    new Date(d).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n\n  const isComplex = (a: any): a is ComplexArticle => Array.isArray(a.content);\n  if (!isComplex(article)) return null;\n\n  return (\n    <article className=\"article-container\">\n      <div className=\"article-main\">\n        <header className=\"article-header\">\n          <h1 className=\"article-title\">{article.title}</h1>\n          <div className=\"article-meta\">\n            <img\n              src=\"https://images.unsplash.com/photo-1494790108377-be9c29b29330\"\n              alt=\"Author\"\n              className=\"author-image\"\n            />\n            <span className=\"author\">By {article.authorId}</span>\n            <span className=\"separator\">•</span>\n            <span className=\"date\">{formatDate(article.createdAt)}</span>\n          </div>\n          <div className=\"article-tags\">\n            {article.tags.map(tag => (\n              <span key={tag} className=\"tag\">\n                {tag}\n              </span>\n            ))}\n          </div>\n        </header>\n\n        <section className=\"article-content\">\n          {article.content.map(para => (\n            <div\n              key={para.paragraphId}\n              data-paragraph-id={para.paragraphId}\n              // __IMPORTANT__: use braces so ref returns void\n              ref={el => {\n                paragraphRefs.current[para.paragraphId] = el\n              }}\n              className={`paragraph-block ${\n                visibleParagraphs[para.paragraphId] ? 'visible' : ''\n              }`}\n            >\n              <div className=\"paragraph-text\">\n                <ReactMarkdown>{para.text}</ReactMarkdown>\n              </div>\n            </div>\n          ))}\n        </section>\n\n        <CommentSection slug={(article as ComplexArticle).slug} />\n      </div>\n    </article>\n  );\n};\n\nexport default RenderArticle;"],"names":[],"mappings":"AAAA,mCAAmC;;;;;AACnC;AACA;AAEA;;;;;;;;AAoCA,MAAM,gBAA8C,CAAC,EAAE,OAAO,EAAE;;IAC9D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA2B,CAAC;IACrF,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAyC,CAAC;IAErE,mCAAmC;IACnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,IAAI,CAAC,MAAM,OAAO,CAAC,AAAC,QAA2B,OAAO,GAAG;YAEzD,MAAM,WAAW,IAAI;2CACnB,CAAA;oBACE,QAAQ,OAAO;mDAAC,CAAA;4BACd,MAAM,KAAK,MAAM,MAAM,CAAC,YAAY,CAAC;4BACrC,IAAI,MAAM,MAAM,cAAc,EAAE;gCAC9B;+DAAqB,CAAA,OAAQ,CAAC;4CAAE,GAAG,IAAI;4CAAE,CAAC,GAAG,EAAE;wCAAK,CAAC;;4BACvD;wBACF;;gBACF;0CACA;gBAAE,WAAW;gBAAK,YAAY;YAAY;YAG5C,yBAAyB;YACzB,OAAO,MAAM,CAAC,cAAc,OAAO,EAAE,OAAO;2CAAC,CAAA;oBAC3C,IAAI,IAAI,SAAS,OAAO,CAAC;gBAC3B;;YAEA;2CAAO;oBACL,OAAO,MAAM,CAAC,cAAc,OAAO,EAAE,OAAO;mDAAC,CAAA;4BAC3C,IAAI,IAAI,SAAS,SAAS,CAAC;wBAC7B;;gBACF;;QACF;kCAAG;QAAC;KAAQ;IAEZ,MAAM,aAAa,CAAC,IAClB,IAAI,KAAK,GAAG,kBAAkB,CAAC,SAAS;YACtC,MAAM;YACN,OAAO;YACP,KAAK;QACP;IAEF,MAAM,YAAY,CAAC,IAAgC,MAAM,OAAO,CAAC,EAAE,OAAO;IAC1E,IAAI,CAAC,UAAU,UAAU,OAAO;IAEhC,qBACE,6LAAC;QAAQ,WAAU;kBACjB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAO,WAAU;;sCAChB,6LAAC;4BAAG,WAAU;sCAAiB,QAAQ,KAAK;;;;;;sCAC5C,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,KAAI;oCACJ,KAAI;oCACJ,WAAU;;;;;;8CAEZ,6LAAC;oCAAK,WAAU;;wCAAS;wCAAI,QAAQ,QAAQ;;;;;;;8CAC7C,6LAAC;oCAAK,WAAU;8CAAY;;;;;;8CAC5B,6LAAC;oCAAK,WAAU;8CAAQ,WAAW,QAAQ,SAAS;;;;;;;;;;;;sCAEtD,6LAAC;4BAAI,WAAU;sCACZ,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAA,oBAChB,6LAAC;oCAAe,WAAU;8CACvB;mCADQ;;;;;;;;;;;;;;;;8BAOjB,6LAAC;oBAAQ,WAAU;8BAChB,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAA,qBACnB,6LAAC;4BAEC,qBAAmB,KAAK,WAAW;4BACnC,gDAAgD;4BAChD,KAAK,CAAA;gCACH,cAAc,OAAO,CAAC,KAAK,WAAW,CAAC,GAAG;4BAC5C;4BACA,WAAW,CAAC,gBAAgB,EAC1B,iBAAiB,CAAC,KAAK,WAAW,CAAC,GAAG,YAAY,IAClD;sCAEF,cAAA,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,2LAAA,CAAA,UAAa;8CAAE,KAAK,IAAI;;;;;;;;;;;2BAXtB,KAAK,WAAW;;;;;;;;;;8BAiB3B,6LAAC,uIAAA,CAAA,UAAc;oBAAC,MAAM,AAAC,QAA2B,IAAI;;;;;;;;;;;;;;;;;AAI9D;GA1FM;KAAA;uCA4FS","debugId":null}},
    {"offset": {"line": 1636, "column": 0}, "map": {"version":3,"sources":["file:///Users/sirabdisalam/journalite-article-page/src/app/articles/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport Link from 'next/link'\nimport { useSearchParams } from 'next/navigation'\nimport { Suspense } from 'react'\nimport styles from '@/styles/home.module.css'\nimport { auth } from '@/firebase/clientApp'\nimport { onAuthStateChanged, signOut } from 'firebase/auth'\n\n// Import Firestore article service\nimport { getArticleBySlug, Article as FirestoreArticle } from '@/firebase/articles'\nimport RenderArticle from '@/components/RenderArticle'\n\n// Author mapping from homepage for consistency\nconst authorMapping: { [key: string]: string } = {\n  '84b2f82c-1e93-498a-983e-3b30a8379e63': 'Samuel Green',\n  user_002: 'Alex Martinez',\n  'kristen-lee-id': 'Kristen Lee',\n  'alex-wen-id': 'Alex Wen',\n  'hannah-cole-id': 'Hannah Cole'\n}\n\n// Convert Firestore article to UI format\nconst adaptFirestoreArticle = (firestoreArticle: FirestoreArticle): any => {\n  return {\n    _id: firestoreArticle.id || '',\n    title: firestoreArticle.title,\n    slug: firestoreArticle.slug || '',\n    authorId: firestoreArticle.authorId,\n    authorName: firestoreArticle.authorName,\n    coverImageUrl: firestoreArticle.coverImage,\n    tags: firestoreArticle.tags,\n    content: [\n      {\n        paragraphId: 'p1',\n        text: firestoreArticle.body,\n        likes: [],\n        comments: []\n      }\n    ],\n    likes: [],\n    reposts: [],\n    comments: [],\n    createdAt: firestoreArticle.createdAt.toDate().toISOString(),\n    updatedAt: firestoreArticle.createdAt.toDate().toISOString()\n  };\n};\n\nfunction Article () {\n  const params = useSearchParams()\n  const slug = params?.get('slug') || ''\n  const [article, setArticle] = useState<any | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState('')\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false)\n  const [tags, setTags] = useState<string[]>([])\n\n  useEffect(() => {\n    // Check Firebase authentication status\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      setIsAuthenticated(!!user)\n    })\n\n    // Fetch article data\n    const fetchArticle = async () => {\n      try {\n        setIsLoading(true)\n        if (!slug) return\n\n        // Get article from Firestore\n        const firestoreArticle = await getArticleBySlug(slug)\n        const adaptedArticle = adaptFirestoreArticle(firestoreArticle)\n        \n        setArticle(adaptedArticle)\n\n        // Set tags for the right sidebar\n        if (adaptedArticle && adaptedArticle.tags) {\n          setTags(adaptedArticle.tags)\n        }\n      } catch (error) {\n        console.error('Error loading article:', error)\n        setError('Failed to load article')\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    fetchArticle()\n\n    // Clean up the auth listener on unmount\n    return () => unsubscribe()\n  }, [slug])\n\n  const toggleSidebar = () => {\n    setIsSidebarCollapsed(!isSidebarCollapsed)\n  }\n\n  // Handle user logout\n  const handleLogout = async () => {\n    try {\n      await signOut(auth)\n    } catch (error) {\n      // Error handling for logout\n    }\n  }\n\n  return (\n    <div className={styles['three-column-layout']}>\n      {/* LEFT SIDEBAR - Same as homepage */}\n      <aside\n        className={`${styles['left-sidebar']} ${\n          isSidebarCollapsed ? styles['collapsed'] : ''\n        }`}\n      >\n        <div className={styles['sidebar-header']}>\n          <div className={styles.logo}>Journalite</div>\n          <button\n            className={styles['toggle-button']}\n            onClick={toggleSidebar}\n            aria-label={\n              isSidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'\n            }\n          >\n            {isSidebarCollapsed ? '→' : '←'}\n          </button>\n        </div>\n\n        <nav className={styles['vertical-nav']}>\n          {isAuthenticated ? (\n            // Navigation for authenticated users\n            <>\n              <Link\n                href='/'\n                className={`${styles['nav-link']} ${styles['nav-home']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>Home</span>\n              </Link>\n              <Link\n                href='/my-thoughts'\n                className={`${styles['nav-link']} ${styles['nav-thoughts']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>My Thoughts</span>\n              </Link>\n              <Link\n                href='/explore'\n                className={`${styles['nav-link']} ${styles['nav-explore']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>Explore</span>\n              </Link>\n              <Link\n                href='/my-profile'\n                className={`${styles['nav-link']} ${styles['nav-profile']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>My Profile</span>\n              </Link>\n              <Link\n                href='/settings'\n                className={`${styles['nav-link']} ${styles['nav-settings']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>Settings</span>\n              </Link>\n              <button\n                onClick={handleLogout}\n                className={`${styles['nav-link']} ${styles['nav-logout']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>Log out</span>\n              </button>\n            </>\n          ) : (\n            // Navigation for non-authenticated users\n            <>\n              <Link\n                href='/'\n                className={`${styles['nav-link']} ${styles['nav-home']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>Home</span>\n              </Link>\n              <Link\n                href='/login'\n                className={`${styles['nav-link']} ${styles['nav-login']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>Login</span>\n              </Link>\n              <Link\n                href='/learn'\n                className={`${styles['nav-link']} ${styles['nav-learn']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>Learn More</span>\n              </Link>\n              <Link\n                href='/plans'\n                className={`${styles['nav-link']} ${styles['nav-plans']}`}\n              >\n                <span className={styles['nav-icon']}>•</span>\n                <span className={styles['nav-text']}>Plans</span>\n              </Link>\n            </>\n          )}\n        </nav>\n      </aside>\n\n      {/* CENTER COLUMN - Use the original RenderArticle component */}\n      <main className={styles['center-column']}>\n        {isLoading ? (\n          <div className={styles['loading']}>Loading article...</div>\n        ) : error ? (\n          <div className={styles['loading']}>Error: {error}</div>\n        ) : article ? (\n          <RenderArticle article={article} />\n        ) : (\n          <div className={styles['loading']}>Article not found</div>\n        )}\n      </main>\n\n      {/* RIGHT SIDEBAR - Same structure as homepage */}\n      <aside className={styles['right-sidebar']}>\n        <h2 className={styles['sidebar-heading']}>Related Tags</h2>\n        <div className={styles['tag-list']}>\n          {tags.map(tag => (\n            <Link\n              key={tag}\n              href={`/tag/${tag.toLowerCase()}`}\n              className={styles['trending-tag']}\n            >\n              # {tag}\n            </Link>\n          ))}\n        </div>\n        <Link href='/write' className={styles['write-button']}>\n          Write\n        </Link>\n      </aside>\n    </div>\n  )\n}\n\nexport default function ArticlePage () {\n  return (\n    <Suspense fallback={<div>Loading article...</div>}>\n      <Article />\n    </Suspense>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA,mCAAmC;AACnC;AACA;;;AAZA;;;;;;;;;;AAcA,+CAA+C;AAC/C,MAAM,gBAA2C;IAC/C,wCAAwC;IACxC,UAAU;IACV,kBAAkB;IAClB,eAAe;IACf,kBAAkB;AACpB;AAEA,yCAAyC;AACzC,MAAM,wBAAwB,CAAC;IAC7B,OAAO;QACL,KAAK,iBAAiB,EAAE,IAAI;QAC5B,OAAO,iBAAiB,KAAK;QAC7B,MAAM,iBAAiB,IAAI,IAAI;QAC/B,UAAU,iBAAiB,QAAQ;QACnC,YAAY,iBAAiB,UAAU;QACvC,eAAe,iBAAiB,UAAU;QAC1C,MAAM,iBAAiB,IAAI;QAC3B,SAAS;YACP;gBACE,aAAa;gBACb,MAAM,iBAAiB,IAAI;gBAC3B,OAAO,EAAE;gBACT,UAAU,EAAE;YACd;SACD;QACD,OAAO,EAAE;QACT,SAAS,EAAE;QACX,UAAU,EAAE;QACZ,WAAW,iBAAiB,SAAS,CAAC,MAAM,GAAG,WAAW;QAC1D,WAAW,iBAAiB,SAAS,CAAC,MAAM,GAAG,WAAW;IAC5D;AACF;AAEA,SAAS;;IACP,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IAC7B,MAAM,OAAO,QAAQ,IAAI,WAAW;IACpC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAE7C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,uCAAuC;YACvC,MAAM,cAAc,CAAA,GAAA,wNAAA,CAAA,qBAAkB,AAAD,EAAE,+HAAA,CAAA,OAAI;iDAAE,CAAA;oBAC3C,mBAAmB,CAAC,CAAC;gBACvB;;YAEA,qBAAqB;YACrB,MAAM;kDAAe;oBACnB,IAAI;wBACF,aAAa;wBACb,IAAI,CAAC,MAAM;wBAEX,6BAA6B;wBAC7B,MAAM,mBAAmB,MAAM,CAAA,GAAA,8HAAA,CAAA,mBAAgB,AAAD,EAAE;wBAChD,MAAM,iBAAiB,sBAAsB;wBAE7C,WAAW;wBAEX,iCAAiC;wBACjC,IAAI,kBAAkB,eAAe,IAAI,EAAE;4BACzC,QAAQ,eAAe,IAAI;wBAC7B;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,0BAA0B;wBACxC,SAAS;oBACX,SAAU;wBACR,aAAa;oBACf;gBACF;;YAEA;YAEA,wCAAwC;YACxC;qCAAO,IAAM;;QACf;4BAAG;QAAC;KAAK;IAET,MAAM,gBAAgB;QACpB,sBAAsB,CAAC;IACzB;IAEA,qBAAqB;IACrB,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE,+HAAA,CAAA,OAAI;QACpB,EAAE,OAAO,OAAO;QACd,4BAA4B;QAC9B;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,oIAAA,CAAA,UAAM,CAAC,sBAAsB;;0BAE3C,6LAAC;gBACC,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,eAAe,CAAC,CAAC,EACpC,qBAAqB,oIAAA,CAAA,UAAM,CAAC,YAAY,GAAG,IAC3C;;kCAEF,6LAAC;wBAAI,WAAW,oIAAA,CAAA,UAAM,CAAC,iBAAiB;;0CACtC,6LAAC;gCAAI,WAAW,oIAAA,CAAA,UAAM,CAAC,IAAI;0CAAE;;;;;;0CAC7B,6LAAC;gCACC,WAAW,oIAAA,CAAA,UAAM,CAAC,gBAAgB;gCAClC,SAAS;gCACT,cACE,qBAAqB,mBAAmB;0CAGzC,qBAAqB,MAAM;;;;;;;;;;;;kCAIhC,6LAAC;wBAAI,WAAW,oIAAA,CAAA,UAAM,CAAC,eAAe;kCACnC,kBACC,qCAAqC;sCACrC;;8CACE,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,WAAW,EAAE;;sDAExD,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;8CAEvC,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,eAAe,EAAE;;sDAE5D,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;8CAEvC,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,cAAc,EAAE;;sDAE3D,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;8CAEvC,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,cAAc,EAAE;;sDAE3D,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;8CAEvC,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,eAAe,EAAE;;sDAE5D,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;8CAEvC,6LAAC;oCACC,SAAS;oCACT,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,aAAa,EAAE;;sDAE1D,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;;2CAIzC,yCAAyC;sCACzC;;8CACE,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,WAAW,EAAE;;sDAExD,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;8CAEvC,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,YAAY,EAAE;;sDAEzD,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;8CAEvC,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,YAAY,EAAE;;sDAEzD,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;8CAEvC,6LAAC,+JAAA,CAAA,UAAI;oCACH,MAAK;oCACL,WAAW,GAAG,oIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,CAAC,EAAE,oIAAA,CAAA,UAAM,CAAC,YAAY,EAAE;;sDAEzD,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;sDACrC,6LAAC;4CAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;;;;;;;;;;;;;;0BAQ/C,6LAAC;gBAAK,WAAW,oIAAA,CAAA,UAAM,CAAC,gBAAgB;0BACrC,0BACC,6LAAC;oBAAI,WAAW,oIAAA,CAAA,UAAM,CAAC,UAAU;8BAAE;;;;;2BACjC,sBACF,6LAAC;oBAAI,WAAW,oIAAA,CAAA,UAAM,CAAC,UAAU;;wBAAE;wBAAQ;;;;;;2BACzC,wBACF,6LAAC,sIAAA,CAAA,UAAa;oBAAC,SAAS;;;;;yCAExB,6LAAC;oBAAI,WAAW,oIAAA,CAAA,UAAM,CAAC,UAAU;8BAAE;;;;;;;;;;;0BAKvC,6LAAC;gBAAM,WAAW,oIAAA,CAAA,UAAM,CAAC,gBAAgB;;kCACvC,6LAAC;wBAAG,WAAW,oIAAA,CAAA,UAAM,CAAC,kBAAkB;kCAAE;;;;;;kCAC1C,6LAAC;wBAAI,WAAW,oIAAA,CAAA,UAAM,CAAC,WAAW;kCAC/B,KAAK,GAAG,CAAC,CAAA,oBACR,6LAAC,+JAAA,CAAA,UAAI;gCAEH,MAAM,CAAC,KAAK,EAAE,IAAI,WAAW,IAAI;gCACjC,WAAW,oIAAA,CAAA,UAAM,CAAC,eAAe;;oCAClC;oCACI;;+BAJE;;;;;;;;;;kCAQX,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,WAAW,oIAAA,CAAA,UAAM,CAAC,eAAe;kCAAE;;;;;;;;;;;;;;;;;;AAM/D;GApMS;;QACQ,qIAAA,CAAA,kBAAe;;;KADvB;AAsMM,SAAS;IACtB,qBACE,6LAAC,6JAAA,CAAA,WAAQ;QAAC,wBAAU,6LAAC;sBAAI;;;;;;kBACvB,cAAA,6LAAC;;;;;;;;;;AAGP;MANwB","debugId":null}}]
}