"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[832],{2832:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(5155),n=s(2115),r=s(6874),i=s.n(r),l=s(6203),d=s(8900);function o(){let[e,a]=(0,n.useState)(""),[s,r]=(0,n.useState)(!1),[o,c]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[f,h]=(0,n.useState)({}),[g,p]=(0,n.useState)({}),x=async a=>{a.preventDefault();let s=Array.from(a.currentTarget.elements),t={},n={},i=!0;if(s.forEach(e=>{e.name&&e.required&&(t[e.name]=!0,e.value.trim()||(n[e.name]="Please enter your email address",i=!1))}),h({...f,...t}),p({...g,...n}),i){r(!0),c(""),m(!1);try{if(!d.j2)throw Error("Firebase auth is not initialized");await (0,l.J1)(d.j2,e),m(!0)}catch(a){let e="Failed to send reset email. Please try again.";a.message&&(a.message.includes("user-not-found")?e="No account found with this email address.":a.message.includes("invalid-email")&&(e="Please enter a valid email address.")),c(e)}finally{r(!1)}}};return(0,t.jsxs)(t.Fragment,{children:[o&&(0,t.jsx)("div",{className:"mb-6 p-3 bg-red-50 text-red-700 text-sm rounded-md",children:o}),u?(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"mb-8 text-slate-800",children:["We've sent a password reset link to ",(0,t.jsx)("span",{className:"font-medium",children:e}),". Please check your inbox and follow the instructions."]}),(0,t.jsxs)(i(),{href:"/login",className:"inline-flex items-center px-5 py-3.5 bg-[#1a1a19] text-white rounded-md hover:bg-[#2a2a29] focus:outline-none focus:ring-2 focus:ring-slate-500",children:[(0,t.jsx)("span",{className:"mr-2",children:"→"}),(0,t.jsx)("span",{children:"Return to login"})]})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4 w-full",noValidate:!0,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{id:"email",name:"email",type:"email",className:(e=>{let a="w-full px-5 py-3.5 bg-[#f8f5ec] border border-[#e8e1d1] rounded-md focus:outline-none focus:ring-1 focus:ring-slate-500";return f[e]&&g[e]?"".concat(a," border-red-300 bg-red-50"):a})("email"),placeholder:"Email address",value:e,onChange:e=>a(e.target.value),onBlur:e=>{let{name:a,validity:s}=e.target;h({...f,[a]:!0}),p({...g,[a]:""}),s.valueMissing&&p({...g,[a]:"Please enter your email address"})},required:!0}),f.email&&g.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g.email})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-3.5 bg-[#1a1a19] text-white rounded-md hover:bg-[#2a2a29] focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",disabled:s,children:s?"Sending reset link...":(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:"→"}),(0,t.jsx)("span",{children:"Send password reset link"})]})})})]})})]})}},8900:(e,a,s)=>{let t,n,r;s.d(a,{j2:()=>n,db:()=>r});var i=s(3915),l=s(6864),d=s(6203),o=s(5317);if((0,i.Dk)().length)t=(0,i.Dk)()[0],n=(0,d.xI)(t),r=(0,o.aU)(t);else{t=(0,i.Wp)({apiKey:"AIzaSyCFpybhLt43iKUw6lNahU1n2zjYv0BXmf4",authDomain:"journalitev1.firebaseapp.com",projectId:"journalitev1",storageBucket:"journalitev1.firebasestorage.app",messagingSenderId:"897263211529",appId:"1:897263211529:web:bae4a00910a2236d6d54d8",measurementId:"G-ZYT8PRMT0D"});try{(0,l.P5)(t)}catch(e){console.log("Analytics initialization error:",e)}n=(0,d.xI)(t),r=(0,o.aU)(t)}}}]);