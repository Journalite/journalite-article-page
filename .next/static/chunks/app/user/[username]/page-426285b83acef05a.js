(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2337],{1661:(e,t,o)=>{"use strict";o.d(t,{default:()=>v});var a=o(5155),r=o(2115),n=o(6874),s=o.n(n),_=o(5317),l=o(3201),i=o(8163),c=o.n(i),m=o(6766),h=o(9299),d=o(4744);let u=e=>{let{userId:t,maxDisplay:o=5,username:n}=e,[_,l]=(0,r.useState)([]),[i,c]=(0,r.useState)(0),[m,u]=(0,r.useState)(!0),[p,f]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async()=>{u(!0);try{let e=await (0,d.SR)(t,o);l(e),e.length>0&&"followersCount"in e[0]?c(e[0].followersCount||0):c(Math.max(o,e.length))}catch(e){console.error("Error fetching followers:",e),f("Failed to load followers")}finally{u(!1)}})()},[t,o]),m)return(0,a.jsx)("div",{className:"animate-pulse space-y-3 mt-2",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]},t))});if(p)return(0,a.jsx)("div",{className:"text-red-500 text-sm mt-2",children:p});if(0===_.length)return(0,a.jsx)("div",{className:"text-gray-500 text-sm mt-2",children:"No followers yet"});let g=n||_.length>0&&_[0].username;return(0,a.jsxs)("div",{className:"space-y-4 mt-2",children:[_.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(s(),{href:"/user/".concat(e.username),className:"flex items-center group flex-1 min-w-0 mr-2 overflow-hidden",children:[(0,a.jsxs)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-medium flex-shrink-0",children:[e.firstName.charAt(0),e.lastName.charAt(0)]}),(0,a.jsxs)("div",{className:"ml-3 overflow-hidden max-w-[calc(100%-45px)]",children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900 group-hover:underline truncate",children:[e.firstName," ",e.lastName]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 truncate",children:["@",e.username]})]})]}),(0,a.jsx)(h.A,{targetUserId:e.uid,targetUsername:e.username,className:"flex-shrink-0 min-w-[70px] text-xs px-2 py-1"})]},e.uid)),g&&i>o&&(0,a.jsxs)(s(),{href:"/user/".concat(g,"/followers"),className:"block text-blue-600 hover:text-blue-800 text-sm font-medium pt-2 text-center",children:["See all ",i," followers →"]})]})},p=e=>{let{userId:t,maxDisplay:o=5,username:n}=e,[_,l]=(0,r.useState)([]),[i,c]=(0,r.useState)(0),[m,u]=(0,r.useState)(!0),[p,f]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async()=>{u(!0);try{let e=await (0,d.mH)(t,o);l(e),e.length>0&&"followingCount"in e[0]?c(e[0].followingCount||0):c(Math.max(o,e.length))}catch(e){console.error("Error fetching following:",e),f("Failed to load following")}finally{u(!1)}})()},[t,o]),m)return(0,a.jsx)("div",{className:"animate-pulse space-y-3 mt-2",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]},t))});if(p)return(0,a.jsx)("div",{className:"text-red-500 text-sm mt-2",children:p});if(0===_.length)return(0,a.jsx)("div",{className:"text-gray-500 text-sm mt-2",children:"Not following anyone yet"});let g=n||_.length>0&&_[0].username;return(0,a.jsxs)("div",{className:"space-y-4 mt-2",children:[_.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(s(),{href:"/user/".concat(e.username),className:"flex items-center group flex-1 min-w-0 mr-2 overflow-hidden",children:[(0,a.jsxs)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-medium flex-shrink-0",children:[e.firstName.charAt(0),e.lastName.charAt(0)]}),(0,a.jsxs)("div",{className:"ml-3 overflow-hidden max-w-[calc(100%-45px)]",children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900 group-hover:underline truncate",children:[e.firstName," ",e.lastName]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 truncate",children:["@",e.username]})]})]}),(0,a.jsx)(h.A,{targetUserId:e.uid,targetUsername:e.username,className:"flex-shrink-0 min-w-[70px] text-xs px-2 py-1"})]},e.uid)),g&&i>o&&(0,a.jsxs)(s(),{href:"/user/".concat(g,"/following"),className:"block text-blue-600 hover:text-blue-800 text-sm font-medium pt-2 text-center",children:["See all ",i," following →"]})]})},f=e=>{try{return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})}catch(e){return console.error("Error formatting date:",e),"Invalid date"}},g=e=>{try{return e.toLocaleDateString("en-US",{year:"numeric",month:"long",timeZone:"UTC"})}catch(e){return console.error("Error formatting member date:",e),"Unknown date"}},x=e=>{if("undefined"!=typeof document){let t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}return e.replace(/<[^>]*>/g,"")};function v(e){let{username:t}=e,[o,n]=(0,r.useState)(null),[i,d]=(0,r.useState)([]),[v,b]=(0,r.useState)("Unknown"),[N,y]=(0,r.useState)(!0),[j,w]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=async()=>{y(!0);try{let e=(0,_.rJ)(l.db,"users"),o=(0,_.P)(e,(0,_._M)("username","==",t)),a=await (0,_.GG)(o);if(a.empty){w("User @".concat(t," not found")),y(!1);return}let r=a.docs[0].data();n(r),r.createdAt&&b(g(r.createdAt.toDate()));let s=(0,_.rJ)(l.db,"articles"),i=(0,_.P)(s,(0,_._M)("authorId","==",r.uid),(0,_._M)("status","==","published"),(0,_.My)("createdAt","desc")),c=(await (0,_.GG)(i)).docs.map(e=>({id:e.id,...e.data()}));d(c)}catch(e){console.error("Error loading user profile:",e),w("Failed to load user profile. Please try again later.")}finally{y(!1)}};t&&e()},[t]),N)?(0,a.jsx)("div",{className:c().container,children:(0,a.jsxs)("div",{className:c().loading,children:[(0,a.jsx)("div",{className:c().loadingSpinner}),(0,a.jsx)("p",{children:"Loading profile..."})]})}):j||!o?(0,a.jsx)("div",{className:c().container,children:(0,a.jsxs)("div",{className:c().errorAlert,children:[(0,a.jsx)("p",{children:j||"User not found"}),(0,a.jsx)(s(),{href:"/",className:c().backLink,children:"Back to home"})]})}):(0,a.jsxs)("div",{className:c()["three-column-layout"],children:[(0,a.jsxs)("aside",{className:c()["left-sidebar"],children:[(0,a.jsx)("div",{className:c()["sidebar-header"],children:(0,a.jsx)("div",{className:c().logo,children:"Journalite"})}),(0,a.jsxs)("nav",{className:c()["vertical-nav"],children:[(0,a.jsxs)(s(),{href:"/",className:"".concat(c()["nav-link"]," ").concat(c()["nav-home"]),children:[(0,a.jsx)("span",{className:c()["nav-icon"],children:"•"}),(0,a.jsx)("span",{className:c()["nav-text"],children:"Home"})]}),(0,a.jsxs)(s(),{href:"/explore",className:"".concat(c()["nav-link"]," ").concat(c()["nav-explore"]),children:[(0,a.jsx)("span",{className:c()["nav-icon"],children:"•"}),(0,a.jsx)("span",{className:c()["nav-text"],children:"Explore"})]})]})]}),(0,a.jsxs)("main",{className:c()["center-column"],children:[(0,a.jsxs)("div",{className:c().profileHeader,children:[(0,a.jsx)("div",{className:c().profileAvatar,children:(0,a.jsxs)("div",{className:c().avatarPlaceholder,children:[o.firstName.charAt(0),o.lastName.charAt(0)]})}),(0,a.jsxs)("div",{className:c().profileInfo,children:[(0,a.jsxs)("div",{className:"flex justify-between items-start w-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:c().profileName,children:[o.firstName," ",o.lastName]}),(0,a.jsxs)("p",{className:c().profileUsername,children:["@",o.username]})]}),(0,a.jsx)(h.A,{targetUserId:o.uid,targetUsername:o.username})]}),(0,a.jsxs)("div",{className:"flex space-x-6 mt-3",children:[(0,a.jsxs)(s(),{href:"/user/".concat(t,"/followers"),className:"text-sm hover:underline focus:outline-none",children:[(0,a.jsx)("span",{className:"font-semibold",children:o.followersCount||0})," Followers"]}),(0,a.jsxs)(s(),{href:"/user/".concat(t,"/following"),className:"text-sm hover:underline focus:outline-none",children:[(0,a.jsx)("span",{className:"font-semibold",children:o.followingCount||0})," Following"]})]}),o.bio&&(0,a.jsx)("div",{className:c().profileBio,children:(0,a.jsx)("p",{children:o.bio})})]})]}),(0,a.jsxs)("div",{className:c().profileContent,children:[(0,a.jsxs)("h2",{className:c().sectionHeading,children:["Articles by ",o.firstName]}),i.length>0?(0,a.jsx)("div",{className:c()["article-grid"],children:i.map(e=>(0,a.jsxs)(s(),{href:"/articles?slug=".concat(e.slug),className:c()["article-card"],children:[e.coverImage&&(0,a.jsx)("div",{className:c()["article-image"],children:(0,a.jsx)(m.default,{src:e.coverImage,alt:e.title,width:300,height:180,style:{objectFit:"cover",width:"100%",height:"100%"}})}),(0,a.jsxs)("div",{className:c()["article-content"],children:[(0,a.jsx)("h3",{className:c()["article-title"],children:e.title}),(0,a.jsx)("div",{className:c()["article-meta"],children:(0,a.jsx)("span",{children:f(e.createdAt.toDate())})}),(0,a.jsxs)("p",{className:c()["article-excerpt"],children:[x(e.body).substring(0,150),"..."]})]})]},e.id))}):(0,a.jsx)("div",{className:c().emptyState,children:(0,a.jsx)("p",{children:"No articles published yet."})})]})]}),(0,a.jsxs)("aside",{className:c()["right-sidebar"],children:[(0,a.jsx)("h2",{className:c()["sidebar-heading"],children:"About"}),(0,a.jsx)("div",{className:c().sidebarSection,children:(0,a.jsxs)("p",{children:["Member since ",v]})}),(0,a.jsxs)("div",{className:c().sidebarSection,children:[(0,a.jsx)("h3",{className:c()["sidebar-subheading"],children:"Followers"}),(0,a.jsx)(u,{userId:o.uid,maxDisplay:5,username:t})]}),(0,a.jsxs)("div",{className:c().sidebarSection,children:[(0,a.jsx)("h3",{className:c()["sidebar-subheading"],children:"Following"}),(0,a.jsx)(p,{userId:o.uid,maxDisplay:5,username:t})]}),(0,a.jsx)(s(),{href:"/",className:c()["write-button"],children:"Home"})]})]})}},2306:(e,t,o)=>{Promise.resolve().then(o.bind(o,1661))},8163:e=>{e.exports={"article-page":"home_article-page__CJrzD","three-column-layout":"home_three-column-layout__x41EQ","left-sidebar":"home_left-sidebar__MaSov",collapsed:"home_collapsed__2_VdN","sidebar-header":"home_sidebar-header__4tIx3",logo:"home_logo__fwoF8","toggle-button":"home_toggle-button__sVP2W","vertical-nav":"home_vertical-nav__Cj0En","nav-home":"home_nav-home__X8XEK","nav-icon":"home_nav-icon__yM4nn","nav-thoughts":"home_nav-thoughts__0rfq1","nav-explore":"home_nav-explore__bcQBn","nav-profile":"home_nav-profile__WAAem","nav-settings":"home_nav-settings__0w_SC","nav-logout":"home_nav-logout__MCaXq","nav-login":"home_nav-login__1lQUW","nav-signup":"home_nav-signup__8EtSK","nav-learn":"home_nav-learn__M1FC_","nav-plans":"home_nav-plans__c9i07","nav-link":"home_nav-link__6kEPW","nav-text":"home_nav-text__B7jdN",active:"home_active__S0jaV","sidebar-footer":"home_sidebar-footer__Fj8FR","sidebar-collapse-button":"home_sidebar-collapse-button__W3ZL0","center-column":"home_center-column__eaxY9",expanded:"home_expanded__mJRm4",loading:"home_loading__D6__B","prompt-banner":"home_prompt-banner__xFQFU","prompt-icon":"home_prompt-icon__9eWo_","prompt-text":"home_prompt-text__P3NSJ","prompt-button":"home_prompt-button__z8a6r","featured-card":"home_featured-card__r3SXe","featured-content":"home_featured-content__gbOMz","featured-image":"home_featured-image__3DBbZ","cover-image":"home_cover-image___ZInI","featured-label":"home_featured-label__z2IzP","featured-title":"home_featured-title__qNCn0","featured-meta":"home_featured-meta__Lq6uD","featured-excerpt":"home_featured-excerpt__dhAPX","read-link":"home_read-link___6ZMN","article-grid":"home_article-grid__mC5EI","article-card":"home_article-card__fzb4w","article-title":"home_article-title__toAvL","article-meta":"home_article-meta__9UhXG","article-excerpt":"home_article-excerpt__kuCuZ","article-tags":"home_article-tags__VxN88",tag:"home_tag__LEtq4","reaction-bar":"home_reaction-bar__Y0gsv","reaction-button":"home_reaction-button__KLD0h","reaction-icon":"home_reaction-icon__vhB0y","right-sidebar":"home_right-sidebar__e_5Hr","sidebar-heading":"home_sidebar-heading__lega4","tag-list":"home_tag-list__fgeEi","trending-tag":"home_trending-tag__0awB8","write-button":"home_write-button__Gowtg","edit-button":"home_edit-button__RsQLX","quote-card":"home_quote-card__LAcHm","quote-tag":"home_quote-tag__AukSw","article-container":"home_article-container__RCmcS","article-header":"home_article-header__mdTUd","article-content":"home_article-content__HUOVu","article-paragraph":"home_article-paragraph__6t7oy","article-cover-image":"home_article-cover-image__KDspQ",header:"home_header__PUC5f",hero:"home_hero__3iLRs","hero-title":"home_hero-title__tuN3q","hero-subtitle":"home_hero-subtitle__cyiJZ","cta-button":"home_cta-button__X8xB1","main-grid":"home_main-grid__qFsbA","section-title":"home_section-title__wEK3N","article-tag":"home_article-tag__m6NuJ","author-info":"home_author-info__Xw67P","author-avatar":"home_author-avatar__kBH_g","author-name":"home_author-name__vEgN7",topics:"home_topics__lPwTP","topic-tag":"home_topic-tag__LL122","trending-list":"home_trending-list__YinkY",writers:"home_writers__2u4IP","writer-item":"home_writer-item__1jEW3","writer-info":"home_writer-info__OG3R7","writer-avatar":"home_writer-avatar__b69xH","writer-name":"home_writer-name__McEqt","follow-button":"home_follow-button__UX_LS",features:"home_features__Uc1bS","feature-title":"home_feature-title__9pzGT","feature-desc":"home_feature-desc__jOby5",footer:"home_footer__1HL_E","menu-overlay":"home_menu-overlay__S__PE",fadeIn:"home_fadeIn__uLm0f",articleFormContainer:"home_articleFormContainer__DSMnb",articleFormHeader:"home_articleFormHeader__yeH26",articleFormTitle:"home_articleFormTitle__B11fv",articleFormSubtitle:"home_articleFormSubtitle__XZLCa",articleForm:"home_articleForm__qtKbt",formGroup:"home_formGroup__dX_8o",formLabel:"home_formLabel__qdIcu",optionalLabel:"home_optionalLabel__U0gvl",formControl:"home_formControl__Cf48C",formTextarea:"home_formTextarea__tVyby",formActions:"home_formActions__BdMyR",cancelButton:"home_cancelButton__docpL",submitButton:"home_submitButton__gVGwS",errorAlert:"home_errorAlert__tVY_A",errorIcon:"home_errorIcon__gc9ZB",imagePreview:"home_imagePreview__zqwvQ",tagsPreview:"home_tagsPreview__V6lf7",container:"home_container__TLSt1","writing-tips":"home_writing-tips__2ODsS","writing-tip":"home_writing-tip__dmGLE",loginLink:"home_loginLink__imUQF",discussionSection:"home_discussionSection__0Ifpl",discussionTitle:"home_discussionTitle__O3EuW",commentForm:"home_commentForm__zAQrR",commentInputContainer:"home_commentInputContainer__gKx6N",commentAvatar:"home_commentAvatar__T8zJ0",replyAvatar:"home_replyAvatar___kB3f",commentInputWrapper:"home_commentInputWrapper__hxZkN",commentInput:"home_commentInput__uUtg_",replyInput:"home_replyInput__rYKdQ",commentActions:"home_commentActions__OO9jZ",replyActions:"home_replyActions__p9B_f",submitReplyButton:"home_submitReplyButton__BdUJ2",cancelReplyButton:"home_cancelReplyButton__XvM8F",loginPrompt:"home_loginPrompt__w4N0u",loginPromptButtons:"home_loginPromptButtons__snC_B",loginButton:"home_loginButton__YS1MQ",closePromptButton:"home_closePromptButton__QYTJ8",errorMessage:"home_errorMessage__9Ki1b",loadingSpinner:"home_loadingSpinner__peANt",spin:"home_spin__D0mwY",noComments:"home_noComments__850HV",commentsList:"home_commentsList__fRn9g",commentItem:"home_commentItem__L5fNy",commentHeader:"home_commentHeader___Zk6a",replyHeader:"home_replyHeader__f7TaG",commentMeta:"home_commentMeta__MJRA8",replyMeta:"home_replyMeta__ve_YC",commentAuthor:"home_commentAuthor__HPgNT",replyAuthor:"home_replyAuthor__2Brdn",commentDate:"home_commentDate__VBAuX",replyDate:"home_replyDate__y0RtU",commentContent:"home_commentContent__uzL9r",replyContent:"home_replyContent__HFiXM",commentControls:"home_commentControls__ebC_D",likeButton:"home_likeButton__gtW9b",replyButton:"home_replyButton__e_FYj",toggleRepliesButton:"home_toggleRepliesButton__UC2Rk",deleteButton:"home_deleteButton__VEIPc",liked:"home_liked__LMNuR",replyForm:"home_replyForm__CpHFF",replyInputContainer:"home_replyInputContainer__3_T0M",repliesList:"home_repliesList__TjSoC",replyItem:"home_replyItem__TadHa",profileHeader:"home_profileHeader__N2hD3",profileAvatar:"home_profileAvatar__zAfHf",avatarPlaceholder:"home_avatarPlaceholder__mh9Xc",profileInfo:"home_profileInfo__tQtas",profileName:"home_profileName__7mtlO",profileUsername:"home_profileUsername__ACE_Q",profileBio:"home_profileBio__pKxZ3",sectionHeading:"home_sectionHeading__F_a8F",profileContent:"home_profileContent__a6u08",emptyState:"home_emptyState__0oCVS",sidebarSection:"home_sidebarSection__cyQHn",backLink:"home_backLink__Anavd","article-image":"home_article-image__mOEoE",searchContainer:"home_searchContainer__NcXe2",searchInputWrapper:"home_searchInputWrapper__jDfiT",searchInput:"home_searchInput__D6QYE",clearSearchButton:"home_clearSearchButton__XEPTo",searchResultsContainer:"home_searchResultsContainer__aOrYe",searchResultsTitle:"home_searchResultsTitle__KjT7N",backToAllButton:"home_backToAllButton__ShJnS",searchResults:"home_searchResults__sWgqy",searchResultItem:"home_searchResultItem__CuGQu",searchResultAvatar:"home_searchResultAvatar__QRukz",adminAvatar:"home_adminAvatar__5I7Wp",developerAvatar:"home_developerAvatar__YWLjR",userAvatar:"home_userAvatar__sJEnc",searchResultInfo:"home_searchResultInfo__vOptx",searchResultName:"home_searchResultName__yMZVz",searchResultUsername:"home_searchResultUsername__oQ4tk",searchResultRole:"home_searchResultRole__E5rB8",searchResultRoleAdmin:"home_searchResultRoleAdmin__58nmi",searchResultRoleDeveloper:"home_searchResultRoleDeveloper__D6KaE",searchResultRoleUser:"home_searchResultRoleUser__P_B5t",roleTag:"home_roleTag__X3nyq",noResults:"home_noResults__VKSke",searchBarContainer:"home_searchBarContainer__p1hA_",sidebarSearch:"home_sidebarSearch__rSKxe",tabContainer:"home_tabContainer__WiCFt",tabButton:"home_tabButton___0LSM",activeTab:"home_activeTab___peId",docsContainer:"home_docsContainer__uFnrg",userManagementContainer:"home_userManagementContainer__d8zKX",sectionTitle:"home_sectionTitle___LoW8",statsContainer:"home_statsContainer__Ecxt0",statBox:"home_statBox__sOuzf",statNumber:"home_statNumber__0HaRO",statLabel:"home_statLabel___lx3s",usersTableContainer:"home_usersTableContainer__xgtQE",usersTable:"home_usersTable__UQjnE",roleSelect:"home_roleSelect__85R__",documentationContainer:"home_documentationContainer__3hhXs",docSidebar:"home_docSidebar__NjNVF",docSearchContainer:"home_docSearchContainer__2oA__",docSearchInput:"home_docSearchInput__YwfD7",docNav:"home_docNav__TyBYN",docNavItem:"home_docNavItem__wzbPN",docNavItemActive:"home_docNavItemActive__2G1E0",docContent:"home_docContent__HO1_Q",docTitle:"home_docTitle__IElVr",docSubheading:"home_docSubheading__qezFR",docText:"home_docText__pOq_f",codeBlock:"home_codeBlock__2XLSi",codeBlockContainer:"home_codeBlockContainer__m8biO",codeLineNumbers:"home_codeLineNumbers___g0z3",codeContent:"home_codeContent__8Ufq0",keyword:"home_keyword__xcIYJ",string:"home_string__IDzCq",comment:"home_comment___nq3w",function:"home_function__lPtv4",type:"home_type__Ot2EV",variable:"home_variable__V9b_I",number:"home_number__EdK6u",operator:"home_operator__4A6PV",copyButton:"home_copyButton__FJrSq",alertInfo:"home_alertInfo__DNxOh",alertWarning:"home_alertWarning__h5lMU",alertSuccess:"home_alertSuccess__VNous",userTableCell:"home_userTableCell__EfMXq","tag-header":"home_tag-header__V7Fnc",highlight:"home_highlight__wsiMU","tag-description":"home_tag-description___G1Ky","back-link":"home_back-link__nWn7j","no-results":"home_no-results__lv_Xi","explore-header":"home_explore-header__EECf8","explore-title":"home_explore-title__FCgPB","explore-subtitle":"home_explore-subtitle__n2Hy_","explore-container":"home_explore-container__RUVLK","explore-section":"home_explore-section__kWWcA","featured-articles-grid":"home_featured-articles-grid__Fow9u","feature-large":"home_feature-large__V74KX","tags-selector":"home_tags-selector__Bw1Pi","tag-button":"home_tag-button__xESQB","tag-button-active":"home_tag-button-active__cuvxR"}},9299:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});var a=o(5155),r=o(2115),n=o(5695),s=o(6203),_=o(3201),l=o(4744);let i=e=>{let{targetUserId:t,targetUsername:o,className:i=""}=e,[c,m]=(0,r.useState)(null),[h,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!0),[f,g]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1),b=(0,n.useRouter)();if((0,r.useEffect)(()=>{let e=(0,s.hg)(_.j2,async e=>{if(e){m(e.uid);try{let o=await (0,l.E$)(e.uid,t);d(o)}catch(e){console.error("Error checking follow status:",e)}finally{p(!1)}}else m(null),p(!1)});return()=>e()},[t]),(0,r.useEffect)(()=>{let e;return x&&(e=setTimeout(()=>{v(!1)},3e3)),()=>{e&&clearTimeout(e)}},[x]),c===t)return null;let N=async()=>{if(!c)return void b.push("/login");g(!0);try{h?(await (0,l.Qt)(c,t),d(!1)):(await (0,l.pV)(c,t),d(!0),v(!0))}catch(e){console.error("Error with follow/unfollow action:",e)}finally{g(!1)}},y="px-4 py-2 rounded-full text-sm font-medium transition-colors",j="".concat(h?"".concat(y," bg-white text-gray-800 border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2"):"".concat(y," bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2")," ").concat(i);return u?(0,a.jsx)("button",{className:"".concat(y," bg-gray-200 text-gray-400 cursor-not-allowed ").concat(i),disabled:!0,children:"Loading..."}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:N,disabled:f,className:j,"aria-label":h?"Unfollow ".concat(o):"Follow ".concat(o),children:f?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h?"Unfollowing...":"Following..."]}):(0,a.jsx)("span",{children:h?"Following":"Follow"})}),x&&(0,a.jsxs)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-gray-800 text-white text-xs rounded py-1 px-2 pointer-events-none opacity-90 whitespace-nowrap z-10",children:[(0,a.jsx)("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rotate-45 bg-gray-800"}),"Notification sent to ",o]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3450,2992,7158,7117,6874,4212,4744,8441,1684,7358],()=>t(2306)),_N_E=e.O()}]);