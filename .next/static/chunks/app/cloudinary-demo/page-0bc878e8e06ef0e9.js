(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1021],{2607:(e,r,t)=>{Promise.resolve().then(t.bind(t,9781))},5049:(e,r,t)=>{"use strict";t.d(r,{V:()=>o,uploadImageViaAPI:()=>a});let o=async e=>{let r=new FormData;r.append("file",e),r.append("upload_preset","journalite_unsigned");try{let e=await fetch("https://api.cloudinary.com/v1_1/".concat("dwqint9xm","/image/upload"),{method:"POST",body:r});if(!e.ok)throw Error("Failed to upload image");return(await e.json()).secure_url}catch(e){throw console.error("Error uploading image:",e),e}},a=async e=>{let r=new FormData;r.append("file",e);try{let e=await fetch("/api/upload",{method:"POST",body:r});if(!e.ok)throw Error("Failed to upload image");return(await e.json()).secure_url}catch(e){throw console.error("Error uploading image:",e),e}}},5550:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var o=t(5155),a=t(2115),i=t(5049);function n(e){let{onImageInsert:r,onVideoInsert:t,editorRef:n,className:l=""}=e,[s,d]=(0,a.useState)(!1),[p,c]=(0,a.useState)(0),[g,u]=(0,a.useState)(!1),m=(0,a.useRef)(null),h=(0,a.useCallback)(async e=>{if(!e)return;let o=e.type.startsWith("image/"),a=e.type.startsWith("video/");if(!o&&!a)return void alert("Please upload only images or videos");if(e.size>(o?0xa00000:0x6400000))return void alert("File too large. Maximum size: ".concat(o?"10MB":"100MB"));d(!0),c(0);try{let n=setInterval(()=>{c(e=>Math.min(e+10,90))},200),l=await (0,i.uploadImageViaAPI)(e);clearInterval(n),c(100),o?r(l,e.name):a&&t&&t(l),setTimeout(()=>{c(0),d(!1)},500)}catch(e){console.error("Upload failed:",e),alert("Upload failed. Please try again."),d(!1),c(0)}},[r,t]),f=e=>{e.preventDefault(),e.stopPropagation()},x=e=>{var r;e.preventDefault(),e.stopPropagation(),(null==(r=e.dataTransfer)?void 0:r.items)&&e.dataTransfer.items.length>0&&u(!0)},b=e=>{e.preventDefault(),e.stopPropagation(),u(!1)},y=e=>{var r;e.preventDefault(),e.stopPropagation(),u(!1),(null==(r=e.dataTransfer)?void 0:r.files)&&e.dataTransfer.files.length>0&&h(e.dataTransfer.files[0])},v=(0,a.useCallback)(e=>{var r;let t=null==(r=e.clipboardData)?void 0:r.items;if(t){for(let r of Array.from(t))if(r.type.startsWith("image/")){e.preventDefault();let t=r.getAsFile();t&&h(t);break}}},[h]);return a.useEffect(()=>(document.addEventListener("paste",v),()=>document.removeEventListener("paste",v)),[v]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{type:"file",ref:m,onChange:e=>{var r;let t=null==(r=e.target.files)?void 0:r[0];t&&h(t),e.target.value=""},accept:"image/*,video/*",style:{display:"none"}}),g&&(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(59, 130, 246, 0.1)",border:"3px dashed #3B82F6",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",color:"#3B82F6"},onDragEnter:x,onDragLeave:b,onDragOver:f,onDrop:y,children:"Drop your image or video here"}),s&&(0,o.jsxs)("div",{style:{position:"fixed",top:"20px",right:"20px",backgroundColor:"white",padding:"1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1001,minWidth:"200px"},children:[(0,o.jsx)("div",{style:{marginBottom:"0.5rem",fontWeight:"bold"},children:"Uploading..."}),(0,o.jsx)("div",{style:{width:"100%",height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,o.jsx)("div",{style:{width:"".concat(p,"%"),height:"100%",backgroundColor:"#3B82F6",transition:"width 0.3s ease"}})}),(0,o.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:[p,"%"]})]}),(0,o.jsx)("div",{className:l,onDragEnter:x,onDragLeave:b,onDragOver:f,onDrop:y,style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:g?"auto":"none",zIndex:g?999:-1}})]})}},9781:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});var o=t(5155),a=t(2115),i=t(5550);function n(){let[e,r]=(0,a.useState)([]),[t,n]=(0,a.useState)("");return(0,o.jsxs)("div",{style:{maxWidth:"800px",margin:"2rem auto",padding:"2rem"},children:[(0,o.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937",fontFamily:"serif"},children:"\uD83C\uDFAF Cloudinary Image Upload Demo"}),(0,o.jsxs)("div",{style:{background:"linear-gradient(135deg, #f0f9ff 0%, #f7fafc 100%)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem",border:"1px solid rgba(59, 130, 246, 0.1)",position:"relative"},children:[(0,o.jsx)(i.A,{onImageInsert:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r(r=>[...r,e]);let o="\n![".concat(t,"](").concat(e,")\n");n(e=>e+o)},onVideoInsert:e=>{let r="\n[\uD83D\uDCF9 Video: Click to view](".concat(e,")\n");n(e=>e+r)}}),(0,o.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#374151"},children:"Try These Features:"}),(0,o.jsxs)("ul",{style:{listStyle:"none",padding:0,color:"#6b7280",lineHeight:"1.8"},children:[(0,o.jsxs)("li",{children:["\uD83D\uDDB1️ ",(0,o.jsx)("strong",{children:"Drag & Drop:"})," Drag image files anywhere in this area"]}),(0,o.jsxs)("li",{children:["\uD83D\uDCCB ",(0,o.jsx)("strong",{children:"Copy & Paste:"})," Copy images and paste them (Ctrl/Cmd+V)"]}),(0,o.jsxs)("li",{children:["\uD83D\uDCF1 ",(0,o.jsx)("strong",{children:"Mobile Friendly:"})," Works on all devices"]}),(0,o.jsxs)("li",{children:["\uD83D\uDE80 ",(0,o.jsx)("strong",{children:"Real-time Preview:"})," See upload progress instantly"]})]}),(0,o.jsx)("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"rgba(59, 130, 246, 0.05)",borderRadius:"8px",border:"2px dashed rgba(59, 130, 246, 0.2)",textAlign:"center",color:"#6b7280"},children:"Drop your images here or paste from clipboard!"})]}),t&&(0,o.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"2rem",marginBottom:"2rem",border:"1px solid #e5e7eb",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.25rem",marginBottom:"1rem",color:"#374151"},children:"\uD83D\uDCDD Generated Content:"}),(0,o.jsx)("pre",{style:{background:"#f9fafb",padding:"1rem",borderRadius:"8px",overflow:"auto",fontSize:"0.875rem",color:"#374151",fontFamily:"monospace"},children:t})]}),e.length>0&&(0,o.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"2rem",border:"1px solid #e5e7eb",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)"},children:[(0,o.jsx)("h3",{style:{fontSize:"1.25rem",marginBottom:"1rem",color:"#374151"},children:"\uD83D\uDDBC️ Uploaded Images:"}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:e.map((e,r)=>(0,o.jsxs)("div",{style:{borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",transition:"transform 0.3s ease"},children:[(0,o.jsx)("img",{src:e,alt:"Uploaded ".concat(r+1),style:{width:"100%",height:"150px",objectFit:"cover"}}),(0,o.jsxs)("div",{style:{padding:"0.5rem",background:"#f9fafb",fontSize:"0.75rem",color:"#6b7280",textAlign:"center"},children:["Image ",r+1]})]},r))})]}),(0,o.jsxs)("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"16px",padding:"1.5rem",marginTop:"2rem",border:"1px solid rgba(245, 158, 11, 0.2)"},children:[(0,o.jsx)("h4",{style:{fontSize:"1.125rem",marginBottom:"0.5rem",color:"#92400e"},children:"\uD83D\uDCA1 Next Steps:"}),(0,o.jsx)("p",{style:{color:"#a16207",lineHeight:"1.6",margin:0},children:"This demo shows the core functionality. In the actual editor, images will render beautifully inline and users won't see any technical URLs - just gorgeous, Medium-style content!"})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[8441,1684,7358],()=>r(2607)),_N_E=e.O()}]);