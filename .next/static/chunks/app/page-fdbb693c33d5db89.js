(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{2150:e=>{e.exports={overlay:"ShareModal_overlay__mFMD2",fadeIn:"ShareModal_fadeIn__BufZR",modal:"ShareModal_modal__hI3re",scaleUp:"ShareModal_scaleUp__QvIvd",closeButton:"ShareModal_closeButton__cSvPo",title:"ShareModal_title__RnN7z",articlePreview:"ShareModal_articlePreview__cHPE3",articleImage:"ShareModal_articleImage__W3ocW",articleTitlePreview:"ShareModal_articleTitlePreview__yiD9c",articleExcerptPreview:"ShareModal_articleExcerptPreview__uarLq",shareActions:"ShareModal_shareActions__a06HV",copyLinkContainer:"ShareModal_copyLinkContainer__gAJH2",urlInput:"ShareModal_urlInput__GXoUR",copyButton:"ShareModal_copyButton__UmpX1",shareViaText:"ShareModal_shareViaText__rRHkO",socialIcons:"ShareModal_socialIcons__OPqr0"}},3792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(5155),l=a(2115),s=a(6874),n=a.n(s),c=a(8163),i=a.n(c),o=a(3201),d=a(6203),h=a(9210),u=a(350),m=a(9478),p=a(9576),x=a(8126),g=a.n(x);let v={"84b2f82c-1e93-498a-983e-3b30a8379e63":"Samuel Green",user_002:"Alex Martinez","kristen-lee-id":"Kristen Lee","alex-wen-id":"Alex Wen","hannah-cole-id":"Hannah Cole"},j=e=>({_id:e.id||"",title:e.title,slug:e.slug||e.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-"),authorId:e.authorId,authorName:e.authorName,coverImageUrl:e.coverImage||null,tags:e.tags,content:[{paragraphId:"p1",text:e.body,likes:[],comments:[]}],likes:[],reposts:[],comments:[],createdAt:e.createdAt.toDate().toISOString(),updatedAt:e.createdAt.toDate().toISOString()});function f(){let[e,t]=(0,l.useState)([]),[a,s]=(0,l.useState)(null),[c,x]=(0,l.useState)(!0),[f,w]=(0,l.useState)(!0),[_,N]=(0,l.useState)(!1),[b,C]=(0,l.useState)(window.innerWidth),[y,S]=(0,l.useState)(!1),[I,k]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=(0,d.hg)(o.j2,e=>{N(!!e)});return()=>e()},[]),(0,l.useEffect)(()=>{let e=()=>{C(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{w(b<768)},[b]),(0,l.useEffect)(()=>{(async()=>{try{x(!0);let e=await (0,h.GE)({limit:50});if(console.log("Articles fetched from Firestore:",e.length),e&&e.length>0){let a=e.map(j);console.log("Adapted articles:",a.length),a.length>0?(s(a[0]),t(a.length>1?a.slice(1):[]),console.log("Articles in grid:",a.length>1?a.length-1:0)):(s(null),t([]))}else s(null),t([])}catch(e){console.error("Error fetching articles:",e),s(null),t([])}finally{x(!1)}})()},[]);let M=e=>e.authorName?e.authorName:e.authorId&&v[e.authorId]||"",A=e=>e&&Array.isArray(e)&&Math.ceil(e.reduce((e,t)=>e+(t&&t.text?t.text.split(" ").length:0),0)/200)||1,L=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;if(e.excerpt)return e.excerpt;let r=e.content;if(!r||!Array.isArray(r)||0===r.length)return"";let l=(null==(t=r[0])?void 0:t.text)||"",s=l.includes("<")&&l.includes(">")?(e=>{let t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""})(l):l;return s.length<=a?s:s.substring(0,a).trim()+"..."},U=()=>{w(!f)},E=async()=>{try{await (0,d.CI)(o.j2)}catch(e){}},P=e=>{k({title:e.title,slug:e.slug,coverImageUrl:e.coverImageUrl,excerpt:L(e,100)}),S(!0)},[R,T]=(0,l.useState)("");return(0,l.useEffect)(()=>{T(window.location.origin)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g(),{children:I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{property:"og:title",content:I.title}),(0,r.jsx)("meta",{property:"og:description",content:I.excerpt||"Read this article on Journalite."}),(0,r.jsx)("meta",{property:"og:image",content:I.coverImageUrl||"/default-image.jpg"}),(0,r.jsx)("meta",{property:"og:url",content:"https://mvp.journalite.app/articles?slug=".concat(encodeURIComponent(I.slug))}),(0,r.jsx)("meta",{property:"og:type",content:"article"})]})}),(0,r.jsxs)("div",{className:i()["three-column-layout"],children:[b<768&&!f&&(0,r.jsx)("div",{className:"".concat(i()["menu-overlay"]," ").concat(i().active),onClick:U}),(0,r.jsx)(m.A,{isAuthenticated:_,handleLogout:E,toggleSidebar:U,isSidebarCollapsed:f}),b<768&&(0,r.jsx)("button",{className:i()["toggle-button"],onClick:U,"aria-label":f?"Expand sidebar":"Collapse sidebar",children:f?"☰":"✕"}),(0,r.jsxs)("main",{className:"".concat(i()["center-column"]," ").concat(f&&b>=768?i().expanded:""),children:[(0,r.jsxs)("div",{className:i()["prompt-banner"],children:[(0,r.jsx)("div",{className:i()["prompt-icon"],children:"\uD83D\uDCA1"}),(0,r.jsx)("div",{className:i()["prompt-text"],children:"What's an idea that changed your life?"}),(0,r.jsx)(n(),{href:"/write",className:i()["prompt-button"],children:"Write now →"})]}),c?(0,r.jsx)("div",{className:i().loading,children:"Loading articles..."}):(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsxs)("article",{className:i()["featured-card"],children:[(0,r.jsxs)("div",{className:i()["featured-content"],children:[(0,r.jsx)("div",{className:i()["featured-label"],children:"FEATURED THOUGHT"}),(0,r.jsx)("h2",{className:i()["featured-title"],children:a.title}),(0,r.jsxs)("div",{className:i()["featured-meta"],children:["by ",M(a)," • ",A(a.content)," min read"]}),(0,r.jsx)("p",{className:i()["featured-excerpt"],children:L(a)}),(0,r.jsx)(n(),{href:"/articles?slug=".concat(encodeURIComponent(a.slug)),className:i()["read-link"],children:"Read →"})]}),a.coverImageUrl&&(0,r.jsx)("div",{className:i()["featured-image"],children:(0,r.jsx)("img",{src:a.coverImageUrl,alt:a.title,className:i()["cover-image"]})})]}),(0,r.jsx)("div",{className:i()["article-grid"],children:e.map((e,t)=>(0,r.jsxs)("article",{className:i()["article-card"],children:[(0,r.jsx)("h3",{className:i()["article-title"],children:e.title}),(0,r.jsxs)("div",{className:i()["article-meta"],children:["by ",M(e)," • ",A(e.content)," min read"]}),(e.excerpt||e.content&&e.content.length>0)&&(0,r.jsx)("p",{className:i()["article-excerpt"],children:L(e)}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:i()["article-tags"],children:e.tags.map((t,a)=>(0,r.jsxs)(n(),{href:"/tag/".concat(t.toLowerCase()),className:i().tag,children:["#",t]},"".concat(e.slug,"-tag-").concat(a)))}),(0,r.jsxs)("div",{className:i()["reaction-bar"],children:[(0,r.jsx)("button",{className:i()["reaction-button"],"aria-label":"Like article",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})}),(0,r.jsx)("button",{className:i()["reaction-button"],"aria-label":"Share article",onClick:()=>P(e),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"})})}),(0,r.jsx)("button",{className:i()["reaction-button"],"aria-label":"Comment on article",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})})}),(0,r.jsx)(n(),{href:"/articles?slug=".concat(encodeURIComponent(e.slug)),className:i()["read-link"],children:"Read →"})]})]},e._id||e.slug||"article-".concat(t)))})]})]}),(0,r.jsxs)("aside",{className:i()["right-sidebar"],children:[(0,r.jsx)("h2",{className:i()["sidebar-heading"],children:"Trending"}),_&&(0,r.jsx)(u.A,{}),(0,r.jsx)("div",{className:i()["tag-list"],children:["Journalism","Technology","Politics","Science","Culture"].map(e=>(0,r.jsxs)(n(),{href:"/tag/".concat(e.toLowerCase()),className:i()["trending-tag"],children:["# ",e]},e))}),(0,r.jsx)(n(),{href:"/write",className:i()["write-button"],children:"Write"})]}),I&&(0,r.jsx)(p.A,{isOpen:y,onClose:()=>{S(!1),k(null)},articleTitle:I.title,articleUrl:"https://mvp.journalite.app/articles?slug=".concat(encodeURIComponent(I.slug)),coverImageUrl:I.coverImageUrl,excerpt:I.excerpt})]})]})}},5689:(e,t,a)=>{Promise.resolve().then(a.bind(a,3792))},8126:(e,t)=>{"use strict";function a(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9576:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(5155),l=a(2115),s=a(2150),n=a.n(s);let c=e=>{let{articleTitle:t,articleUrl:a,isOpen:s,onClose:c,coverImageUrl:i,excerpt:o}=e,[d,h]=(0,l.useState)(!1);if((0,l.useEffect)(()=>s?(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}):void h(!1),[s]),!s)return null;let u="https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(a),"&text=").concat(encodeURIComponent(t)),m="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(a)),p="https://www.linkedin.com/shareArticle?mini=true&url=".concat(encodeURIComponent(a),"&title=").concat(encodeURIComponent(t));return(0,r.jsx)("div",{className:n().overlay,onClick:c,children:(0,r.jsxs)("div",{className:n().modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{className:n().closeButton,onClick:c,"aria-label":"Close share dialog",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("h2",{className:n().title,children:"Share this article"}),(0,r.jsxs)("div",{className:n().articlePreview,children:[i&&(0,r.jsx)("img",{src:i,alt:t,className:n().articleImage}),(0,r.jsx)("h3",{className:n().articleTitlePreview,children:t}),o&&(0,r.jsx)("p",{className:n().articleExcerptPreview,children:o})]}),(0,r.jsxs)("div",{className:n().shareActions,children:[(0,r.jsxs)("div",{className:n().copyLinkContainer,children:[(0,r.jsx)("input",{type:"text",value:a,readOnly:!0,className:n().urlInput}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(a).then(()=>{h(!0),setTimeout(()=>h(!1),2e3)}).catch(e=>{console.error("Failed to copy: ",e)})},className:n().copyButton,children:d?"Copied!":"Copy Link"})]}),(0,r.jsx)("p",{className:n().shareViaText,children:"Or share via:"}),(0,r.jsxs)("div",{className:n().socialIcons,children:[(0,r.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer","aria-label":"Share on Twitter",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733a4.67 4.67 0 002.048-2.578 9.3 9.3 0 01-2.958 1.13 4.66 4.66 0 00-7.952 4.256c-3.873 0-7.307-2.05-9.602-4.868a4.662 4.662 0 001.443 6.225 4.656 4.656 0 01-2.11-.583v.06a4.657 4.657 0 003.734 4.562 4.634 4.634 0 01-2.105.08 4.646 4.646 0 004.34 3.225A9.342 9.342 0 010 19.539a13.186 13.186 0 007.141 2.093c8.567 0 13.255-7.098 13.255-13.254 0-.202-.005-.403-.014-.602a9.49 9.49 0 002.323-2.394z"})})}),(0,r.jsx)("a",{href:m,target:"_blank",rel:"noopener noreferrer","aria-label":"Share on Facebook",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878V14.89h-2.89v-2.98h2.89v-2.28c0-2.874 1.704-4.48 4.356-4.48 1.247 0 2.31.093 2.622.134v2.596h-1.54c-1.394 0-1.666.664-1.666 1.632v2.14h2.886l-.39 2.98h-2.496v7.008C18.343 21.128 22 16.991 22 12z"})})}),(0,r.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer","aria-label":"Share on LinkedIn",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3450,2992,7158,7117,6874,4744,4692,2091,8441,1684,7358],()=>t(5689)),_N_E=e.O()}]);