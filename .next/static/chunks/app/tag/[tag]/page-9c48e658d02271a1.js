(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6296],{177:(e,t,a)=>{"use strict";a.d(t,{default:()=>b});var s=a(5155),r=a(2115),n=a(6874),i=a.n(n),c=a(8163),l=a.n(c),o=a(3201),d=a(6203),h=a(350),u=a(9478),g=a(9210);let m=e=>({_id:e.id||"",title:e.title,slug:e.slug||"",authorId:e.authorId,authorName:e.authorName||"Unknown Author",coverImageUrl:e.coverImage,tags:e.tags,content:[{paragraphId:"p1",text:e.body,likes:[],comments:[]}],likes:[],reposts:[],comments:[],createdAt:e.createdAt.toDate().toISOString(),updatedAt:e.createdAt.toDate().toISOString()}),x=e=>e.authorName||"Unknown Author",j=e=>{let t=Math.ceil((e?e.split(/\s+/).length:0)/200);return t<1?1:t},N=e=>{let t=e.content&&e.content.length>0?e.content[0].text:e.excerpt||"";return t.length>150?t.substring(0,150)+"...":t};function b(e){let{tag:t}=e,[a,n]=(0,r.useState)([]),[c,b]=(0,r.useState)(!0),[p,w]=(0,r.useState)(null),[v,f]=(0,r.useState)(!1),[k,A]=(0,r.useState)(!1),[C,E]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=(0,d.hg)(o.j2,e=>{f(!!e)});return()=>e()},[]),(0,r.useEffect)(()=>{E(window.innerWidth);let e=()=>{E(window.innerWidth),window.innerWidth<768&&A(!0)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),(0,r.useEffect)(()=>{(async()=>{if(!t){w("No tag specified"),b(!1);return}try{let e=await (0,g.S1)(t);if(0===e.length){n([]),b(!1);return}let a=e.map(m);n(a),b(!1)}catch(e){console.error("Error fetching articles by tag:",e),w("Failed to load articles"),b(!1)}})()},[t]);let S=async()=>{try{await (0,d.CI)(o.j2)}catch(e){console.error("Error signing out:",e)}},D=()=>{A(!k)},y=t?t.charAt(0).toUpperCase()+t.slice(1):"";return(0,s.jsxs)("div",{className:l()["three-column-layout"],children:[C<768&&!k&&(0,s.jsx)("div",{className:"".concat(l()["menu-overlay"]," ").concat(l().active),onClick:D}),(0,s.jsx)(u.A,{isAuthenticated:v,handleLogout:S,toggleSidebar:D,isSidebarCollapsed:k}),C<768&&(0,s.jsx)("button",{className:l()["toggle-button"],onClick:D,"aria-label":k?"Expand sidebar":"Collapse sidebar",children:k?"☰":"✕"}),(0,s.jsxs)("main",{className:l()["center-column"],children:[(0,s.jsx)("div",{className:l()["tag-header"],children:(0,s.jsxs)("h1",{children:["Articles tagged with ",(0,s.jsxs)("span",{className:l().highlight,children:["#",y]})]})}),c?(0,s.jsx)("div",{className:l().loading,children:"Loading articles..."}):p?(0,s.jsxs)("div",{className:l().loading,children:["Error: ",p]}):0===a.length?(0,s.jsxs)("div",{className:l()["no-results"],children:[(0,s.jsx)("p",{children:"No articles found with this tag."}),(0,s.jsx)(i(),{href:"/",className:l()["back-link"],children:"Back to home"})]}):(0,s.jsx)("div",{className:l()["article-grid"],children:a.map((e,t)=>(0,s.jsxs)("article",{className:l()["article-card"],children:[(0,s.jsx)("h3",{className:l()["article-title"],children:e.title}),(0,s.jsxs)("div",{className:l()["article-meta"],children:["by ",x(e)," • ",j(e.content[0].text)," min read"]}),(0,s.jsx)("p",{className:l()["article-excerpt"],children:N(e)}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:l()["article-tags"],children:e.tags.map((t,a)=>(0,s.jsxs)(i(),{href:"/tag/".concat(t.toLowerCase()),className:l().tag,children:["#",t]},"".concat(e.slug,"-tag-").concat(a)))}),(0,s.jsxs)("div",{className:l()["reaction-bar"],children:[(0,s.jsx)("button",{className:l()["reaction-button"],children:"❤️ Echo"}),(0,s.jsx)("button",{className:l()["reaction-button"],children:"\uD83D\uDD01 Resonate"}),(0,s.jsx)("button",{className:l()["reaction-button"],children:"\uD83D\uDCAC Comment"}),(0,s.jsx)(i(),{href:"/articles?slug=".concat(encodeURIComponent(e.slug)),className:l()["read-link"],children:"Read →"})]})]},e._id||e.slug||"article-".concat(t)))})]}),(0,s.jsxs)("aside",{className:l()["right-sidebar"],children:[(0,s.jsx)("h2",{className:l()["sidebar-heading"],children:"About this tag"}),v&&(0,s.jsx)(h.A,{}),(0,s.jsx)("div",{className:l()["tag-description"],children:(0,s.jsxs)("p",{children:["Browsing articles tagged with ",(0,s.jsxs)("strong",{children:["#",y]}),". Discover content related to this topic."]})}),(0,s.jsxs)(i(),{href:"/write",className:l()["write-button"],children:["Write about #",y]}),(0,s.jsx)(i(),{href:"/",className:l()["back-link"],children:"Back to Home"})]})]})}},4815:(e,t,a)=>{Promise.resolve().then(a.bind(a,177))}},e=>{var t=t=>e(e.s=t);e.O(0,[4697,2992,7158,7117,6874,4744,4692,2091,8441,1684,7358],()=>t(4815)),_N_E=e.O()}]);