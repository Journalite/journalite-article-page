(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6296],{5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},6138:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(5155),r=a(2115),n=a(6874),i=a.n(n),c=a(5695),l=a(8163),o=a.n(l),d=a(3201),h=a(6203),u=a(350),g=a(9478),m=a(9210);let x=e=>({_id:e.id||"",title:e.title,slug:e.slug||"",authorId:e.authorId,authorName:e.authorName||"Unknown Author",coverImageUrl:e.coverImage,tags:e.tags,content:[{paragraphId:"p1",text:e.body,likes:[],comments:[]}],likes:[],reposts:[],comments:[],createdAt:e.createdAt.toDate().toISOString(),updatedAt:e.createdAt.toDate().toISOString()}),j=e=>e.authorName||"Unknown Author",N=e=>{let t=Math.ceil((e?e.split(/\s+/).length:0)/200);return t<1?1:t},b=e=>{let t=e.content&&e.content.length>0?e.content[0].text:e.excerpt||"";return t.length>150?t.substring(0,150)+"...":t};function p(){let e=(0,c.useParams)(),t=null==e?void 0:e.tag,[a,n]=(0,r.useState)([]),[l,p]=(0,r.useState)(!0),[f,v]=(0,r.useState)(null),[w,k]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1),[C,E]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=(0,h.hg)(d.j2,e=>{k(!!e)});return()=>e()},[]),(0,r.useEffect)(()=>{E(window.innerWidth);let e=()=>{E(window.innerWidth),window.innerWidth<768&&A(!0)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),(0,r.useEffect)(()=>{(async()=>{if(!t){v("No tag specified"),p(!1);return}try{let e=await (0,m.S1)(t);if(0===e.length){n([]),p(!1);return}let a=e.map(x);n(a),p(!1)}catch(e){console.error("Error fetching articles by tag:",e),v("Failed to load articles"),p(!1)}})()},[t]);let D=async()=>{try{await (0,h.CI)(d.j2)}catch(e){console.error("Error signing out:",e)}},y=()=>{A(!S)},I=t?t.charAt(0).toUpperCase()+t.slice(1):"";return(0,s.jsxs)("div",{className:o()["three-column-layout"],children:[C<768&&!S&&(0,s.jsx)("div",{className:"".concat(o()["menu-overlay"]," ").concat(o().active),onClick:y}),(0,s.jsx)(g.A,{isAuthenticated:w,handleLogout:D,toggleSidebar:y,isSidebarCollapsed:S}),C<768&&(0,s.jsx)("button",{className:o()["toggle-button"],onClick:y,"aria-label":S?"Expand sidebar":"Collapse sidebar",children:S?"☰":"✕"}),(0,s.jsxs)("main",{className:o()["center-column"],children:[(0,s.jsx)("div",{className:o()["tag-header"],children:(0,s.jsxs)("h1",{children:["Articles tagged with ",(0,s.jsxs)("span",{className:o().highlight,children:["#",I]})]})}),l?(0,s.jsx)("div",{className:o().loading,children:"Loading articles..."}):f?(0,s.jsxs)("div",{className:o().loading,children:["Error: ",f]}):0===a.length?(0,s.jsxs)("div",{className:o()["no-results"],children:[(0,s.jsx)("p",{children:"No articles found with this tag."}),(0,s.jsx)(i(),{href:"/",className:o()["back-link"],children:"Back to home"})]}):(0,s.jsx)("div",{className:o()["article-grid"],children:a.map((e,t)=>(0,s.jsxs)("article",{className:o()["article-card"],children:[(0,s.jsx)("h3",{className:o()["article-title"],children:e.title}),(0,s.jsxs)("div",{className:o()["article-meta"],children:["by ",j(e)," • ",N(e.content[0].text)," min read"]}),(0,s.jsx)("p",{className:o()["article-excerpt"],children:b(e)}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:o()["article-tags"],children:e.tags.map((t,a)=>(0,s.jsxs)(i(),{href:"/tag/".concat(t.toLowerCase()),className:o().tag,children:["#",t]},"".concat(e.slug,"-tag-").concat(a)))}),(0,s.jsxs)("div",{className:o()["reaction-bar"],children:[(0,s.jsx)("button",{className:o()["reaction-button"],children:"❤️ Echo"}),(0,s.jsx)("button",{className:o()["reaction-button"],children:"\uD83D\uDD01 Resonate"}),(0,s.jsx)("button",{className:o()["reaction-button"],children:"\uD83D\uDCAC Comment"}),(0,s.jsx)(i(),{href:"/articles?slug=".concat(encodeURIComponent(e.slug)),className:o()["read-link"],children:"Read →"})]})]},e._id||e.slug||"article-".concat(t)))})]}),(0,s.jsxs)("aside",{className:o()["right-sidebar"],children:[(0,s.jsx)("h2",{className:o()["sidebar-heading"],children:"About this tag"}),w&&(0,s.jsx)(u.A,{}),(0,s.jsx)("div",{className:o()["tag-description"],children:(0,s.jsxs)("p",{children:["Browsing articles tagged with ",(0,s.jsxs)("strong",{children:["#",I]}),". Discover content related to this topic."]})}),(0,s.jsxs)(i(),{href:"/write",className:o()["write-button"],children:["Write about #",I]}),(0,s.jsx)(i(),{href:"/",className:o()["back-link"],children:"Back to Home"})]})]})}function f(){return(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading tag page..."}),children:(0,s.jsx)(p,{})})}},7583:(e,t,a)=>{Promise.resolve().then(a.bind(a,6138))}},e=>{var t=t=>e(e.s=t);e.O(0,[4697,2992,7158,7117,6874,4744,4692,2091,8441,1684,7358],()=>t(7583)),_N_E=e.O()}]);