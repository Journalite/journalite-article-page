(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var s=a(5155),r=a(2115),l=a(6874),c=a.n(l),n=a(8163),i=a.n(n),d=a(3201),o=a(6203),h=a(9210),u=a(350),m=a(9478);let g={"84b2f82c-1e93-498a-983e-3b30a8379e63":"Samuel Green",user_002:"Alex Martinez","kristen-lee-id":"Kristen Lee","alex-wen-id":"Alex Wen","hannah-cole-id":"Hannah Cole"},x=e=>({_id:e.id||"",title:e.title,slug:e.slug||e.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-"),authorId:e.authorId,authorName:e.authorName,coverImageUrl:e.coverImage,tags:e.tags,content:[{paragraphId:"p1",text:e.body,likes:[],comments:[]}],likes:[],reposts:[],comments:[],createdAt:e.createdAt.toDate().toISOString(),updatedAt:e.createdAt.toDate().toISOString()});function N(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(null),[n,N]=(0,r.useState)(!0),[j,p]=(0,r.useState)(!0),[f,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(window.innerWidth);(0,r.useEffect)(()=>{let e=(0,o.hg)(d.j2,e=>{v(!!e)});return()=>e()},[]),(0,r.useEffect)(()=>{let e=()=>{w(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{p(b<768)},[b]),(0,r.useEffect)(()=>{(async()=>{try{N(!0);let e=await (0,h.GE)();if(e&&e.length>0){let a=e.map(x);a.length>0?(l(a[0]),t(a.slice(1))):t([])}else t([])}catch(e){console.error("Error fetching articles:",e)}finally{N(!1)}})()},[]);let C=e=>e.authorName?e.authorName:e.authorId&&g[e.authorId]||"",y=e=>e&&Array.isArray(e)&&Math.ceil(e.reduce((e,t)=>e+(t&&t.text?t.text.split(" ").length:0),0)/200)||1,A=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;if(e.excerpt)return e.excerpt;let s=e.content;if(!s||!Array.isArray(s)||0===s.length)return"";let r=(null==(t=s[0])?void 0:t.text)||"";return r.length<=a?r:r.substring(0,a).trim()+"..."},E=()=>{p(!j)},I=async()=>{try{await (0,o.CI)(d.j2)}catch(e){}};return(0,s.jsxs)("div",{className:i()["three-column-layout"],children:[b<768&&!j&&(0,s.jsx)("div",{className:"".concat(i()["menu-overlay"]," ").concat(i().active),onClick:E}),(0,s.jsx)(m.A,{isAuthenticated:f,handleLogout:I,toggleSidebar:E,isSidebarCollapsed:j}),b<768&&(0,s.jsx)("button",{className:i()["toggle-button"],onClick:E,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:j?"☰":"✕"}),(0,s.jsxs)("main",{className:"".concat(i()["center-column"]," ").concat(j&&b>=768?i().expanded:""),children:[(0,s.jsxs)("div",{className:i()["prompt-banner"],children:[(0,s.jsx)("div",{className:i()["prompt-icon"],children:"\uD83D\uDCA1"}),(0,s.jsx)("div",{className:i()["prompt-text"],children:"What's an idea that changed your life?"}),(0,s.jsx)(c(),{href:"/write",className:i()["prompt-button"],children:"Write now →"})]}),n?(0,s.jsx)("div",{className:i().loading,children:"Loading articles..."}):(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsxs)("article",{className:i()["featured-card"],children:[(0,s.jsxs)("div",{className:i()["featured-content"],children:[(0,s.jsx)("div",{className:i()["featured-label"],children:"FEATURED THOUGHT"}),(0,s.jsx)("h2",{className:i()["featured-title"],children:a.title}),(0,s.jsxs)("div",{className:i()["featured-meta"],children:["by ",C(a)," • ",y(a.content)," min read"]}),(0,s.jsx)("p",{className:i()["featured-excerpt"],children:A(a)}),(0,s.jsx)(c(),{href:"/articles?slug=".concat(encodeURIComponent(a.slug)),className:i()["read-link"],children:"Read →"})]}),a.coverImageUrl&&(0,s.jsx)("div",{className:i()["featured-image"],children:(0,s.jsx)("img",{src:a.coverImageUrl,alt:a.title,className:i()["cover-image"]})})]}),(0,s.jsx)("div",{className:i()["article-grid"],children:e.map((e,t)=>(0,s.jsxs)("article",{className:i()["article-card"],children:[(0,s.jsx)("h3",{className:i()["article-title"],children:e.title}),(0,s.jsxs)("div",{className:i()["article-meta"],children:["by ",C(e)," • ",y(e.content)," min read"]}),(e.excerpt||e.content&&e.content.length>0)&&(0,s.jsx)("p",{className:i()["article-excerpt"],children:A(e)}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:i()["article-tags"],children:e.tags.map((t,a)=>(0,s.jsx)("span",{className:i().tag,children:t},"".concat(e.slug,"-tag-").concat(a)))}),(0,s.jsxs)("div",{className:i()["reaction-bar"],children:[(0,s.jsx)("button",{className:i()["reaction-button"],children:"❤️ Echo"}),(0,s.jsx)("button",{className:i()["reaction-button"],children:"\uD83D\uDD01 Resonate"}),(0,s.jsx)("button",{className:i()["reaction-button"],children:"\uD83D\uDCAC Comment"}),(0,s.jsx)(c(),{href:"/articles?slug=".concat(encodeURIComponent(e.slug)),className:i()["read-link"],children:"Read →"})]})]},e._id||e.slug||"article-".concat(t)))})]})]}),(0,s.jsxs)("aside",{className:i()["right-sidebar"],children:[(0,s.jsx)("h2",{className:i()["sidebar-heading"],children:"Trending"}),f&&(0,s.jsx)(u.A,{}),(0,s.jsx)("div",{className:i()["tag-list"],children:["Journalism","Technology","Politics","Science","Culture"].map(e=>(0,s.jsxs)(c(),{href:"/tag/".concat(e.toLowerCase()),className:i()["trending-tag"],children:["# ",e]},e))}),(0,s.jsx)(c(),{href:"/write",className:i()["write-button"],children:"Write"})]})]})}},5689:(e,t,a)=>{Promise.resolve().then(a.bind(a,3792))}},e=>{var t=t=>e(e.s=t);e.O(0,[697,992,158,874,117,692,91,441,684,358],()=>t(5689)),_N_E=e.O()}]);