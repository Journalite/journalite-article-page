(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{5695:(e,a,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(a,{useSearchParams:function(){return r.useSearchParams}})},6379:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var r=s(5155),l=s(2115),t=s(5695),n=s(6874),i=s.n(n),c=s(6203),o=s(3201),d=s(9210),h=s(8163),u=s.n(h);let m=()=>{let[e,a]=(0,l.useState)(""),[s,n]=(0,l.useState)(""),[c,h]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[p,v]=(0,l.useState)("published"),[j,g]=(0,l.useState)(!1),[N,f]=(0,l.useState)(""),b=(0,t.useRouter)(),C=async a=>{if(a.preventDefault(),!e||!s)return void f("Title and content are required");if(!o.j2.currentUser)return void f("You must be logged in to create an article");try{g(!0),f("");let a=c.split(",").map(e=>e.trim()).filter(e=>""!==e),r={title:e,body:s,tags:a,status:p};""!==m.trim()&&(r.coverImage=m);let l=await (0,d.N6)(r);"published"===p?b.push("/articles?slug=".concat(l.slug)):b.push("/my-thoughts")}catch(e){console.error("Error creating article:",e),f("Failed to create article. Please try again.")}finally{g(!1)}};return(0,r.jsxs)("div",{className:u().articleFormContainer,children:[(0,r.jsxs)("div",{className:u().articleFormHeader,children:[(0,r.jsx)("h1",{className:u().articleFormTitle,children:"Create New Article"}),(0,r.jsx)("p",{className:u().articleFormSubtitle,children:"Share your thoughts with the world"})]}),N&&(0,r.jsxs)("div",{className:u().errorAlert,children:[(0,r.jsx)("span",{className:u().errorIcon,children:"⚠️"}),(0,r.jsx)("span",{children:N})]}),(0,r.jsxs)("form",{onSubmit:C,className:u().articleForm,children:[(0,r.jsxs)("div",{className:u().formGroup,children:[(0,r.jsx)("label",{htmlFor:"title",className:u().formLabel,children:"Title"}),(0,r.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>a(e.target.value),required:!0,placeholder:"Enter a captivating title",className:u().formControl})]}),(0,r.jsxs)("div",{className:u().formGroup,children:[(0,r.jsxs)("label",{htmlFor:"coverImage",className:u().formLabel,children:["Cover Image URL ",(0,r.jsx)("span",{className:u().optionalLabel,children:"(optional)"})]}),(0,r.jsx)("input",{type:"url",id:"coverImage",value:m,onChange:e=>x(e.target.value),placeholder:"https://example.com/image.jpg",className:u().formControl}),m&&(0,r.jsx)("div",{className:u().imagePreview,children:(0,r.jsx)("img",{src:m,alt:"Cover preview"})})]}),(0,r.jsxs)("div",{className:u().formGroup,children:[(0,r.jsxs)("label",{htmlFor:"tags",className:u().formLabel,children:["Tags ",(0,r.jsx)("span",{className:u().optionalLabel,children:"(comma separated)"})]}),(0,r.jsx)("input",{type:"text",id:"tags",value:c,onChange:e=>h(e.target.value),placeholder:"technology, news, science",className:u().formControl}),c&&(0,r.jsx)("div",{className:u().tagsPreview,children:c.split(",").map((e,a)=>e.trim()&&(0,r.jsx)("span",{className:u().tag,children:e.trim()},a))})]}),(0,r.jsxs)("div",{className:u().formGroup,children:[(0,r.jsx)("label",{htmlFor:"status",className:u().formLabel,children:"Status"}),(0,r.jsxs)("select",{id:"status",value:p,onChange:e=>v(e.target.value),className:u().formControl,children:[(0,r.jsx)("option",{value:"published",children:"Published"}),(0,r.jsx)("option",{value:"drafts",children:"Save as Draft"})]})]}),(0,r.jsxs)("div",{className:u().formGroup,children:[(0,r.jsx)("label",{htmlFor:"body",className:u().formLabel,children:"Content"}),(0,r.jsx)("textarea",{id:"body",value:s,onChange:e=>n(e.target.value),required:!0,placeholder:"Write your article content here...",className:u().formTextarea,rows:15})]}),(0,r.jsxs)("div",{className:u().formActions,children:[(0,r.jsx)(i(),{href:"/",className:u().cancelButton,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:u().submitButton,disabled:j,children:j?"published"===p?"Publishing...":"Saving...":"published"===p?"Publish Article":"Save as Draft"})]})]})]})};function x(){let[e,a]=(0,l.useState)(!1),[s,n]=(0,l.useState)(!0),[d,h]=(0,l.useState)(!1),[x,p]=(0,l.useState)(0),v=(0,t.useRouter)();(0,l.useEffect)(()=>{p(window.innerWidth);let e=()=>{p(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{h(x<768)},[x]),(0,l.useEffect)(()=>{let e=(0,c.hg)(o.j2,e=>{a(!!e),n(!1),e||v.push("/login?redirect=/create-article")});return()=>e()},[v]);let j=async()=>{try{await (0,c.CI)(o.j2),v.push("/")}catch(e){console.error("Error signing out:",e)}};return s?(0,r.jsx)("div",{className:u().container,children:(0,r.jsx)("div",{className:u().loading,children:"Loading..."})}):e?(0,r.jsxs)("div",{className:u()["three-column-layout"],children:[(0,r.jsxs)("aside",{className:"".concat(u()["left-sidebar"]," ").concat(d?u().collapsed:""),children:[(0,r.jsxs)("div",{className:u()["sidebar-header"],children:[(0,r.jsx)("div",{className:u().logo,children:"Journalite"}),(0,r.jsx)("button",{className:u()["toggle-button"],onClick:()=>{h(!d)},"aria-label":d?"Expand sidebar":"Collapse sidebar",children:d?"→":"←"})]}),(0,r.jsxs)("nav",{className:u()["vertical-nav"],children:[(0,r.jsxs)(i(),{href:"/",className:"".concat(u()["nav-link"]," ").concat(u()["nav-home"]),children:[(0,r.jsx)("span",{className:u()["nav-icon"],children:"•"}),(0,r.jsx)("span",{className:u()["nav-text"],children:"Home"})]}),(0,r.jsxs)(i(),{href:"/my-thoughts",className:"".concat(u()["nav-link"]," ").concat(u()["nav-thoughts"]),children:[(0,r.jsx)("span",{className:u()["nav-icon"],children:"•"}),(0,r.jsx)("span",{className:u()["nav-text"],children:"My Thoughts"})]}),(0,r.jsxs)(i(),{href:"/create-article",className:"".concat(u()["nav-link"]," ").concat(u()["nav-create"]," ").concat(u().active),children:[(0,r.jsx)("span",{className:u()["nav-icon"],children:"•"}),(0,r.jsx)("span",{className:u()["nav-text"],children:"Create Article"})]}),(0,r.jsxs)(i(),{href:"/explore",className:"".concat(u()["nav-link"]," ").concat(u()["nav-explore"]),children:[(0,r.jsx)("span",{className:u()["nav-icon"],children:"•"}),(0,r.jsx)("span",{className:u()["nav-text"],children:"Explore"})]}),(0,r.jsxs)(i(),{href:"/my-profile",className:"".concat(u()["nav-link"]," ").concat(u()["nav-profile"]),children:[(0,r.jsx)("span",{className:u()["nav-icon"],children:"•"}),(0,r.jsx)("span",{className:u()["nav-text"],children:"My Profile"})]}),(0,r.jsxs)("button",{onClick:j,className:"".concat(u()["nav-link"]," ").concat(u()["nav-logout"]),children:[(0,r.jsx)("span",{className:u()["nav-icon"],children:"•"}),(0,r.jsx)("span",{className:u()["nav-text"],children:"Log out"})]})]})]}),(0,r.jsx)("main",{className:"".concat(u()["center-column"]," ").concat(d?u().expanded:""),children:(0,r.jsx)(m,{})}),(0,r.jsxs)("aside",{className:u()["right-sidebar"],children:[(0,r.jsx)("h2",{className:u()["sidebar-heading"],children:"Tips for Writing"}),(0,r.jsxs)("div",{className:u()["writing-tips"],children:[(0,r.jsxs)("div",{className:u()["writing-tip"],children:[(0,r.jsx)("h3",{children:"\uD83D\uDCDD Keep it clear"}),(0,r.jsx)("p",{children:"Use simple language and short paragraphs for better readability."})]}),(0,r.jsxs)("div",{className:u()["writing-tip"],children:[(0,r.jsx)("h3",{children:"\uD83D\uDD0D Check your facts"}),(0,r.jsx)("p",{children:"Ensure your information is accurate and from reliable sources."})]}),(0,r.jsxs)("div",{className:u()["writing-tip"],children:[(0,r.jsx)("h3",{children:"\uD83D\uDCCA Add context"}),(0,r.jsx)("p",{children:"Help readers understand the bigger picture around your topic."})]}),(0,r.jsxs)("div",{className:u()["writing-tip"],children:[(0,r.jsx)("h3",{children:"\uD83D\uDCF8 Visual appeal"}),(0,r.jsx)("p",{children:"Adding a cover image can make your article more engaging."})]})]})]})]}):(0,r.jsxs)("div",{className:u().container,children:[(0,r.jsx)("p",{children:"You must be logged in to create an article."}),(0,r.jsx)(i(),{href:"/login?redirect=/create-article",className:u().loginLink,children:"Login Now"})]})}},8015:(e,a,s)=>{Promise.resolve().then(s.bind(s,6379))}},e=>{var a=a=>e(e.s=a);e.O(0,[779,992,158,117,874,692,441,684,358],()=>a(8015)),_N_E=e.O()}]);