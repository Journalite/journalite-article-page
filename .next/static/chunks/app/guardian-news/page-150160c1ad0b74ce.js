(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3172,8480],{2456:(e,t,a)=>{Promise.resolve().then(a.bind(a,8102))},3172:(e,t,a)=>{"use strict";a.d(t,{guardianService:()=>r});class i{async searchArticles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let r=new URLSearchParams({"api-key":this.apiKey,"show-fields":"headline,standfirst,body,main,thumbnail,byline,trailText,bodyText","show-tags":"contributor,keyword","show-elements":"image,video","page-size":i.toString(),page:a.toString(),"order-by":"newest"});e&&r.append("q",e),t&&r.append("section",t);let s="".concat(this.baseUrl,"/search?").concat(r.toString()),l=await fetch(s);if(!l.ok)throw Error("HTTP error! status: ".concat(l.status));return(await l.json()).response}async getArticleById(e){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let t=new URLSearchParams({"api-key":this.apiKey,"show-fields":"headline,standfirst,body,main,thumbnail,byline,trailText,bodyText","show-tags":"contributor,keyword","show-elements":"image,video"}),a="".concat(this.baseUrl,"/").concat(e,"?").concat(t.toString()),i=await fetch(a);if(!i.ok)throw Error("HTTP error! status: ".concat(i.status));return(await i.json()).response.content}async getSections(){if(!this.apiKey||"YOUR_API_KEY_HERE"===this.apiKey)throw Error("Guardian API key not configured");let e="".concat(this.baseUrl,"/sections?api-key=").concat(this.apiKey),t=await fetch(e);if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return(await t.json()).response.results}convertToArticleFormat(e){var t,a,i,r,s,l,n,o;let d="";(null==(t=e.fields)?void 0:t.standfirst)&&(d+='<div class="article-standfirst" style="font-size: 1.2em; color: #666; font-weight: 400; line-height: 1.4; margin: 0 0 2em 0;">\n        <strong>'.concat(e.fields.standfirst,"</strong>\n      </div>"));let c=(null==(a=e.fields)?void 0:a.body)||(null==(i=e.fields)?void 0:i.bodyText)||"";if(c&&(d+=c=(c=(c=(c=(c=c.replace(/<img([^>]*?)>/g,(e,t)=>"<img ".concat(t,' style="max-width: 100%; height: auto; margin: 2em auto; display: block; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />'))).replace(/<figure([^>]*?)>/g,(e,t)=>"<figure ".concat(t,' style="margin: 2em auto; text-align: center;">'))).replace(/<figcaption([^>]*?)>/g,(e,t)=>"<figcaption ".concat(t,' style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic; text-align: center;">'))).replace(/<video([^>]*?)>/g,(e,t)=>"<video ".concat(t,' style="max-width: 100%; height: auto; margin: 2em auto; display: block; border-radius: 8px;" controls />'))).replace(/<p>\s*<\/p>/g,"")),!(d.includes("<img")||d.includes("<figure"))&&e.elements&&e.elements.length>0){let t=e.elements.find(e=>"image"===e.type&&e.assets&&e.assets.length>0);if(t){let a=t.assets.find(e=>"image"===e.type);if(a){let t=a.typeData.secureFile||a.file,i=a.typeData.alt||a.typeData.caption||e.webTitle,r=a.typeData.caption||"";d='<figure style="margin: 0 0 2em 0; text-align: center;">\n              <img src="'.concat(t,'" alt="').concat(i,'" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />\n              ').concat(r?'<figcaption style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic;">'.concat(r,"</figcaption>"):"","\n            </figure>")+d}}}(null==(r=e.fields)?void 0:r.main)&&!d.includes("<img")&&!d.includes("<figure")&&(d='<figure style="margin: 0 0 2em 0; text-align: center;">\n              <img src="'.concat(e.fields.main,'" alt="').concat(e.webTitle.replace(/"/g,"&quot;"),'" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />\n            </figure>')+d),d+='<div class="original-article-link" style="margin-top: 3em; padding: 1.5em; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 12px; border-left: 4px solid #0066cc; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">\n      <p style="margin: 0; color: #495057;"><em>\uD83D\uDCF0 <strong>Read the complete article at:</strong> <a href="'.concat(e.webUrl,'" target="_blank" rel="noopener noreferrer" style="color: #0066cc; font-weight: 600; text-decoration: none; border-bottom: 1px solid transparent; transition: border-bottom 0.2s ease;" onmouseover="this.style.borderBottom=\'1px solid #0066cc\'" onmouseout="this.style.borderBottom=\'1px solid transparent\'">The Guardian</a></em></p>\n    </div>');let u=(null==(s=e.fields)?void 0:s.byline)||(null==(l=e.tags.find(e=>"contributor"===e.type))?void 0:l.webTitle)||"The Guardian",g=Math.ceil(((null==(n=e.fields)?void 0:n.body)?e.fields.body.replace(/<[^>]*>/g,"").split(/\s+/).length:300)/200),h=[e.sectionName,e.pillarName,...e.tags.filter(e=>"keyword"===e.type).slice(0,3).map(e=>e.webTitle)].filter(Boolean);return{title:(null==(o=e.fields)?void 0:o.headline)||e.webTitle,authorName:u,createdAt:(e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch(t){return console.error("Error formatting date:",t),e}})(e.webPublicationDate),readTime:g,tags:h,authorId:"guardian-api",hasReflectionRoom:!1,html:d}}isConfigured(){return!!(this.apiKey&&"YOUR_API_KEY_HERE"!==this.apiKey)}constructor(){this.baseUrl="https://content.guardianapis.com",this.apiKey="c928b68e-9227-4e28-a734-63f37cbd301b",this.apiKey&&"YOUR_API_KEY_HERE"!==this.apiKey||console.warn("Guardian API key not configured. Please set NEXT_PUBLIC_GUARDIAN_API_KEY in your environment variables.")}}let r=new i},8102:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var i=a(5155),r=a(2115),s=a(6874),l=a.n(s),n=a(3201),o=a(4362),d=a(3487),c=a(8883),u=a(3172);let g=()=>{let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[g,h]=(0,r.useState)(""),[m,p]=(0,r.useState)(null),[b,x]=(0,r.useState)(!1),[f,y]=(0,r.useState)(""),[w,v]=(0,r.useState)(""),j=e=>{if(!e)return"";let t=e.replace(/<[^>]*>/g," ");return(t=(t=(t=t.replace(/\s+/g," ")).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&nbsp;/g," ")).trim()).length>200&&(t=t.substring(0,200)+"..."),t};(0,r.useEffect)(()=>{let e=n.j2.onAuthStateChanged(e=>{p(e),x(!!e)});return()=>e()},[]);let N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{if(s(!0),h(""),!u.guardianService.isConfigured())return void h("Guardian API not configured. Please add your Guardian API key to environment variables.");let i=await u.guardianService.searchArticles(e,a||void 0,1,20);t(i.results)}catch(e){console.error("Error fetching Guardian news:",e),h(e instanceof Error?e.message:"Failed to load Guardian news. Please try again later.")}finally{s(!1)}};(0,r.useEffect)(()=>{N("",w)},[w]);let T=e=>{v(e),y("")};return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,i.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,i.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(l(),{href:"/",className:"text-2xl font-bold text-blue-600",children:"\uD83D\uDDDE️ The Guardian"}),(0,i.jsx)("div",{className:"flex items-center space-x-4",children:b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{}),(0,i.jsx)(d.A,{})]})})]})})}),(0,i.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f.trim()&&N(f,w)},className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:f,onChange:e=>y(e.target.value),placeholder:"Search Guardian articles...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,i.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Search"})]}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"",webTitle:"All"},{id:"world",webTitle:"World"},{id:"politics",webTitle:"Politics"},{id:"business",webTitle:"Business"},{id:"technology",webTitle:"Technology"},{id:"science",webTitle:"Science"},{id:"environment",webTitle:"Environment"},{id:"sport",webTitle:"Sport"},{id:"culture",webTitle:"Culture"}].map(e=>(0,i.jsx)("button",{onClick:()=>T(e.id),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(w===e.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.webTitle},e.id))})]}),g&&(0,i.jsxs)("div",{className:"mb-8 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[g,(0,i.jsxs)("div",{className:"mt-2 text-sm",children:["To use The Guardian API:",(0,i.jsxs)("ol",{className:"list-decimal list-inside mt-1",children:[(0,i.jsxs)("li",{children:["Visit ",(0,i.jsx)("a",{href:"https://open-platform.theguardian.com/access/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"The Guardian Open Platform"})]}),(0,i.jsx)("li",{children:"Register for a free developer key"}),(0,i.jsx)("li",{children:"Add NEXT_PUBLIC_GUARDIAN_API_KEY to your .env.local file"})]})]})]}),a?(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,i.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading Guardian articles..."})]}):(0,i.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{var t,a,r,s,n;return(0,i.jsxs)(l(),{href:"/guardian-news/".concat(e.id),className:"group cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-2xl block",style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(null==(t=e.fields)?void 0:t.thumbnail)&&(0,i.jsxs)("div",{className:"relative overflow-hidden",children:[(0,i.jsx)("img",{src:e.fields.thumbnail,alt:e.webTitle,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110",style:{borderRadius:"20px 20px 0 0"}}),(0,i.jsx)("div",{className:"absolute inset-0",style:{background:"linear-gradient(transparent 60%, rgba(0,0,0,0.2) 100%)"}})]}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,i.jsx)("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-blue-700 rounded-full",style:{background:"rgba(59, 130, 246, 0.15)",backdropFilter:"blur(10px)"},children:e.sectionName}),e.pillarName&&(0,i.jsx)("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-gray-600 rounded-full",style:{background:"rgba(107, 114, 128, 0.15)",backdropFilter:"blur(10px)"},children:e.pillarName})]}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 line-clamp-2 leading-tight",children:(null==(a=e.fields)?void 0:a.headline)||e.webTitle}),(null==(r=e.fields)?void 0:r.standfirst)&&(0,i.jsx)("p",{className:"text-gray-700 text-sm mb-4 line-clamp-3 leading-relaxed",children:j(e.fields.standfirst)}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:(null==(s=e.fields)?void 0:s.byline)||(null==(n=e.tags.find(e=>"contributor"===e.type))?void 0:n.webTitle)||"The Guardian"}),(0,i.jsx)("span",{children:new Date(e.webPublicationDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]})]},e.id)})}),0===e.length&&!a&&!g&&(0,i.jsx)("div",{className:"text-center py-12",children:(0,i.jsx)("p",{className:"text-gray-600",children:"No articles found. Try a different search or section."})})]}),(0,i.jsx)(o.A,{isAuthenticated:b})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1708,5598,8096,4744,6677,920,7358],()=>t(2456)),_N_E=e.O()}]);