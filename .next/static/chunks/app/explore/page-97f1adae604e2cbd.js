(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5314],{2150:e=>{e.exports={overlay:"ShareModal_overlay__mFMD2",fadeIn:"ShareModal_fadeIn__BufZR",modal:"ShareModal_modal__hI3re",scaleUp:"ShareModal_scaleUp__QvIvd",closeButton:"ShareModal_closeButton__cSvPo",title:"ShareModal_title__RnN7z",articlePreview:"ShareModal_articlePreview__cHPE3",articleImage:"ShareModal_articleImage__W3ocW",articleTitlePreview:"ShareModal_articleTitlePreview__yiD9c",articleExcerptPreview:"ShareModal_articleExcerptPreview__uarLq",shareActions:"ShareModal_shareActions__a06HV",copyLinkContainer:"ShareModal_copyLinkContainer__gAJH2",urlInput:"ShareModal_urlInput__GXoUR",copyButton:"ShareModal_copyButton__UmpX1",shareViaText:"ShareModal_shareViaText__rRHkO",socialIcons:"ShareModal_socialIcons__OPqr0"}},3347:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a(5155),l=a(2115),s=a(6874),c=a.n(s),i=a(8163),n=a.n(i),o=a(3201),d=a(6203),h=a(9210),m=a(350),u=a(9478),x=a(9576);let g=e=>({_id:e.id||"",title:e.title,slug:e.slug||e.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-"),authorId:e.authorId,authorName:e.authorName,coverImageUrl:e.coverImage||null,tags:e.tags,content:[{paragraphId:"p1",text:e.body,likes:[],comments:[]}],likes:e.likes||[],reposts:e.reposts||[],comments:e.comments||[],viewCount:e.viewCount||0,createdAt:e.createdAt.toDate().toISOString(),updatedAt:e.updatedAt?e.updatedAt.toDate().toISOString():e.createdAt.toDate().toISOString()});function p(){let[e,t]=(0,l.useState)([]),[a,s]=(0,l.useState)(!0),[i,p]=(0,l.useState)(!0),[v,w]=(0,l.useState)(!1),[j,N]=(0,l.useState)(window.innerWidth),_=["Technology","Writing","Design","Politics","Health","Science"],[f,C]=(0,l.useState)(_[0]),[b,S]=(0,l.useState)(!1),[y,I]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=(0,d.hg)(o.j2,e=>{w(!!e)});return()=>e()},[]),(0,l.useEffect)(()=>{let e=()=>{N(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{p(j<768)},[j]),(0,l.useEffect)(()=>{(async()=>{try{s(!0);let e=await (0,h.GE)({limit:30});if(console.log("Articles fetched from Firestore:",e.length),e&&e.length>0){let a=e.map(g),r=[{id:"featured",name:"Featured Stories",articles:a.slice(0,4)},{id:"trending",name:"Trending Now",articles:[...a].sort((e,t)=>{var a,r;return(t.viewCount||0)+((null==(a=t.likes)?void 0:a.length)||0)-((e.viewCount||0)+((null==(r=e.likes)?void 0:r.length)||0))}).slice(0,6)},{id:"recent",name:"Recently Published",articles:[...a].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).slice(0,8)}];t(r),await k(f)}}catch(e){console.error("Error fetching articles:",e)}finally{s(!1)}})()},[f]);let k=async e=>{try{let a=await (0,h.S1)(e,{limit:6});if(a&&a.length>0){let r=a.map(g);t(t=>{let a=t.findIndex(e=>"byTag"===e.id);if(!(a>=0))return[...t,{id:"byTag",name:"".concat(e," Articles"),articles:r}];{let l=[...t];return l[a]={...l[a],name:"".concat(e," Articles"),articles:r},l}})}}catch(t){console.error("Error fetching articles for tag ".concat(e,":"),t)}},M=e=>e.authorName||"",A=e=>e&&Array.isArray(e)&&Math.ceil(e.reduce((e,t)=>e+(t&&t.text?t.text.split(" ").length:0),0)/200)||1,E=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;if(e.excerpt)return e.excerpt;let r=e.content;if(!r||!Array.isArray(r)||0===r.length)return"";let l=(null==(t=r[0])?void 0:t.text)||"",s=l.includes("<")&&l.includes(">")?(e=>{let t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""})(l):l;return s.length<=a?s:s.substring(0,a).trim()+"..."},L=()=>{p(!i)},T=async()=>{try{await (0,d.CI)(o.j2)}catch(e){}},U=e=>{I({title:e.title,slug:e.slug,coverImageUrl:e.coverImageUrl,excerpt:E(e,100)}),S(!0)},P=e=>{C(e),k(e)};return(0,r.jsxs)("div",{className:n()["three-column-layout"],children:[j<768&&!i&&(0,r.jsx)("div",{className:"".concat(n()["menu-overlay"]," ").concat(n().active),onClick:L}),(0,r.jsx)(u.A,{isAuthenticated:v,handleLogout:T,toggleSidebar:L,isSidebarCollapsed:i}),j<768&&(0,r.jsx)("button",{className:n()["toggle-button"],onClick:L,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:i?"☰":"✕"}),(0,r.jsxs)("main",{className:"".concat(n()["center-column"]," ").concat(i&&j>=768?n().expanded:""),children:[(0,r.jsxs)("div",{className:n()["explore-header"],children:[(0,r.jsx)("h1",{className:n()["explore-title"],children:"Explore"}),(0,r.jsx)("p",{className:n()["explore-subtitle"],children:"Discover stories, ideas, and insights from Journalite writers"})]}),a?(0,r.jsx)("div",{className:n().loading,children:"Loading articles..."}):(0,r.jsxs)("div",{className:n()["explore-container"],children:[e.map(e=>(0,r.jsxs)("section",{className:n()["explore-section"],children:[(0,r.jsx)("h2",{className:n()["section-title"],children:e.name}),(0,r.jsx)("div",{className:"featured"===e.id?n()["featured-articles-grid"]:n()["article-grid"],children:e.articles.map((t,a)=>(0,r.jsxs)("article",{className:"featured"===e.id&&0===a?n()["feature-large"]:n()["article-card"],children:[t.coverImageUrl&&(0,r.jsx)("div",{className:n()["article-image"],children:(0,r.jsx)("img",{src:t.coverImageUrl,alt:t.title,className:n()["cover-image"]})}),(0,r.jsxs)("div",{className:n()["article-content"],children:[(0,r.jsx)("h3",{className:n()["article-title"],children:t.title}),(0,r.jsxs)("div",{className:n()["article-meta"],children:["by ",M(t)," • ",A(t.content)," min read"]}),(t.excerpt||t.content&&t.content.length>0)&&(0,r.jsx)("p",{className:n()["article-excerpt"],children:E(t)}),t.tags&&t.tags.length>0&&(0,r.jsx)("div",{className:n()["article-tags"],children:t.tags.map((e,a)=>(0,r.jsxs)(c(),{href:"/tag/".concat(e.toLowerCase()),className:n().tag,children:["#",e]},"".concat(t.slug,"-tag-").concat(a)))}),(0,r.jsxs)("div",{className:n()["reaction-bar"],children:[(0,r.jsx)("button",{className:n()["reaction-button"],"aria-label":"Like article",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})}),(0,r.jsx)("button",{className:n()["reaction-button"],"aria-label":"Share article",onClick:()=>U(t),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"})})}),(0,r.jsx)(c(),{href:"/articles?slug=".concat(encodeURIComponent(t.slug)),className:n()["read-link"],children:"Read →"})]})]})]},"".concat(e.id,"-").concat(t._id||t.slug||a)))})]},e.id)),(0,r.jsxs)("section",{className:n()["explore-section"],children:[(0,r.jsx)("h2",{className:n()["section-title"],children:"Explore by Topic"}),(0,r.jsx)("div",{className:n()["tags-selector"],children:_.map(e=>(0,r.jsx)("button",{className:"".concat(n()["tag-button"]," ").concat(f===e?n()["tag-button-active"]:""),onClick:()=>P(e),children:e},e))})]})]})]}),(0,r.jsxs)("aside",{className:n()["right-sidebar"],children:[(0,r.jsx)("h2",{className:n()["sidebar-heading"],children:"Popular Tags"}),v&&(0,r.jsx)(m.A,{}),(0,r.jsx)("div",{className:n()["tag-list"],children:_.map(e=>(0,r.jsxs)(c(),{href:"/tag/".concat(e.toLowerCase()),className:n()["trending-tag"],children:["# ",e]},e))}),(0,r.jsx)(c(),{href:"/write",className:n()["write-button"],children:"Write"})]}),y&&(0,r.jsx)(x.A,{isOpen:b,onClose:()=>{S(!1),I(null)},articleTitle:y.title,articleUrl:"https://mvp.journalite.app/articles?slug=".concat(encodeURIComponent(y.slug)),coverImageUrl:y.coverImageUrl,excerpt:y.excerpt})]})}function v(){return(0,r.jsx)(p,{})}},5959:(e,t,a)=>{Promise.resolve().then(a.bind(a,3347))},9576:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(5155),l=a(2115),s=a(2150),c=a.n(s);let i=e=>{let{articleTitle:t,articleUrl:a,isOpen:s,onClose:i,coverImageUrl:n,excerpt:o}=e,[d,h]=(0,l.useState)(!1);if((0,l.useEffect)(()=>s?(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}):void h(!1),[s]),!s)return null;let m="https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(a),"&text=").concat(encodeURIComponent(t)),u="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(a)),x="https://www.linkedin.com/shareArticle?mini=true&url=".concat(encodeURIComponent(a),"&title=").concat(encodeURIComponent(t));return(0,r.jsx)("div",{className:c().overlay,onClick:i,children:(0,r.jsxs)("div",{className:c().modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{className:c().closeButton,onClick:i,"aria-label":"Close share dialog",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("h2",{className:c().title,children:"Share this article"}),(0,r.jsxs)("div",{className:c().articlePreview,children:[n&&(0,r.jsx)("img",{src:n,alt:t,className:c().articleImage}),(0,r.jsx)("h3",{className:c().articleTitlePreview,children:t}),o&&(0,r.jsx)("p",{className:c().articleExcerptPreview,children:o})]}),(0,r.jsxs)("div",{className:c().shareActions,children:[(0,r.jsxs)("div",{className:c().copyLinkContainer,children:[(0,r.jsx)("input",{type:"text",value:a,readOnly:!0,className:c().urlInput}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(a).then(()=>{h(!0),setTimeout(()=>h(!1),2e3)}).catch(e=>{console.error("Failed to copy: ",e)})},className:c().copyButton,children:d?"Copied!":"Copy Link"})]}),(0,r.jsx)("p",{className:c().shareViaText,children:"Or share via:"}),(0,r.jsxs)("div",{className:c().socialIcons,children:[(0,r.jsx)("a",{href:m,target:"_blank",rel:"noopener noreferrer","aria-label":"Share on Twitter",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733a4.67 4.67 0 002.048-2.578 9.3 9.3 0 01-2.958 1.13 4.66 4.66 0 00-7.952 4.256c-3.873 0-7.307-2.05-9.602-4.868a4.662 4.662 0 001.443 6.225 4.656 4.656 0 01-2.11-.583v.06a4.657 4.657 0 003.734 4.562 4.634 4.634 0 01-2.105.08 4.646 4.646 0 004.34 3.225A9.342 9.342 0 010 19.539a13.186 13.186 0 007.141 2.093c8.567 0 13.255-7.098 13.255-13.254 0-.202-.005-.403-.014-.602a9.49 9.49 0 002.323-2.394z"})})}),(0,r.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer","aria-label":"Share on Facebook",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878V14.89h-2.89v-2.98h2.89v-2.28c0-2.874 1.704-4.48 4.356-4.48 1.247 0 2.31.093 2.622.134v2.596h-1.54c-1.394 0-1.666.664-1.666 1.632v2.14h2.886l-.39 2.98h-2.496v7.008C18.343 21.128 22 16.991 22 12z"})})}),(0,r.jsx)("a",{href:x,target:"_blank",rel:"noopener noreferrer","aria-label":"Share on LinkedIn",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3450,2992,7158,7117,6874,4744,4692,2091,8441,1684,7358],()=>t(5959)),_N_E=e.O()}]);