(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4425],{239:(e,t,n)=>{var r={"./en/index":8021};function a(e){return n(o(e))}function o(e){if(!n.o(r,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=239},326:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});let r={joyful:{gradientStart:"#FFD700",gradientEnd:"#FF6B6B",accent:"#FF4757"},angry:{gradientStart:"#FF416C",gradientEnd:"#FF4B2B",accent:"#B71C1C"},energetic:{gradientStart:"#00F260",gradientEnd:"#0575E6",accent:"#1565C0"},peaceful:{gradientStart:"#A8E6CF",gradientEnd:"#88D8C0",accent:"#4CAF50"},reflective:{gradientStart:"#667eea",gradientEnd:"#764ba2",accent:"#5E35B1"},sad:{gradientStart:"#4facfe",gradientEnd:"#00f2fe",accent:"#0288D1"}}},4568:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(5155),a=n(2115),o=n(3201),i=n(5317);let l=async function(e,t,n,r,a){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"insight";try{let s={articleId:e,userId:t,text:n,prefix:r,suffix:a,tag:l,createdAt:(0,i.serverTimestamp)(),comments:[],reactions:{},userReactions:{}};return(await (0,i.addDoc)((0,i.collection)(o.db,"highlights"),s)).id}catch(e){throw console.error("Error saving highlight:",e),e}},s=async(e,t)=>{try{let n=(0,i.query)((0,i.collection)(o.db,"highlights"),(0,i.where)("articleId","==",e));return t&&(n=(0,i.query)((0,i.collection)(o.db,"highlights"),(0,i.where)("articleId","==",e),(0,i.where)("userId","==",t))),(await (0,i.getDocs)(n)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error getting highlights:",e),[]}},c=async e=>{try{await (0,i.deleteDoc)((0,i.doc)(o.db,"highlights",e))}catch(e){throw console.error("Error deleting highlight:",e),e}},d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.origin;return"".concat(n,"/articles?slug=").concat(e,"#highlight=").concat(t)},g=(0,a.createContext)(void 0),h=e=>{let{children:t,articleId:n}=e,[i,d]=(0,a.useState)([]),[h,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=o.j2.onAuthStateChanged(e=>{p(e)});return()=>e()},[]),(0,a.useEffect)(()=>{(async()=>{if(n&&m){u(!0);try{let e=await s(n,m.uid);d(e)}catch(e){console.error("Error loading highlights:",e)}finally{u(!1)}}else d([]),u(!1)})()},[n,m]);let x=async(e,t,n,r,a)=>{if(!m)return alert("You must be logged in to highlight text"),null;try{let o=await l(r,m.uid,e,t,n,a),i={id:o,articleId:r,userId:m.uid,text:e,prefix:t,suffix:n,tag:a,createdAt:new Date,reactions:{},userReactions:{}};return d(e=>[...e,i]),o}catch(e){return console.error("Error saving highlight:",e),null}},b=async e=>{try{await c(e),d(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error removing highlight:",e)}};return(0,r.jsx)(g.Provider,{value:{highlights:i,loading:h,saveHighlight:x,removeHighlight:b,highlightElement:(e,t)=>{try{var n;if(!e.toString().trim())return;let r=document.createRange();r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset);let a=r.startContainer,o=r.endContainer;if(a.nodeType===Node.TEXT_NODE){let e=a.textContent||"",t=r.startOffset;for(;t>0&&/\S/.test(e.charAt(t-1));)t--;r.setStart(a,t)}if(o.nodeType===Node.TEXT_NODE){let e=o.textContent||"",t=r.endOffset;for(;t<e.length&&/\S/.test(e.charAt(t));)t++;r.setEnd(o,t)}let i=document.createElement("mark");i.className="article-highlight highlight-".concat(t);try{r.surroundContents(i)}catch(t){let e=r.extractContents();i.appendChild(e),r.insertNode(i)}null==(n=window.getSelection())||n.removeAllRanges()}catch(e){console.error("Error highlighting range:",e)}}},children:t})},u=()=>{let e=(0,a.useContext)(g);if(void 0===e)throw Error("useHighlights must be used within a HighlightProvider");return e};var m=n(7650);let p=[{tag:"insight",label:"Insight",color:"#3B82F6",icon:"\uD83D\uDCA1"},{tag:"question",label:"Question",color:"#F59E0B",icon:"❓"},{tag:"quote",label:"Quote",color:"#10B981",icon:"\uD83D\uDCAC"},{tag:"important",label:"Important",color:"#EF4444",icon:"⭐"}],x=e=>{let{selection:t,onHighlight:n,onResponse:o,onShare:i,onAiAssist:l}=e,[s,c]=(0,a.useState)({top:0,left:0}),[d,g]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!1),x=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;if(!t||t.isCollapsed){g(!1),u(!1);return}let n=t.getRangeAt(0).getBoundingClientRect();window.innerHeight;let r=(null==(e=x.current)?void 0:e.offsetHeight)||40,a=n.top-r-10+window.scrollY,o=n.left+n.width/2;c({top:a<0?n.bottom+10+window.scrollY:a,left:o}),g(!0)},[t]);let b=e=>{if(t&&!t.isCollapsed){var r;let a=t.getRangeAt(0);n(t.toString(),a,e),null==(r=window.getSelection())||r.removeAllRanges(),g(!1),u(!1)}},f=()=>{u(!h)};return d?(0,m.createPortal)((0,r.jsx)("div",{ref:x,className:"highlight-toolbar",style:{position:"absolute",top:"".concat(s.top,"px"),left:"".concat(s.left,"px"),transform:"translateX(-50%)",zIndex:1e3},children:h?(0,r.jsxs)("div",{className:"highlight-color-options",children:[(0,r.jsx)("span",{className:"highlight-color-label",children:"Choose highlight type:"}),p.map(e=>(0,r.jsxs)("button",{onClick:()=>b(e.tag),className:"highlight-color-btn",style:{backgroundColor:e.color},title:e.label,children:[(0,r.jsx)("span",{className:"highlight-icon",children:e.icon}),(0,r.jsx)("span",{className:"highlight-label",children:e.label})]},e.tag)),(0,r.jsx)("button",{onClick:f,className:"highlight-btn highlight-btn-cancel",children:"Cancel"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:f,className:"highlight-btn highlight-btn-main",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,r.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),(0,r.jsx)("span",{children:"Highlight"})]}),o&&(0,r.jsxs)("button",{onClick:()=>{if(t&&!t.isCollapsed&&o){var e;o(t.toString()),null==(e=window.getSelection())||e.removeAllRanges(),g(!1)}},className:"highlight-btn",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),(0,r.jsx)("span",{children:"Response"})]}),i&&(0,r.jsxs)("button",{onClick:()=>{if(t&&!t.isCollapsed&&i){var e;i(t.toString()),null==(e=window.getSelection())||e.removeAllRanges(),g(!1)}},className:"highlight-btn",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"18",cy:"5",r:"3"}),(0,r.jsx)("circle",{cx:"6",cy:"12",r:"3"}),(0,r.jsx)("circle",{cx:"18",cy:"19",r:"3"}),(0,r.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),(0,r.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),(0,r.jsx)("span",{children:"Share"})]}),l&&(0,r.jsxs)("button",{onClick:()=>{if(t&&!t.isCollapsed&&l){var e;l(t.toString()),null==(e=window.getSelection())||e.removeAllRanges(),g(!1)}},className:"highlight-btn",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,r.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"})]}),(0,r.jsx)("span",{children:"Journa AI"})]})]})}),document.body):null};var b=n(9576);let f=e=>{let t={prefix:"",suffix:""};if(!e||0===e.rangeCount)return t;let n=e.getRangeAt(0),r=n.toString().trim(),a=n.commonAncestorContainer,o=a.nodeType===Node.TEXT_NODE?a.parentElement:a;if(!o)return t;let i=o.textContent||"",l=r.replace(/\s+/g," "),s=i.indexOf(l);if(-1!==s){let e=Math.max(0,s-50),n=Math.min(i.length,s+l.length+50),r=i.substring(e,s),a=i.substring(s+l.length,n);r=r.replace(/^\S*\s/,""),a=a.replace(/\s\S*$/,""),t.prefix=r,t.suffix=a}return t},y=(e,t)=>{if(!e||!t)return;let n=t.querySelectorAll(".article-highlight"),r=Array.from(n).map(e=>e.getAttribute("data-highlight-id")).filter(Boolean),a=e.map(e=>e.id);r.length===a.length&&r.every(e=>a.includes(e))||(n.forEach(e=>{let t=e.parentNode;if(t){let n=document.createTextNode(e.textContent||"");t.replaceChild(n,e),t.normalize()}}),e.forEach(e=>{let n=((e,n,r)=>{let a,o=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null),i=(n+e+r).trim();for(;a=o.nextNode();){let t=(a.textContent||"").indexOf(i);if(-1!==t){let r=document.createRange(),o=n.trim().length;return r.setStart(a,t+o),r.setEnd(a,t+o+e.trim().length),r}}return null})(e.text,e.prefix,e.suffix);if(n)try{let t=document.createElement("mark");t.className="article-highlight highlight-".concat(e.tag||"insight"),t.dataset.highlightId=e.id,n.surroundContents(t)}catch(e){console.error("Error applying highlight:",e)}}))},_=e=>{let{articleId:t,children:n,articleTitle:o="Article",articleSlug:i="",onShare:l}=e,[s,c]=(0,a.useState)(null),{highlights:g,saveHighlight:h,removeHighlight:m,highlightElement:p}=u(),[_,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[j,S]=(0,a.useState)(""),[C,N]=(0,a.useState)(!1),[A,E]=(0,a.useState)(""),[T,B]=(0,a.useState)(null),[F,M]=(0,a.useState)(!1),[L,I]=(0,a.useState)(!1),[z,R]=(0,a.useState)({top:0,left:0}),[P,Q]=(0,a.useState)(!1),[D,W]=(0,a.useState)(""),H=(0,a.useCallback)(()=>{I(!0),setTimeout(()=>{M(!1),I(!1)},150)},[]),O=(0,a.useCallback)(()=>{if(F)return;let e=window.getSelection();e&&!e.isCollapsed&&""!==e.toString().trim()?c(e):c(null)},[F]),U=(0,a.useCallback)((e,n,r)=>{if(e&&n){let a=f(window.getSelection());h(e.trim(),a.prefix,a.suffix,t,r),p(n,r)}},[t,h,p]),q=(0,a.useCallback)(e=>{let t=e.target;if(t.classList.contains("article-highlight")){e.preventDefault(),e.stopPropagation();let n=t.dataset.highlightId,r=t.textContent||"";if(n){I(!1),B({id:n,text:r});let e=t.getBoundingClientRect();R({top:e.top-40+window.scrollY,left:e.left+e.width/2}),M(!0),c(null)}}else F&&(H(),B(null))},[F,H]),Y=(0,a.useCallback)(()=>{if(T&&T.id){H();let e=T.id;if(B(null),m(e),_){let t=_.querySelector('[data-highlight-id="'.concat(e,'"]'));if(t&&t.parentNode){let e=document.createTextNode(t.textContent||"");t.parentNode.replaceChild(e,t),t.parentNode.normalize()}}}},[T,m,_,H]),Z=(0,a.useCallback)(e=>{S(e),k(!0)},[]),X=(0,a.useCallback)(e=>{W(e),Q(!0)},[]),J=(0,a.useCallback)(e=>{E(e),N(!0)},[]);(0,a.useEffect)(()=>(document.addEventListener("selectionchange",O),()=>{document.removeEventListener("selectionchange",O)}),[O]),(0,a.useEffect)(()=>{if(_)return _.addEventListener("click",q),()=>{_.removeEventListener("click",q)}},[_,q]),(0,a.useEffect)(()=>{let e=e=>{if(F){let t=e.target;t.closest(".highlight-toolbar")||t.classList.contains("article-highlight")||(H(),B(null))}};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[F,H]),(0,a.useEffect)(()=>{if(_&&g.length>0){let e=setTimeout(()=>{y(g,_)},50);return()=>clearTimeout(e)}},[g,_]);let $=(0,a.useCallback)(e=>{e&&e!==_&&v(e)},[_]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{selection:s,onHighlight:U,onResponse:Z,onShare:X,onAiAssist:J}),F&&T&&(0,r.jsxs)("div",{className:"highlight-toolbar unhighlight-toolbar ".concat(L?"hiding":""),style:{position:"absolute",top:"".concat(z.top,"px"),left:"".concat(z.left,"px"),transform:L?"translateY(-10px) translateX(-50%)":"translateX(-50%)",zIndex:1e3},children:[(0,r.jsxs)("button",{onClick:Y,className:"highlight-btn highlight-btn-danger",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),(0,r.jsx)("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),(0,r.jsx)("line",{x1:"12",y1:"9",x2:"18",y2:"15"})]}),(0,r.jsx)("span",{children:"Unhighlight"})]}),(0,r.jsxs)("button",{onClick:()=>{X(T.text),H()},className:"highlight-btn",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"18",cy:"5",r:"3"}),(0,r.jsx)("circle",{cx:"6",cy:"12",r:"3"}),(0,r.jsx)("circle",{cx:"18",cy:"19",r:"3"}),(0,r.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),(0,r.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),(0,r.jsx)("span",{children:"Share"})]}),(0,r.jsxs)("button",{onClick:()=>{Z(T.text),H()},className:"highlight-btn",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),(0,r.jsx)("span",{children:"Response"})]})]}),(0,r.jsx)("div",{ref:$,className:"article-highlight-container",children:n}),w&&(0,r.jsx)("div",{className:"highlight-response-modal",children:(0,r.jsxs)("div",{className:"highlight-modal-content",children:[(0,r.jsx)("button",{className:"highlight-modal-close",onClick:()=>k(!1),children:"\xd7"}),(0,r.jsx)("h3",{children:"Respond to highlighted text"}),(0,r.jsxs)("div",{className:"highlight-selected-text",children:['"',j,'"']}),(0,r.jsx)("textarea",{className:"highlight-response-input",placeholder:"Write your response..."}),(0,r.jsx)("button",{className:"highlight-response-submit",children:"Submit"})]})}),C&&(0,r.jsx)("div",{className:"highlight-ai-modal",children:(0,r.jsxs)("div",{className:"highlight-modal-content",children:[(0,r.jsx)("button",{className:"highlight-modal-close",onClick:()=>N(!1),children:"\xd7"}),(0,r.jsx)("h3",{children:"Journa AI"}),(0,r.jsxs)("div",{className:"highlight-selected-text",children:['"',A,'"']}),(0,r.jsxs)("div",{className:"highlight-ai-options",children:[(0,r.jsx)("button",{children:"Explain this"}),(0,r.jsx)("button",{children:"Fact check"}),(0,r.jsx)("button",{children:"Provide context"}),(0,r.jsx)("button",{children:"Summarize"})]}),(0,r.jsx)("div",{className:"highlight-ai-response",children:(0,r.jsx)("div",{className:"highlight-ai-loading",children:"Journa AI is thinking..."})})]})}),P&&(0,r.jsx)(b.A,{isOpen:P,onClose:()=>Q(!1),highlightText:D,articleTitle:o,shareUrl:d(i,t)})]})};var v=n(7036),w=n.n(v);async function k(e){let t="".concat("http://127.0.0.1:5001","/api/prototype/v1/article/").concat(e),n=await fetch(t);if(!n.ok)throw Error("Failed to fetch article: ".concat(n.status," ").concat(n.statusText));return n.json()}var j=n(3241),S=n.n(j);function C(){return(0,a.useEffect)(()=>{let e=document.createElement("script");return e.textContent="\n// Simple syntax highlighting without external dependencies\nfunction highlightCode() {\n  const codeBlocks = document.querySelectorAll('pre code');\n  \n  codeBlocks.forEach(codeBlock => {\n    const pre = codeBlock.parentElement;\n    if (!pre) return;\n    \n    // Apply dark theme\n    pre.style.backgroundColor = '#1e1e1e';\n    pre.style.color = '#d4d4d4';\n    pre.style.border = '1px solid #333';\n    pre.style.borderRadius = '8px';\n    pre.style.padding = '16px';\n    pre.style.fontFamily = \"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace\";\n    pre.style.fontSize = '14px';\n    pre.style.lineHeight = '1.6';\n    pre.style.overflowX = 'auto';\n    pre.style.position = 'relative';\n    \n    const code = codeBlock.textContent || '';\n    let highlightedCode = code;\n    \n    // Basic JavaScript/TypeScript highlighting\n    highlightedCode = highlightedCode\n      // Keywords\n      .replace(/\\b(const|let|var|function|class|interface|type|enum|import|export|from|as|return|if|else|for|while|switch|case|break|default|try|catch|finally|async|await|new|this|extends|implements|private|public|protected|static|get|set|super|void|yield)\\b/g, '<span style=\"color: #569cd6; font-weight: 500;\">$1</span>')\n      \n      // Strings\n      .replace(/(['\"`])((?:\\\\.|(?!\\1)[^\\\\\\r\\n])*?)\\1/g, '<span style=\"color: #ce9178;\">$1$2$1</span>')\n      \n      // Numbers\n      .replace(/\\b(\\d+(?:\\.\\d+)?)\\b/g, '<span style=\"color: #b5cea8;\">$1</span>')\n      \n      // Comments\n      .replace(/(//.*?)$/gm, '<span style=\"color: #6a9955; font-style: italic;\">$1</span>')\n      .replace(/(/\\*[\\s\\S]*?\\*/)/g, '<span style=\"color: #6a9955; font-style: italic;\">$1</span>')\n      \n      // Functions\n      .replace(/([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\(/g, '<span style=\"color: #dcdcaa;\">$1</span>(')\n      \n      // Types/Classes (capitalized words)\n      .replace(/\\b([A-Z][a-zA-Z0-9_]*)\\b/g, '<span style=\"color: #4ec9b0;\">$1</span>')\n      \n      // Operators\n      .replace(/([=!<>+\\-*/%&|^~?:;,.])/g, '<span style=\"color: #d4d4d4;\">$1</span>');\n    \n    codeBlock.innerHTML = highlightedCode;\n    \n    // Add language indicator if available\n    let language = 'code';\n    const classNames = codeBlock.className.split(' ');\n    for (const className of classNames) {\n      if (className.startsWith('language-')) {\n        language = className.replace('language-', '');\n        break;\n      }\n    }\n    \n    if (pre.hasAttribute('data-language')) {\n      language = pre.getAttribute('data-language');\n    }\n    \n    // Add language badge\n    const badge = document.createElement('div');\n    badge.textContent = language.toUpperCase();\n    badge.style.position = 'absolute';\n    badge.style.top = '8px';\n    badge.style.right = '12px';\n    badge.style.background = 'rgba(255, 255, 255, 0.1)';\n    badge.style.color = '#a0a0a0';\n    badge.style.padding = '2px 8px';\n    badge.style.borderRadius = '4px';\n    badge.style.fontSize = '12px';\n    badge.style.fontWeight = '500';\n    badge.style.letterSpacing = '0.5px';\n    pre.appendChild(badge);\n  });\n}\n\n// Run when DOM is loaded\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', highlightCode);\n} else {\n  highlightCode();\n}\n\n// Also run on dynamic content changes\nconst observer = new MutationObserver(() => {\n  setTimeout(highlightCode, 100);\n});\n\nobserver.observe(document.body, {\n  childList: true,\n  subtree: true\n});\n",document.head.appendChild(e),()=>{try{document.head.removeChild(e)}catch(e){}}},[]),null}n(8042),n(5802),n(7846),n(1280),n(8496),n(941),n(3523),n(4495),n(1177),n(1990),n(3686),n(642),n(7867),n(3337),n(3435),n(1055),n(2103),n(255),n(9829),n(656);var N=n(7041),A=n(326);let E=e=>{let{articleId:t,initialHtml:o,isAuthenticated:i=!1,moodFeatureEnabled:l=!0,onToggleMoodFeature:s,articleTitle:c="Article",articleSlug:d=""}=e,[g,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(!o),[x,b]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[E,T]=(0,a.useState)(0),[B,F]=(0,a.useState)(""),[M,L]=(0,a.useState)(""),[I,z]=(0,a.useState)(!1),[R,P]=(0,a.useState)(!1),[Q,D]=(0,a.useState)("reflective"),W=(0,a.useRef)(null),H=["How does this make you feel?","What questions does this raise for you?","How does this connect to your own experiences?","What would you have done differently?","What surprises you most about this?","How might this change your perspective?","What emotions are you experiencing right now?","What does this remind you of?","If you could ask the author one question, what would it be?","How does this challenge your existing beliefs?"],O=e=>{let t=e.toLowerCase(),n=[];return(t.includes("technology")||t.includes("innovation")||t.includes("digital")||t.includes("business"))&&(n.push("How might this technology impact your daily life?"),n.push("What are the potential risks and benefits you see?")),(t.includes("government")||t.includes("policy")||t.includes("president")||t.includes("election"))&&(n.push("How do you think this policy might affect different communities?"),n.push("What would you propose as an alternative approach?")),(t.includes("health")||t.includes("medical")||t.includes("research")||t.includes("study"))&&(n.push("How reliable do you think this research is?"),n.push("How might this affect healthcare decisions?")),(t.includes("environment")||t.includes("climate")||t.includes("energy")||t.includes("sustainability"))&&(n.push("What actions could you personally take based on this information?"),n.push("How do you balance environmental concerns with other priorities?")),(t.includes("education")||t.includes("school")||t.includes("learning")||t.includes("student"))&&(n.push("How does this compare to your own educational experience?"),n.push("What changes would you make to improve this system?")),(t.includes("social")||t.includes("community")||t.includes("justice")||t.includes("equality"))&&(n.push("What role do you think individuals should play in addressing this issue?"),n.push("How might different communities view this differently?")),n},U=()=>[...H,...O(X())],q=()=>{let e=U();return e[E%e.length]};(0,a.useEffect)(()=>{y(i)},[i]),(0,a.useEffect)(()=>{v&&!M&&L(q())},[v,E]),(0,a.useEffect)(()=>{W.current&&(o||g)&&setTimeout(()=>{W.current&&W.current.querySelectorAll("pre code").forEach(e=>{let t=e.parentElement,n="javascript";for(let t of e.className.split(" "))if(t.startsWith("language-")){n=t.replace("language-","");break}if(t.hasAttribute("data-language")&&(n=t.getAttribute("data-language")),S().languages[n])try{let r=e.textContent||"";e.innerHTML=S().highlight(r,S().languages[n],n),t.setAttribute("data-language",n),t.style.position="relative"}catch(e){console.warn("Syntax highlighting failed for language:",n,e)}})},100)},[o,g]),(0,a.useEffect)(()=>{let e=X();if(e){let t=e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();t&&D((0,N.H)(t))}},[o,g]);let Y=async()=>{if(B.trim()){P(!0);try{console.log("Starting reflection submission:",{articleId:t,currentPrompt:M,currentReflection:B,reflectionCount:E});let{saveReflectionResponse:e}=await Promise.resolve().then(n.bind(n,9122));await e(t,"prompt_".concat(Date.now()),M,B,E,!0),console.log("Reflection saved successfully:",{articleId:t,prompt:M,response:B,count:E+1}),T(e=>e+1),F(""),L(""),z(!1),j(!1)}catch(e){console.error("Error saving reflection:",e),alert("Error saving reflection. Please try again.")}finally{P(!1)}}},Z=()=>{z(!1)};(0,a.useEffect)(()=>{o||g||(async()=>{try{p(!0);let e=await k(t);if(!e)return void b("Article not found");let n="",r=("string"==typeof e.content?e.content:e.content.map(e=>"<p>".concat(e.text,"</p>")).join("\n")).replace(/<div[^>]*>Content is loaded from HTML<\/div>/g,"").replace(/<h1[^>]*>Untitled Article<\/h1>/g,"");u({title:e.title,body:r})}catch(e){console.error("Error loading article:",e),b("Failed to load article")}finally{p(!1)}})()},[t,g,o]);let X=()=>o?o.replace(/<div[^>]*>Content is loaded from HTML<\/div>/g,"").replace(/<h1[^>]*>Untitled Article<\/h1>/g,""):(null==g?void 0:g.body)||"";return m?(0,r.jsxs)("div",{className:w().loadingContainer,children:[(0,r.jsx)("div",{className:w().loadingIndicator}),(0,r.jsx)("p",{children:"Loading article..."})]}):x?(0,r.jsx)("div",{className:w().errorContainer,children:(0,r.jsx)("p",{className:w().errorMessage,children:x})}):(0,r.jsxs)(h,{articleId:t,children:[(0,r.jsx)(C,{}),(0,r.jsxs)("article",{className:w().articleContainer,children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",margin:"1rem 0",padding:"1rem",backgroundImage:i?"linear-gradient(270deg, ".concat(A.Q[Q].gradientStart,", ").concat(A.Q[Q].gradientEnd,")"):"linear-gradient(270deg, #9CA3AF, #6B7280)",backgroundSize:"200% 200%",animation:"slideGradient 8s ease infinite alternate",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",fontSize:"0.875rem"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,r.jsx)("span",{style:{color:"#F7FAFC",fontWeight:"500",fontSize:"0.875rem",opacity:.9},children:i?"\uD83C\uDFA8 Atmosphere adapted":"\uD83D\uDD12 Sign in for enhanced features"}),i&&(0,r.jsxs)("span",{style:{color:"#F7FAFC",fontWeight:"600",fontSize:"0.875rem"},children:["✨ Reflections saved: ",E]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,r.jsx)("span",{style:{color:"#F7FAFC",fontWeight:"500",fontSize:"0.75rem"},children:"Mood Background"}),(0,r.jsx)("button",{onClick:i&&s?()=>s(!l):void 0,style:{padding:"0.4rem 0.8rem",border:"none",background:i&&l?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)",color:i&&l?A.Q[Q].accent:"#F7FAFC",borderRadius:"20px",fontSize:"0.7rem",fontWeight:"600",cursor:i?"pointer":"not-allowed",transition:"all 0.3s ease",boxShadow:i&&l?"0 2px 8px rgba(255, 255, 255, 0.3)":"0 1px 4px rgba(0, 0, 0, 0.1)",transform:"scale(1)",backdropFilter:"blur(10px)",opacity:i?1:.6},onMouseEnter:e=>{i&&(e.currentTarget.style.transform="scale(1.05)")},onMouseLeave:e=>{i&&(e.currentTarget.style.transform="scale(1)")},children:i&&l?"ON":"OFF"}),(0,r.jsx)("span",{style:{color:"#F7FAFC",fontWeight:"500"},children:"Interactive Reflections"}),(0,r.jsx)("button",{onClick:i?()=>y(!f):void 0,style:{padding:"0.6rem 1.2rem",border:"none",background:i&&f?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)",color:i&&f?A.Q[Q].accent:"#F7FAFC",borderRadius:"25px",fontSize:"0.75rem",fontWeight:"600",cursor:i?"pointer":"not-allowed",transition:"all 0.3s ease",boxShadow:i&&f?"0 4px 15px rgba(255, 255, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)",transform:"scale(1)",backdropFilter:"blur(10px)",opacity:i?1:.6},onMouseEnter:e=>{i&&(e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.background=f?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.3)")},onMouseLeave:e=>{i&&(e.currentTarget.style.transform="scale(1)",e.currentTarget.style.background=f?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)")},children:i&&f?"ON":"OFF"})]})]}),(0,r.jsxs)(_,{articleId:t,articleTitle:c,articleSlug:d,onShare:e=>{if(navigator.share)navigator.share({title:(null==g?void 0:g.title)||"Shared highlight",text:'"'.concat(e,'" - from article ').concat(t),url:window.location.href}).catch(e=>console.error("Error sharing:",e));else{let n='"'.concat(e,'" - from article ').concat(t," ").concat(window.location.href);navigator.clipboard.writeText(n).then(()=>alert("Highlight copied to clipboard!")).catch(e=>console.error("Error copying to clipboard:",e))}},children:[(0,r.jsx)("div",{className:w().articleContent,children:(0,r.jsx)("div",{ref:W,dangerouslySetInnerHTML:{__html:X()}})}),f&&(0,r.jsx)("button",{onClick:()=>{f&&(j(!v),v||(F(""),L(q()),z(!1)))},style:{position:"fixed",bottom:"40px",right:"40px",width:"56px",height:"56px",borderRadius:"50%",background:v?"linear-gradient(135deg, #1d4ed8, #7c3aed)":"linear-gradient(135deg, #3b82f6, #8b5cf6)",border:"none",boxShadow:v?"0 8px 25px rgba(59, 130, 246, 0.4), 0 0 0 2px rgba(59, 130, 246, 0.2)":"0 6px 20px rgba(59, 130, 246, 0.3)",cursor:"pointer",zIndex:1e3,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",transform:v?"scale(1.05)":"scale(1)",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.1)",e.currentTarget.style.boxShadow="0 8px 30px rgba(59, 130, 246, 0.5), 0 0 0 3px rgba(59, 130, 246, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform=v?"scale(1.05)":"scale(1)",e.currentTarget.style.boxShadow=v?"0 8px 25px rgba(59, 130, 246, 0.4), 0 0 0 2px rgba(59, 130, 246, 0.2)":"0 6px 20px rgba(59, 130, 246, 0.3)"},title:v?"Close reflection":"Open reflection",children:v?"✕":"✍️"}),v&&f&&(0,r.jsxs)("div",{style:{position:"fixed",bottom:"110px",right:"40px",width:"380px",maxHeight:"500px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",zIndex:999,animation:"gentleSlideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1)",padding:"24px",overflow:"hidden"},children:[(0,r.jsx)("style",{children:"\n                  @keyframes gentleSlideUp {\n                    from {\n                      opacity: 0;\n                      transform: translateY(20px) scale(0.98);\n                    }\n                    to {\n                      opacity: 1;\n                      transform: translateY(0) scale(1);\n                    }\n                  }\n                "}),(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"80px",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(139, 92, 246, 0.08))",borderRadius:"24px 24px 0 0",zIndex:-1}}),(0,r.jsxs)("div",{style:{marginBottom:"20px",textAlign:"center"},children:[(0,r.jsx)("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"600",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Time to Reflect ✨"}),(0,r.jsx)("div",{style:{position:"relative"},children:I?(0,r.jsx)("input",{type:"text",value:M,onChange:e=>L(e.target.value),onBlur:Z,onKeyDown:e=>{"Enter"===e.key&&Z(),"Escape"===e.key&&(L(q()),z(!1))},autoFocus:!0,style:{width:"100%",padding:"8px 12px",border:"2px solid #3b82f6",borderRadius:"12px",background:"white",fontSize:"14px",textAlign:"center",outline:"none"}}):(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",flexWrap:"wrap"},children:[(0,r.jsx)("p",{onClick:()=>{z(!0)},style:{margin:0,fontSize:"14px",color:"#64748b",fontWeight:"500",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(59, 130, 246, 0.1)",e.currentTarget.style.color="#3b82f6"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#64748b"},title:"Click to edit question",children:M}),(0,r.jsx)("button",{onClick:()=>{let e=U(),t=Math.floor(Math.random()*e.length);L(e[t])},style:{background:"rgba(59, 130, 246, 0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",fontSize:"12px",color:"#3b82f6",cursor:"pointer",fontWeight:"500"},title:"Get different question",children:"\uD83C\uDFB2"})]})})]}),(0,r.jsx)("textarea",{value:B,onChange:e=>F(e.target.value),placeholder:"Share your thoughts...",style:{width:"100%",height:"120px",padding:"16px",border:"2px solid transparent",borderRadius:"16px",background:"rgba(248, 250, 252, 0.8)",fontSize:"14px",fontFamily:"inherit",resize:"none",outline:"none",transition:"all 0.3s ease",boxShadow:"inset 0 2px 8px rgba(0, 0, 0, 0.05)",marginBottom:"20px"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.background="rgba(255, 255, 255, 0.9)",e.target.style.boxShadow="inset 0 2px 8px rgba(0, 0, 0, 0.05), 0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor="transparent",e.target.style.background="rgba(248, 250, 252, 0.8)",e.target.style.boxShadow="inset 0 2px 8px rgba(0, 0, 0, 0.05)"}}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,r.jsx)("button",{onClick:()=>j(!1),style:{padding:"10px 18px",border:"none",borderRadius:"16px",background:"rgba(148, 163, 184, 0.2)",color:"#64748b",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(148, 163, 184, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(148, 163, 184, 0.2)"},children:"Skip"}),(0,r.jsx)("button",{onClick:Y,disabled:!B.trim()||R,style:{padding:"10px 20px",border:"none",borderRadius:"16px",background:B.trim()?"linear-gradient(135deg, #3b82f6, #8b5cf6)":"rgba(148, 163, 184, 0.3)",color:"white",fontSize:"14px",fontWeight:"600",cursor:B.trim()?"pointer":"not-allowed",transition:"all 0.3s ease",boxShadow:B.trim()?"0 4px 15px rgba(59, 130, 246, 0.4)":"none",opacity:R?.7:1},onMouseEnter:e=>{B.trim()&&!R&&(e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.5)")},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=B.trim()?"0 4px 15px rgba(59, 130, 246, 0.4)":"none"},children:R?"Saving...":"Save Reflection"})]})]})]})]})]})}},5377:e=>{e.exports={commentSection:"comment_commentSection__SP_jS",commentSectionTitle:"comment_commentSectionTitle__F_Jxe",commentError:"comment_commentError__A2v6U",commentForm:"comment_commentForm__U8b7X",commentInputContainer:"comment_commentInputContainer__3WsSp",loginPromptContainer:"comment_loginPromptContainer__X4aZr",commentAvatar:"comment_commentAvatar__uav6Q",replyAvatar:"comment_replyAvatar__dIlrw",commentInput:"comment_commentInput__4DHa1",replyInput:"comment_replyInput__8t_ho",commentSubmit:"comment_commentSubmit__UfvUF",replySubmit:"comment_replySubmit__2eCP7",loginButton:"comment_loginButton__4encR",loginModalOverlay:"comment_loginModalOverlay__Pk_AM",loginModal:"comment_loginModal__n984X",loginModalClose:"comment_loginModalClose__v02Rx",loginModalTitle:"comment_loginModalTitle__nZpZB",loginModalText:"comment_loginModalText__XwRn6",loginModalButtons:"comment_loginModalButtons__XdVNl",loginModalButton:"comment_loginModalButton__d8Bnr",primary:"comment_primary__1UIRJ",secondary:"comment_secondary__zc89j",commentLoading:"comment_commentLoading___WYvK",loadingDots:"comment_loadingDots___Lw2B",loadingDot:"comment_loadingDot__skUEk",pulse:"comment_pulse__czQlg",noComments:"comment_noComments__U9FG6",commentsList:"comment_commentsList__ZRMbc",commentItem:"comment_commentItem__Vx48l",commentHeader:"comment_commentHeader__3oOD6",commentUser:"comment_commentUser__QP5pY",commentDate:"comment_commentDate__5zfpn",commentContent:"comment_commentContent__DiE8h",commentActions:"comment_commentActions___Wpzi",commentLikeBtn:"comment_commentLikeBtn__wAYZO",replyToggle:"comment_replyToggle__bCRZg",commentDeleteBtn:"comment_commentDeleteBtn__BnLQc",liked:"comment_liked__2yWZ9",repliesToggle:"comment_repliesToggle__yepDc",repliesToggleIcon:"comment_repliesToggleIcon__EZRkK",open:"comment_open__cpLDc",replySection:"comment_replySection__mAqn4",replyItem:"comment_replyItem__ndhqf",replyHeader:"comment_replyHeader__Y2bUK",replyUser:"comment_replyUser__rw4V8",replyDate:"comment_replyDate__4Jafb",replyContent:"comment_replyContent__uV2jp",replyForm:"comment_replyForm__aYyum",inThread:"comment_inThread__lUoKT",replyButtons:"comment_replyButtons__KRGyv",replyCancel:"comment_replyCancel__od7Vq"}},6016:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(5155),a=n(2115),o=n(6874),i=n.n(o),l=n(3201),s=n(6203),c=n(9210),d=n(326),g=n(5377),h=n.n(g);let u=e=>{let{slug:t,articleId:n,isComplex:o,mood:g="reflective",moodFeatureEnabled:u=!1}=e,[m,p]=(0,a.useState)([]),[x,b]=(0,a.useState)(!0),[f,y]=(0,a.useState)(""),[_,v]=(0,a.useState)(""),[w,k]=(0,a.useState)(!1),[j,S]=(0,a.useState)(!1),[C,N]=(0,a.useState)(null),[A,E]=(0,a.useState)(""),[T,B]=(0,a.useState)(!1),[F,M]=(0,a.useState)({}),[L,I]=(0,a.useState)(!1),[z,R]=(0,a.useState)(!1),[P,Q]=(0,a.useState)(n||null),[D,W]=(0,a.useState)({id:"",name:"Reader"});(0,a.useEffect)(()=>{let e=(0,s.hg)(l.j2,e=>{let t=!!e;if(I(t),t&&e){var n;W({id:e.uid,name:e.displayName||(null==(n=e.email)?void 0:n.split("@")[0])||"User"})}else W({id:"",name:"Reader"})});return()=>e()},[]),(0,a.useEffect)(()=>{if(n)return void Q(n);t&&(async()=>{try{let e=await (0,c.l6)(t);e&&e.id&&Q(e.id)}catch(e){console.error("Error fetching article:",e),y("Unable to load article details.")}})()},[t,n]),(0,a.useEffect)(()=>{P&&(b(!0),(async()=>{try{let e=await (0,c.fz)(P);setTimeout(()=>{p(e),b(!1)},800)}catch(e){console.error("Error fetching comments:",e),y("Unable to load discussions. Please refresh the page to try again."),b(!1)}})())},[P]);let H=async e=>{if(e.preventDefault(),_.trim()&&!w&&P){if(!L)return void R(!0);try{k(!0);let e=await (0,c.BC)(P,_);p(t=>[e,...t]),v(""),k(!1),S(!1)}catch(e){console.error("Error adding comment:",e),y("Your response could not be posted. Please try again."),k(!1)}}},O=async e=>{if(A.trim()&&!T&&P){if(!L)return void R(!0);try{B(!0);let t=await (0,c.Oe)(P,e,A);p(n=>n.map(n=>n.commentId===e||n.id===e?{...n,replies:[...n.replies||[],t]}:n)),E(""),N(null),B(!1),M(t=>({...t,[e]:!0}))}catch(e){console.error("Error adding reply:",e),B(!1)}}},U=async e=>{if(!L||!P)return void R(!0);try{let t=await (0,c.tT)(P,e);p(n=>n.map(n=>n.commentId===e||n.id===e?{...n,likes:t.likes}:n))}catch(e){console.error("Error liking comment:",e)}},q=async e=>{if(L&&P)try{await (0,c.Tu)(P,e),p(t=>t.filter(t=>t.commentId!==e&&t.id!==e))}catch(e){console.error("Error deleting comment:",e)}},Y=e=>{M(t=>({...t,[e]:!t[e]}))},Z=e=>{if(!e)return"Unknown date";let t=e.toDate?e.toDate():new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);if(n<60)return"Just now";if(n<3600){let e=Math.floor(n/60);return"".concat(e," ").concat(1===e?"minute":"minutes"," ago")}if(n<86400){let e=Math.floor(n/3600);return"".concat(e," ").concat(1===e?"hour":"hours"," ago")}if(n<604800){let e=Math.floor(n/86400);return"".concat(e," ").concat(1===e?"day":"days"," ago")}try{return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})}catch(e){return console.error("Error formatting date:",e),"Unknown date"}},X=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(null==e?void 0:e.charAt(0).toUpperCase())||"A",o=["#4f46e5","#0ea5e9","#10b981","#f59e0b","#ef4444"],i=t?Math.abs(t.charCodeAt(0)%o.length):0,l=o[i];return(0,r.jsx)("div",{className:n?h().replyAvatar:h().commentAvatar,style:{backgroundColor:l,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:n?"0.9rem":"1.2rem"},children:a})};return(0,r.jsxs)("section",{className:h().commentSection,style:u?{background:"linear-gradient(160deg, \n          rgba(255, 255, 255, 0.1) 0%, \n          ".concat(d.Q[g].gradientStart,"08 30%, \n          ").concat(d.Q[g].gradientEnd,"06 70%, \n          rgba(255, 255, 255, 0.05) 100%)"),borderRadius:"32px",border:"1px solid ".concat(d.Q[g].gradientStart,"12"),boxShadow:"\n          0 8px 32px -8px ".concat(d.Q[g].gradientStart,"08,\n          inset 0 1px 0 rgba(255, 255, 255, 0.1)\n        "),backdropFilter:"blur(20px) saturate(1.1)",transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",padding:"2rem"}:{},children:[u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{position:"absolute",top:"-50%",left:"-50%",right:"-50%",bottom:"-50%",background:"\n                radial-gradient(circle at 30% 20%, ".concat(d.Q[g].gradientStart,"04, transparent 40%), \n                radial-gradient(circle at 70% 80%, ").concat(d.Q[g].gradientEnd,"03, transparent 40%),\n                radial-gradient(circle at 20% 70%, ").concat(d.Q[g].gradientStart,"02, transparent 30%)\n              "),animation:"moodFloat 20s ease-in-out infinite",pointerEvents:"none",zIndex:0}}),(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"32px",background:"linear-gradient(45deg, \n                ".concat(d.Q[g].gradientStart,"05, \n                transparent, \n                ").concat(d.Q[g].gradientEnd,"05)"),filter:"blur(1px)",opacity:.6,pointerEvents:"none",zIndex:0}})]}),(0,r.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,r.jsx)("h2",{className:h().commentSectionTitle,style:u?{color:d.Q[g].accent,fontWeight:"600",marginBottom:"1.5rem",textShadow:"0 0 20px ".concat(d.Q[g].gradientStart,"30, 0 0 40px ").concat(d.Q[g].gradientStart,"15"),transition:"all 0.3s ease"}:{fontWeight:"600",marginBottom:"1.5rem",color:"#333"},children:"\uD83D\uDCAC Join the Discussion"}),f&&(0,r.jsxs)("div",{className:h().commentError,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,r.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),f]}),(0,r.jsx)("form",{className:h().commentForm,onSubmit:H,children:(0,r.jsx)("div",{className:h().commentInputContainer,style:u?{background:"linear-gradient(135deg, \n              rgba(255, 255, 255, ".concat(j?"0.15":"0.08","), \n              ").concat(d.Q[g].gradientStart).concat(j?"12":"06",", \n              ").concat(d.Q[g].gradientEnd).concat(j?"08":"04",")"),border:"1px solid ".concat(d.Q[g].gradientStart).concat(j?"25":"15"),borderRadius:"24px",boxShadow:j?"0 8px 32px -4px ".concat(d.Q[g].gradientStart,"20, \n                 inset 0 1px 0 rgba(255, 255, 255, 0.2)"):"0 4px 16px -4px ".concat(d.Q[g].gradientStart,"10"),backdropFilter:"blur(12px)",transform:j?"translateY(-2px)":"translateY(0)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"}:{opacity:j?1:.85,transition:"opacity 0.3s ease"},children:L?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:h().commentAvatar,children:X(D.name,D.id)}),(0,r.jsx)("textarea",{className:h().commentInput,placeholder:"Share your thoughts...",value:_,onChange:e=>v(e.target.value),onFocus:()=>S(!0),onBlur:()=>{_.trim()||S(!1)},style:u?{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"20px",color:"#2d3748",fontSize:"1rem",padding:"1rem",resize:"vertical",minHeight:"120px",backdropFilter:"blur(8px)",transition:"all 0.3s ease"}:{}}),(0,r.jsx)("button",{className:h().commentSubmit,type:"submit",disabled:!_.trim()||w,style:u?{background:"linear-gradient(135deg, \n                    ".concat(d.Q[g].accent,", \n                    ").concat(d.Q[g].gradientEnd,")"),border:"none",color:"white",borderRadius:"20px",fontWeight:"600",padding:"0.75rem 1.5rem",boxShadow:"0 4px 16px -4px ".concat(d.Q[g].accent,"40"),transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)",cursor:"pointer"}:{},onMouseEnter:u?e=>{e.currentTarget.disabled||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 24px -4px ".concat(d.Q[g].accent,"60"))}:void 0,onMouseLeave:u?e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px -4px ".concat(d.Q[g].accent,"40")}:void 0,children:w?"✨ Posting...":"\uD83D\uDCAC Post"})]}):(0,r.jsxs)("div",{className:h().loginPromptContainer,onClick:()=>R(!0),children:[(0,r.jsx)("textarea",{className:h().commentInput,placeholder:"Login to join the discussion...",disabled:!0}),(0,r.jsx)("button",{className:"".concat(h().commentSubmit," ").concat(h().loginButton),type:"button",onClick:()=>R(!0),children:"Login to comment"})]})})}),z&&(0,r.jsx)("div",{className:h().loginModalOverlay,onClick:()=>R(!1),children:(0,r.jsxs)("div",{className:h().loginModal,onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{className:h().loginModalClose,onClick:()=>R(!1),children:"\xd7"}),(0,r.jsx)("h3",{className:h().loginModalTitle,children:"Join the conversation"}),(0,r.jsx)("p",{className:h().loginModalText,children:"Sign in to Journalite to share your thoughts and join the discussion."}),(0,r.jsxs)("div",{className:h().loginModalButtons,children:[(0,r.jsx)(i(),{href:"/login",className:"".concat(h().loginModalButton," ").concat(h().primary),children:"Log In"}),(0,r.jsx)(i(),{href:"/register",className:"".concat(h().loginModalButton," ").concat(h().secondary),children:"Create Account"})]})]})}),x?(0,r.jsxs)("div",{className:h().commentLoading,style:u?{background:"linear-gradient(135deg, \n              rgba(255, 255, 255, 0.1), \n              ".concat(d.Q[g].gradientStart,"06)"),borderRadius:"24px",padding:"2rem",backdropFilter:"blur(10px)",border:"1px solid ".concat(d.Q[g].gradientStart,"10"),textAlign:"center"}:{},children:[(0,r.jsx)("p",{style:u?{color:d.Q[g].accent,fontWeight:"500",marginBottom:"1rem"}:{},children:"✨ Loading comments..."}),(0,r.jsxs)("div",{className:h().loadingDots,children:[(0,r.jsx)("div",{className:h().loadingDot,style:u?{background:d.Q[g].gradientStart}:{}}),(0,r.jsx)("div",{className:h().loadingDot,style:u?{background:d.Q[g].accent}:{}}),(0,r.jsx)("div",{className:h().loadingDot,style:u?{background:d.Q[g].gradientEnd}:{}})]})]}):0===m.length?(0,r.jsx)("div",{className:h().noComments,style:u?{background:"linear-gradient(135deg, \n              rgba(255, 255, 255, 0.15) 0%, \n              ".concat(d.Q[g].gradientStart,"08 50%, \n              ").concat(d.Q[g].gradientEnd,"06 100%)"),border:"1px solid ".concat(d.Q[g].gradientStart,"12"),borderRadius:"24px",boxShadow:"\n              0 6px 24px -8px ".concat(d.Q[g].gradientStart,"10,\n              inset 0 1px 0 rgba(255, 255, 255, 0.12)\n            "),backdropFilter:"blur(12px)",color:d.Q[g].accent,fontWeight:"500",padding:"2rem",textAlign:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}:{},children:"Be the first to share your thoughts on this article."}):(0,r.jsx)("div",{className:h().commentsList,children:m.map(e=>{let t=e.commentId||e.id||"";return(0,r.jsxs)("div",{className:h().commentItem,style:u?{background:"linear-gradient(135deg, \n                    rgba(255, 255, 255, 0.12) 0%, \n                    ".concat(d.Q[g].gradientStart,"06 50%, \n                    ").concat(d.Q[g].gradientEnd,"04 100%)"),border:"1px solid ".concat(d.Q[g].gradientStart,"10"),borderRadius:"24px",boxShadow:"\n                    0 4px 20px -6px ".concat(d.Q[g].gradientStart,"08,\n                    inset 0 1px 0 rgba(255, 255, 255, 0.1)\n                  "),backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"}:{},onMouseEnter:u?e=>{e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="\n                    0 8px 28px -6px ".concat(d.Q[g].gradientStart,"12,\n                    inset 0 1px 0 rgba(255, 255, 255, 0.15)\n                  ")}:void 0,onMouseLeave:u?e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="\n                    0 4px 20px -6px ".concat(d.Q[g].gradientStart,"08,\n                    inset 0 1px 0 rgba(255, 255, 255, 0.1)\n                  ")}:void 0,children:[(0,r.jsxs)("div",{className:h().commentHeader,children:[X(e.userName,e.userId),(0,r.jsx)("span",{className:h().commentUser,children:e.userName}),(0,r.jsx)("span",{className:h().commentDate,children:Z(e.createdAt)})]}),(0,r.jsx)("div",{className:h().commentContent,children:e.content}),(0,r.jsxs)("div",{className:h().commentActions,children:[(0,r.jsxs)("button",{className:"".concat(h().commentLikeBtn," ").concat(e.likes.includes(D.id)?h().liked:""),onClick:()=>U(t),"aria-pressed":e.likes.includes(D.id),"aria-label":e.likes.includes(D.id)?"Unlike comment":"Like comment",children:[e.likes.includes(D.id)?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),(0,r.jsx)("span",{children:e.likes.length>0?e.likes.length:""})]}),(0,r.jsxs)("button",{className:h().replyToggle,onClick:()=>{L?N(C===t?null:t):R(!0)},"aria-label":"Reply to comment",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),(0,r.jsx)("span",{children:"Reply"})]}),e.userId===D.id&&(0,r.jsxs)("button",{className:h().commentDeleteBtn,onClick:()=>q(t),"aria-label":"Delete comment",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09.996-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),(0,r.jsx)("span",{children:"Delete"})]})]}),e.replies&&e.replies.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{className:h().repliesToggle,onClick:()=>Y(t),children:[(0,r.jsx)("span",{className:"".concat(h().repliesToggleIcon," ").concat(F[t]?h().open:""),children:"▷"}),"".concat(e.replies.length," ").concat(1===e.replies.length?"reply":"replies")]}),F[t]&&(0,r.jsx)("div",{className:h().replySection,children:e.replies.map(e=>(0,r.jsxs)("div",{className:h().replyItem,style:u?{background:"linear-gradient(135deg, \n                                rgba(255, 255, 255, 0.08) 0%, \n                                ".concat(d.Q[g].gradientStart,"04 50%, \n                                ").concat(d.Q[g].gradientEnd,"03 100%)"),border:"1px solid ".concat(d.Q[g].gradientStart,"08"),borderRadius:"20px",boxShadow:"\n                                0 2px 12px -4px ".concat(d.Q[g].gradientStart,"06,\n                                inset 0 1px 0 rgba(255, 255, 255, 0.08)\n                              "),backdropFilter:"blur(8px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",margin:"0.75rem 0",padding:"1rem"}:{},onMouseEnter:u?e=>{e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.boxShadow="\n                                0 4px 16px -4px ".concat(d.Q[g].gradientStart,"10,\n                                inset 0 1px 0 rgba(255, 255, 255, 0.12)\n                              ")}:void 0,onMouseLeave:u?e=>{e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.boxShadow="\n                                0 2px 12px -4px ".concat(d.Q[g].gradientStart,"06,\n                                inset 0 1px 0 rgba(255, 255, 255, 0.08)\n                              ")}:void 0,children:[(0,r.jsxs)("div",{className:h().replyHeader,children:[X(e.userName,e.userId,!0),(0,r.jsx)("span",{className:h().replyUser,children:e.userName}),(0,r.jsx)("span",{className:h().replyDate,children:Z(e.createdAt)})]}),(0,r.jsx)("div",{className:h().replyContent,children:e.content})]},e.replyId))})]}),C===t&&(0,r.jsxs)("div",{className:"".concat(h().replyForm," ").concat(e.replies&&e.replies.length>0?h().inThread:""),style:u?{background:"linear-gradient(135deg, \n                        rgba(255, 255, 255, 0.1) 0%, \n                        ".concat(d.Q[g].gradientStart,"06 50%, \n                        ").concat(d.Q[g].gradientEnd,"04 100%)"),border:"1px solid ".concat(d.Q[g].gradientStart,"12"),borderRadius:"20px",boxShadow:"0 3px 16px -4px ".concat(d.Q[g].gradientStart,"08"),backdropFilter:"blur(10px)",padding:"1.5rem",margin:"1rem 0"}:{},children:[(0,r.jsx)("textarea",{className:h().replyInput,placeholder:"Write a reply...",value:A,onChange:e=>E(e.target.value),style:u?{background:"rgba(255, 255, 255, 0.08)",border:"1px solid ".concat(d.Q[g].gradientStart,"10"),borderRadius:"16px",backdropFilter:"blur(6px)",color:"#2d3748",padding:"1rem",fontSize:"0.95rem"}:{}}),(0,r.jsxs)("div",{className:h().replyButtons,children:[(0,r.jsx)("button",{className:h().replyCancel,onClick:()=>{N(null),E("")},style:u?{background:"rgba(255, 255, 255, 0.1)",border:"1px solid ".concat(d.Q[g].gradientStart,"15"),borderRadius:"12px",color:d.Q[g].accent,padding:"0.5rem 1rem",transition:"all 0.3s ease"}:{},children:"Cancel"}),(0,r.jsx)("button",{className:h().replySubmit,disabled:!A.trim()||T,onClick:()=>O(t),style:u?{background:"linear-gradient(135deg, \n                            ".concat(d.Q[g].accent,", \n                            ").concat(d.Q[g].gradientEnd,")"),border:"none",borderRadius:"12px",color:"white",fontWeight:"600",padding:"0.5rem 1rem",boxShadow:"0 2px 8px -2px ".concat(d.Q[g].accent,"40"),transition:"all 0.3s ease"}:{},children:T?"✨ Posting...":"\uD83D\uDCAC Post Reply"})]})]})]},t)})})]})]})}},7036:e=>{e.exports={articleContainer:"ArticleWithHighlights_articleContainer__r1hgP",articleContent:"ArticleWithHighlights_articleContent__qrFhS",loadingContainer:"ArticleWithHighlights_loadingContainer__6cqbO",loadingIndicator:"ArticleWithHighlights_loadingIndicator__ymNyj",spin:"ArticleWithHighlights_spin__Olepl",errorContainer:"ArticleWithHighlights_errorContainer__njqpS",errorMessage:"ArticleWithHighlights_errorMessage__D4C7O"}},7041:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var r=n(7347),a=n.n(r);function o(e){let t=new(a())().analyze(e),n=e.toLowerCase(),r=["angry","furious","rage","mad","hate","disgusted","outraged","pissed","frustrated","livid","infuriated","enraged","trump","politician","corrupt","stupid","idiot","terrible","awful","worst","disgusting","pathetic"].filter(e=>n.includes(e)).length,o=["happy","joy","excited","amazing","wonderful","fantastic","great","awesome","brilliant","excellent","perfect","beautiful","love","celebrate","triumph","success","victory","delighted","cheerful","blissful"].filter(e=>n.includes(e)).length,i=["calm","peaceful","serene","tranquil","gentle","soothing","quiet","meditation","zen","harmony","balance","nature","garden","sunset","ocean","mindful","breathe","stillness"].filter(e=>n.includes(e)).length,l=["energy","power","strong","dynamic","intense","passionate","vibrant","bold","fierce","electric","explosive","powerful","charged","pumped","motivated","driven"].filter(e=>n.includes(e)).length,s=["sad","depressed","melancholy","grief","sorrow","tragic","heartbreak","crying","tears","lonely","despair","hopeless","miserable","devastated","broken"].filter(e=>n.includes(e)).length;return r>=2||r>=1&&t.score<-2?"angry":o>=2||o>=1&&t.score>3?"joyful":i>=2||i>=1&&t.score>0?"peaceful":l>=2||l>=1&&Math.abs(t.score)>2?"energetic":s>=2||s>=1&&t.score<-1?"sad":t.score>2?"joyful":t.score<-3?"angry":t.score<-1?"sad":"reflective"}},8501:e=>{e.exports={articlePageContainer:"ArticlePage_articlePageContainer__S9vO3",pageHeader:"ArticlePage_pageHeader__LpJc9",headerContainer:"ArticlePage_headerContainer__2_FTv",logoLink:"ArticlePage_logoLink__fMNNv",headerLogo:"ArticlePage_headerLogo__QZCOB",headerActions:"ArticlePage_headerActions__gK7Eo",profileMenu:"ArticlePage_profileMenu__LJeQ0",profileCircle:"ArticlePage_profileCircle__mpTwC",profileDropdown:"ArticlePage_profileDropdown__PnV9R",dropdownItem:"ArticlePage_dropdownItem__Lac2v",authButtons:"ArticlePage_authButtons__R_ANg",loginButton:"ArticlePage_loginButton__kpUQh",signupButton:"ArticlePage_signupButton__EvVWG",pageContainer:"ArticlePage_pageContainer__7QNUg",relatedTagsSection:"ArticlePage_relatedTagsSection__SvZ8y",relatedTagsHeading:"ArticlePage_relatedTagsHeading__Ys9Op",relatedTagsList:"ArticlePage_relatedTagsList__Xn3ds",relatedTag:"ArticlePage_relatedTag__DEwLe",writeButton:"ArticlePage_writeButton__yZp3x",articleHeader:"ArticlePage_articleHeader__LJolV",articleTitle:"ArticlePage_articleTitle__euOmw",articleMeta:"ArticlePage_articleMeta__LXXWl",authorInfo:"ArticlePage_authorInfo__nnMSs",authorAvatar:"ArticlePage_authorAvatar__1S1bM",authorDetails:"ArticlePage_authorDetails__65w4B",authorNameLink:"ArticlePage_authorNameLink__c6fCN",authorName:"ArticlePage_authorName__o2DdL",articleDetails:"ArticlePage_articleDetails__mK6k_",articleActions:"ArticlePage_articleActions__IZLcw",editButton:"ArticlePage_editButton__Yl62q",tagContainer:"ArticlePage_tagContainer__kI5Py",tag:"ArticlePage_tag__F5Z0e",likeButton:"ArticlePage_likeButton__V0q84",liked:"ArticlePage_liked__Mzzkj",likeIcon:"ArticlePage_likeIcon__zOA_O",commentsContainer:"ArticlePage_commentsContainer__rpCTJ",loadingContainer:"ArticlePage_loadingContainer__v7RVf",loadingIndicator:"ArticlePage_loadingIndicator__E2bt3",spin:"ArticlePage_spin__yRZnI",errorContainer:"ArticlePage_errorContainer__pxRgD",errorMessage:"ArticlePage_errorMessage__quACi",editingHeader:"ArticlePage_editingHeader__nzcMi",cancelButton:"ArticlePage_cancelButton__V2ihM"}},9576:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5155),a=n(9137),o=n.n(a),i=n(2115),l=n(7650);let s=e=>{let{isOpen:t,onClose:n,highlightText:a,articleTitle:s,shareUrl:c}=e,[d,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(d){let e=setTimeout(()=>g(!1),3e3);return()=>clearTimeout(e)}},[d]),(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,n]);let h=async()=>{try{await navigator.clipboard.writeText(c),g(!0)}catch(e){console.error("Failed to copy link:",e)}},u=async()=>{if(navigator.share)try{await navigator.share({title:'Highlight from "'.concat(s,'"'),text:'"'.concat(a,'" - from "').concat(s,'"'),url:c}),n()}catch(e){"AbortError"!==e.name&&console.error("Error sharing:",e)}};return('"'.concat(a,'" - from "').concat(s,'"'),t)?(0,l.createPortal)((0,r.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},onClick:n,className:"jsx-8795408d21c696e",children:[(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"100%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",position:"relative",animation:"modalSlideIn 0.3s ease-out"},onClick:e=>e.stopPropagation(),className:"jsx-8795408d21c696e",children:[(0,r.jsx)("button",{onClick:n,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6B7280",padding:"0.25rem",borderRadius:"0.375rem",transition:"color 0.2s ease"},onMouseOver:e=>e.currentTarget.style.color="#374151",onMouseOut:e=>e.currentTarget.style.color="#6B7280",className:"jsx-8795408d21c696e",children:"\xd7"}),(0,r.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"jsx-8795408d21c696e",children:[(0,r.jsx)("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:"600",color:"#1F2937"},className:"jsx-8795408d21c696e",children:"✨ Share Highlight"}),(0,r.jsxs)("p",{style:{margin:0,color:"#6B7280",fontSize:"0.875rem"},className:"jsx-8795408d21c696e",children:['Share this highlight from "',s,'"']})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#F9FAFB",border:"2px solid #E5E7EB",borderRadius:"0.75rem",padding:"1.25rem",marginBottom:"1.5rem"},className:"jsx-8795408d21c696e",children:[(0,r.jsxs)("div",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#374151",fontStyle:"italic",marginBottom:"0.75rem"},className:"jsx-8795408d21c696e",children:['"',a,'"']}),(0,r.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6B7280",fontWeight:"500"},className:"jsx-8795408d21c696e",children:['— from "',s,'"']})]}),(0,r.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"jsx-8795408d21c696e",children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},className:"jsx-8795408d21c696e",children:"Share Link"}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},className:"jsx-8795408d21c696e",children:[(0,r.jsx)("input",{type:"text",value:c,readOnly:!0,style:{flex:1,padding:"0.75rem",border:"1px solid #D1D5DB",borderRadius:"0.5rem",fontSize:"0.875rem",backgroundColor:"#F9FAFB",fontFamily:"monospace"},className:"jsx-8795408d21c696e"}),(0,r.jsx)("button",{onClick:h,style:{padding:"0.75rem 1rem",backgroundColor:d?"#10B981":"#3B82F6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",whiteSpace:"nowrap"},className:"jsx-8795408d21c696e",children:d?"✓ Copied!":"\uD83D\uDCCB Copy"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},className:"jsx-8795408d21c696e",children:["undefined"!=typeof navigator&&"share"in navigator&&(0,r.jsx)("button",{onClick:u,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6366F1",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s ease",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#5B21B6",onMouseOut:e=>e.currentTarget.style.backgroundColor="#6366F1",className:"jsx-8795408d21c696e",children:"\uD83D\uDCE4 Share"}),(0,r.jsx)("button",{onClick:n,style:{padding:"0.75rem 1.5rem",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#E5E7EB",onMouseOut:e=>e.currentTarget.style.backgroundColor="#F3F4F6",className:"jsx-8795408d21c696e",children:"Close"})]})]}),(0,r.jsx)(o(),{id:"8795408d21c696e",children:"@-webkit-keyframes modalSlideIn{from{opacity:0;-webkit-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-moz-keyframes modalSlideIn{from{opacity:0;-moz-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95)}to{opacity:1;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-o-keyframes modalSlideIn{from{opacity:0;-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95)}to{opacity:1;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@keyframes modalSlideIn{from{opacity:0;-webkit-transform:translatey(-20px)scale(.95);-moz-transform:translatey(-20px)scale(.95);-o-transform:translatey(-20px)scale(.95);transform:translatey(-20px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}"})]}),document.body):null}}}]);