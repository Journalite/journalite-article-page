(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{2608:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(2115),n=s(5695),l=s(6874),u=s.n(l),o=s(3201),i=s(6203),c=s(4744);function d(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[d,m]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[S,g]=(0,a.useState)(""),[b,x]=(0,a.useState)(""),[p,v]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[j,w]=(0,a.useState)(!1),[E,P]=(0,a.useState)(null),[k,C]=(0,a.useState)(!1),[_,R]=(0,a.useState)({}),[O,T]=(0,a.useState)({}),[H,B]=(0,a.useState)(!1),[F,G]=(0,a.useState)(!1),[M,Q]=(0,a.useState)(!0),[V,q]=(0,a.useState)(""),[z,A]=(0,a.useState)(""),[D,I]=(0,a.useState)(""),[J,K]=(0,a.useState)(""),L=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=(0,i.hg)(o.j2,async e=>{if(e){t(e);try{let t=await (0,c.VM)(e.uid);t?(l(t),m(t.interests||[]),g(t.firstName||""),x(t.lastName||""),v(t.username||""),N(t.bio||""),t.username&&U(t.username,!0)):q("Could not load your profile. Please try again.")}catch(e){console.error("Error fetching profile:",e),q("Failed to load profile data.")}}else L.push("/login");Q(!1)});return()=>e()},[L]);let U=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length<2)return void P(null);w(!0);try{let r=await (0,c.OQ)(e);t&&s&&e===s.username?P(!0):P(!r)}catch(e){console.error("Error checking username:",e),P(null),A("Could not verify username. Please try again.")}finally{w(!1)}};return((0,a.useEffect)(()=>{if(!s||p===s.username||p.length<2){p.length<2&&p!==((null==s?void 0:s.username)||"")&&P(null);return}let e=setTimeout(()=>{U(p)},500);return()=>clearTimeout(e)},[p,s]),M)?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-stone-100 to-amber-100 flex items-center justify-center font-sans",children:(0,r.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-amber-500 rounded-full border-t-transparent"})}):e&&s?(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Settings"}),(0,r.jsx)("p",{children:"This is the settings page. Content will be loaded dynamically."}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(u(),{href:"/",className:"text-blue-500 hover:underline",children:"Back to Home"})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-stone-100 to-amber-100 flex flex-col items-center justify-center p-4 font-sans",children:[(0,r.jsx)("p",{className:"text-red-600",children:V||"Could not load user data. Please try refreshing."}),(0,r.jsx)(u(),{href:"/",className:"mt-4 px-4 py-2 bg-stone-700 text-white rounded-md hover:bg-stone-600",children:"Go to Homepage"})]})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},8197:(e,t,s)=>{Promise.resolve().then(s.bind(s,2608))}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7158,7117,6874,4744,8441,1684,7358],()=>t(8197)),_N_E=e.O()}]);