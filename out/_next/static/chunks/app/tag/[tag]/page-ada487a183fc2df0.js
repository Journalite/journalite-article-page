(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6296],{177:(e,a,s)=>{"use strict";s.d(a,{default:()=>g});var n=s(5155),t=s(2115),c=s(6874),l=s.n(c),r=s(8163),i=s.n(r),o=s(3201),d=s(6203),h=s(350),m=s(9478),u=s(9210);let x=e=>({_id:e.id||"",title:e.title,slug:e.slug||"",authorId:e.authorId,authorName:e.authorName||"Unknown Author",coverImageUrl:e.coverImage,tags:e.tags,content:[{paragraphId:"p1",text:e.body,likes:[],comments:[]}],likes:[],reposts:[],comments:[],createdAt:e.createdAt.toDate().toISOString(),updatedAt:e.createdAt.toDate().toISOString()}),N=e=>e.authorName||"Unknown Author",j=e=>{let a=Math.ceil((e?e.split(/\s+/).length:0)/200);return a<1?1:a},v=e=>{let a=e.content&&e.content.length>0?e.content[0].text:e.excerpt||"",s=a.includes("<")&&a.includes(">")?(e=>{let a=document.createElement("div");return a.innerHTML=e,a.textContent||a.innerText||""})(a):a;return s.length>150?s.substring(0,150)+"...":s};function g(e){let{tag:a}=e,[s,c]=(0,t.useState)([]),[r,g]=(0,t.useState)(!0),[p,f]=(0,t.useState)(null),[b,k]=(0,t.useState)(!1),[w,C]=(0,t.useState)(!1),[E,S]=(0,t.useState)(0);(0,t.useEffect)(()=>{let e=(0,d.hg)(o.j2,e=>{k(!!e)});return()=>e()},[]),(0,t.useEffect)(()=>{S(window.innerWidth);let e=()=>{S(window.innerWidth),window.innerWidth<768&&C(!0)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),(0,t.useEffect)(()=>{(async()=>{if(!a){f("No tag specified"),g(!1);return}try{let e=await (0,u.S1)(a);if(0===e.length){c([]),g(!1);return}let s=e.map(x);c(s),g(!1)}catch(e){console.error("Error fetching articles by tag:",e),f("Failed to load articles"),g(!1)}})()},[a]);let y=async()=>{try{await (0,d.CI)(o.j2)}catch(e){console.error("Error signing out:",e)}},A=()=>{C(!w)},I=a?a.charAt(0).toUpperCase()+a.slice(1):"";return(0,n.jsxs)("div",{className:i()["three-column-layout"],children:[E<768&&!w&&(0,n.jsx)("div",{className:"".concat(i()["menu-overlay"]," ").concat(i().active),onClick:A}),(0,n.jsx)(m.A,{isAuthenticated:b,handleLogout:y,toggleSidebar:A,isSidebarCollapsed:w}),E<768&&(0,n.jsx)("button",{className:i()["toggle-button"],onClick:A,"aria-label":w?"Expand sidebar":"Collapse sidebar",children:w?"☰":"✕"}),(0,n.jsxs)("main",{className:i()["center-column"],children:[(0,n.jsx)("div",{className:i()["tag-header"],children:(0,n.jsxs)("h1",{children:["Articles tagged with ",(0,n.jsxs)("span",{className:i().highlight,children:["#",I]})]})}),r?(0,n.jsx)("div",{className:i().loading,children:"Loading articles..."}):p?(0,n.jsxs)("div",{className:i().loading,children:["Error: ",p]}):0===s.length?(0,n.jsxs)("div",{className:i()["no-results"],children:[(0,n.jsx)("p",{children:"No articles found with this tag."}),(0,n.jsx)(l(),{href:"/",className:i()["back-link"],children:"Back to home"})]}):(0,n.jsx)("div",{className:i()["article-grid"],children:s.map((e,a)=>(0,n.jsxs)("article",{className:i()["article-card"],children:[(0,n.jsx)("h3",{className:i()["article-title"],children:e.title}),(0,n.jsxs)("div",{className:i()["article-meta"],children:["by ",N(e)," • ",j(e.content[0].text)," min read"]}),(0,n.jsx)("p",{className:i()["article-excerpt"],children:v(e)}),e.tags&&e.tags.length>0&&(0,n.jsx)("div",{className:i()["article-tags"],children:e.tags.map((a,s)=>(0,n.jsxs)(l(),{href:"/tag/".concat(a.toLowerCase()),className:i().tag,children:["#",a]},"".concat(e.slug,"-tag-").concat(s)))}),(0,n.jsxs)("div",{className:i()["reaction-bar"],children:[(0,n.jsx)("button",{className:i()["reaction-button"],children:"❤️ Echo"}),(0,n.jsx)("button",{className:i()["reaction-button"],children:"\uD83D\uDD01 Resonate"}),(0,n.jsx)("button",{className:i()["reaction-button"],children:"\uD83D\uDCAC Comment"}),(0,n.jsx)(l(),{href:"/articles?slug=".concat(encodeURIComponent(e.slug)),className:i()["read-link"],children:"Read →"})]})]},e._id||e.slug||"article-".concat(a)))})]}),(0,n.jsxs)("aside",{className:i()["right-sidebar"],children:[(0,n.jsx)("h2",{className:i()["sidebar-heading"],children:"About this tag"}),b&&(0,n.jsx)(h.A,{}),(0,n.jsx)("div",{className:i()["tag-description"],children:(0,n.jsxs)("p",{children:["Browsing articles tagged with ",(0,n.jsxs)("strong",{children:["#",I]}),". Discover content related to this topic."]})}),(0,n.jsxs)(l(),{href:"/write",className:i()["write-button"],children:["Write about #",I]}),(0,n.jsx)(l(),{href:"/",className:i()["back-link"],children:"Back to Home"})]})]})}},4815:(e,a,s)=>{Promise.resolve().then(s.bind(s,177))},9478:(e,a,s)=>{"use strict";s.d(a,{A:()=>m});var n=s(5155),t=s(2115),c=s(6874),l=s.n(c),r=s(8163),i=s.n(r),o=s(4744);let d=()=>{let[e,a]=(0,t.useState)(""),[s,c]=(0,t.useState)([]),[r,d]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),u=(0,t.useRef)(null),x=(0,t.useRef)(null);return(0,t.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&u.current&&!u.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{let a=setTimeout(async()=>{if(e.trim().length>=2){d(!0);try{let a=await (0,o.x5)(e);c(a),m(!0)}catch(e){console.error("Error searching users:",e)}finally{d(!1)}}else c([]),m(!1)},300);return()=>clearTimeout(a)},[e]),(0,n.jsxs)("div",{className:i().searchContainer,children:[(0,n.jsxs)("div",{className:i().searchInputWrapper,children:[(0,n.jsx)("input",{type:"text",ref:u,className:i().searchInput,placeholder:"Search users by name or username...",value:e,onChange:e=>{a(e.target.value)},onFocus:()=>{e.trim().length>=2&&s.length>0&&m(!0)}}),r&&(0,n.jsx)("div",{className:i().searchLoading,children:"Searching..."})]}),h&&s.length>0&&(0,n.jsx)("div",{ref:x,className:i().searchResults,children:s.map(e=>(0,n.jsxs)(l(),{href:"/user/".concat(encodeURIComponent(e.username.toLowerCase())),className:i().searchResultItem,onClick:()=>m(!1),children:[(0,n.jsxs)("div",{className:i().userAvatar,children:[e.firstName.charAt(0),e.lastName.charAt(0)]}),(0,n.jsxs)("div",{className:i().userInfo,children:[(0,n.jsxs)("div",{className:i().userName,children:[e.firstName," ",e.lastName]}),(0,n.jsxs)("div",{className:i().userUsername,children:["@",e.username]})]})]},e.uid))}),h&&e.trim().length>=2&&0===s.length&&(0,n.jsx)("div",{className:i().searchResults,children:(0,n.jsxs)("div",{className:i().noResults,children:['No users found matching "',e,'"']})})]})},h=()=>(0,n.jsx)("div",{className:i().searchBarContainer,children:(0,n.jsx)(d,{})}),m=e=>{let{isAuthenticated:a,handleLogout:s,toggleSidebar:t,isSidebarCollapsed:c}=e;return(0,n.jsxs)("aside",{className:"".concat(i()["left-sidebar"]," ").concat(c?i().collapsed:""),children:[(0,n.jsxs)("div",{className:i()["sidebar-header"],children:[(0,n.jsx)("div",{className:i().logo,children:"Journalite"}),(0,n.jsx)("button",{className:i()["toggle-button"],onClick:t,"aria-label":c?"Expand sidebar":"Collapse sidebar",children:c?"→":"←"})]}),(0,n.jsx)("div",{className:i().sidebarSearch,children:(0,n.jsx)(h,{})}),(0,n.jsx)("nav",{className:i()["vertical-nav"],children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l(),{href:"/",className:"".concat(i()["nav-link"]," ").concat(i()["nav-home"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Home"})]}),(0,n.jsxs)(l(),{href:"/my-thoughts",className:"".concat(i()["nav-link"]," ").concat(i()["nav-thoughts"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"My Thoughts"})]}),(0,n.jsxs)(l(),{href:"/create-article",className:"".concat(i()["nav-link"]," ").concat(i()["nav-create"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Create Article"})]}),(0,n.jsxs)(l(),{href:"/explore",className:"".concat(i()["nav-link"]," ").concat(i()["nav-explore"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Explore"})]}),(0,n.jsxs)(l(),{href:"/my-profile",className:"".concat(i()["nav-link"]," ").concat(i()["nav-profile"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"My Profile"})]}),(0,n.jsxs)(l(),{href:"/settings",className:"".concat(i()["nav-link"]," ").concat(i()["nav-settings"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Settings"})]}),(0,n.jsxs)(l(),{href:"/notifications",className:"".concat(i()["nav-link"]," ").concat(i()["nav-notifications"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Notifications"})]}),(0,n.jsxs)(l(),{href:"https://journalite.app/",className:"".concat(i()["nav-link"]," ").concat(i()["nav-learn-more"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Learn More"})]}),(0,n.jsxs)("button",{onClick:s,className:"".concat(i()["nav-link"]," ").concat(i()["nav-logout"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Log out"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l(),{href:"/",className:"".concat(i()["nav-link"]," ").concat(i()["nav-home"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Home"})]}),(0,n.jsxs)(l(),{href:"/login",className:"".concat(i()["nav-link"]," ").concat(i()["nav-login"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Login"})]}),(0,n.jsxs)(l(),{href:"https://journalite.app/",className:"".concat(i()["nav-link"]," ").concat(i()["nav-learn-more"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Learn More"})]}),(0,n.jsxs)(l(),{href:"/plans",className:"".concat(i()["nav-link"]," ").concat(i()["nav-plans"]),children:[(0,n.jsx)("span",{className:i()["nav-icon"],children:"•"}),(0,n.jsx)("span",{className:i()["nav-text"],children:"Plans"})]})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[5607,2992,7158,7117,6874,4744,1251,8441,1684,7358],()=>a(4815)),_N_E=e.O()}]);